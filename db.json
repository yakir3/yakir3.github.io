{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/next/source/404.html","path":"404.html","modified":0,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/next/source/images/background.jpeg","path":"images/background.jpeg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16.png","path":"images/favicon-16x16.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32.png","path":"images/favicon-32x32.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo-next.svg","path":"images/logo-next.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/anime.min.js","path":"lib/anime.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/schemes/pisces.js","path":"js/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/LICENSE","path":"lib/pace/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/README.md","path":"lib/pace/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flat-top.min.css","path":"lib/pace/pace-theme-flat-top.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-material.min.css","path":"lib/pace/pace-theme-material.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/all.min.css","path":"lib/font-awesome/css/all.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/webfonts/fa-brands-400.woff2","path":"lib/font-awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/webfonts/fa-regular-400.woff2","path":"lib/font-awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/webfonts/fa-solid-900.woff2","path":"lib/font-awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0}],"Cache":[{"_id":"source/_data/footer.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1651584022236},{"_id":"source/_posts/阿里云-ram与sts权限/ram3.png","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1651584022283},{"_id":"source/404/index.md","hash":"bb00422f1004441ddcb23bda7dd78198c5eba1d6","modified":1651584022236},{"_id":"source/CNAME","hash":"89a60143a40fb48970cd2bc5fa2adfca41893dfb","modified":1651584022236},{"_id":"source/_posts/First-Article.md","hash":"d51dec81dbea0d7b99ee1a1a7d7038b2b6fcfb35","modified":1651584022236},{"_id":"source/_data/styles.styl","hash":"5464f2cffbf3c43f263b50e9b78295ecfd0e4f3f","modified":1651584022236},{"_id":"source/_data/variables.styl","hash":"299faf0840683fe8c7dd03a6b5a1a19b17a78a50","modified":1651584022236},{"_id":"source/_posts/git-flow-工作流理解.md","hash":"ec3cf775893097964c1d5daf57f91e1d8b1bdbea","modified":1651672058242},{"_id":"source/_posts/k8s-rbac权限控制.md","hash":"34eda83d8393c0c2b326e23adddb637ae2d55199","modified":1651584022236},{"_id":"source/_posts/阿里云-ram与sts权限.md","hash":"74efe4001f27b2d086190d058e34e183749b47c0","modified":1651584022280},{"_id":"source/_posts/networkpolicy隔离策略.md","hash":"55e7a74d281c317ebe72038704c944aad81a6a45","modified":1651584022250},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知.md","hash":"65fcc74843f0d92e86d3fa90e25e82f20bf9e197","modified":1651584022255},{"_id":"source/about/index.md","hash":"ffe179638a71cebe2e2d690fa0ef257e8980b5f6","modified":1651584022289},{"_id":"source/categories/index.md","hash":"bb2c12cfe473b1b2307363df8645fd8f0765fbda","modified":1651584022289},{"_id":"source/tags/index.md","hash":"84321ecec46e86680db98ff973026bb4a4347d93","modified":1651584022289},{"_id":"source/musiclist/index.md","hash":"5559c04d7214d767e6d72a5b02b9f8fb1ff06ef1","modified":1651584022289},{"_id":"source/_posts/git-flow-工作流理解/gf3.png","hash":"e7d9aa0ab06fc65ae32203b98a354baa1cace26e","modified":1651670077948},{"_id":"source/_posts/k8s-rbac权限控制/634be995b5bc.png","hash":"9f543f1ed29803038c5466b3046b48f4f46bb412","modified":1651584022239},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/2.png","hash":"756e78903b14556b0235e5f6f37fc7e0ac639370","modified":1651584022271},{"_id":"source/_posts/networkpolicy隔离策略/2afdc3d69fa9.png","hash":"ee2ec4d29d2516159aeeea040d6f7ddc5f07718f","modified":1651584022251},{"_id":"source/_posts/git-flow-工作流理解/gf12.png","hash":"0a5e4f151242bc29662a43161454b7f2d161458d","modified":1651670077945},{"_id":"source/_posts/git-flow-工作流理解/gf15.png","hash":"54182efd66a40daa1d36b580052edbb296cd8ab2","modified":1651670077947},{"_id":"source/_posts/git-flow-工作流理解/gf8.png","hash":"07444a7a4bbe315081f434a30678f0cc39ba2474","modified":1651670077952},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/10.png","hash":"98ebeaf917ff2eaa08e1461eb93ff99b8bbac6cd","modified":1651584022257},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/8.png","hash":"368f23564344b0e005ccd37d8979488b72214257","modified":1651584022279},{"_id":"source/_posts/git-flow-工作流理解/gf4.png","hash":"29ca4a085f45728fc270a44e40cd151adfba1a8a","modified":1651670077950},{"_id":"source/_posts/git-flow-工作流理解/gf5.png","hash":"2c349dd6d441189d569759b2152fb4f71e77791d","modified":1651670077950},{"_id":"source/_posts/k8s-rbac权限控制/1572c2ebc891.png","hash":"57f775f88760fdcea12d1143ec21d682960c9e52","modified":1651584022237},{"_id":"source/_posts/k8s-rbac权限控制/c31775e8bbe3.png","hash":"a58d8da564b0b4a01447cb0521bbd4198fd3bea2","modified":1651584022242},{"_id":"source/_posts/k8s-rbac权限控制/ab8f20ce2acc.png","hash":"af7e38d63e99daa064a42d7f0777863c01eb49b6","modified":1651584022241},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/1.png","hash":"63c1e5df5faa1a140d3054728da94b29cf70cb75","modified":1651584022256},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/3.png","hash":"bd5b4a8679b5b6bb03cf4a6848b3116ea2db722a","modified":1651584022272},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/16.png","hash":"3c5c7cf44aeb7a025d21e6ebd96c204d91c65bcb","modified":1651584022266},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/5.png","hash":"fcee6b78b57dac400c5bb2fa82c5446140504ad1","modified":1651584022275},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/6.png","hash":"82f9cea0d6b7b8a86c1efffd9addf06172c465ab","modified":1651584022276},{"_id":"source/_posts/阿里云-ram与sts权限/ram6.png","hash":"781469a74ebe155ab4a9ca08eb0023482ff3297e","modified":1651584022287},{"_id":"source/_posts/阿里云-ram与sts权限/ram2.png","hash":"99f25eec2df909cc9e07d7195c342624b50d58d8","modified":1651584022283},{"_id":"source/_posts/阿里云-ram与sts权限/ram8.png","hash":"740b8967bcc256d5247207e83af79e11221d24be","modified":1651584022289},{"_id":"source/_posts/git-flow-工作流理解/gf6.png","hash":"8447116a852a91d68acd947993405b6cf415381d","modified":1651670077951},{"_id":"source/_posts/k8s-rbac权限控制/de4222775e67.png","hash":"99be909dcafe21213c13265bd3636ade2f77a415","modified":1651584022249},{"_id":"source/_posts/k8s-rbac权限控制/gaisu.png","hash":"c58ef01e18142f1ce637217762542a73367e483e","modified":1651584022250},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/11.png","hash":"dcc4ad85ab1f4edbc0aa094b53b1d0e8493d8c88","modified":1651584022258},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/9.png","hash":"7f74a9f47a2d9d83fc82b884b17b8c93a1d05924","modified":1651584022280},{"_id":"source/_posts/阿里云-ram与sts权限/ram1.png","hash":"3f81fb567b165494d7b1eb1b25c052bda32c742a","modified":1651584022282},{"_id":"source/_posts/阿里云-ram与sts权限/ram5.png","hash":"b2c5cf28a5480294fabfca8db9f717d6d6487b66","modified":1651584022286},{"_id":"source/_posts/阿里云-ram与sts权限/ram7.png","hash":"043b10ad0217c47f6835bbcb7b9d5f5a9cd5f988","modified":1651584022288},{"_id":"source/_posts/networkpolicy隔离策略/6bbe6aab7201.png","hash":"93e7a9dd7e4b7efe65eceb19d9ca28fba17950a7","modified":1651584022253},{"_id":"source/_posts/networkpolicy隔离策略/7b70de99e5f7.png","hash":"fd04d7733c5b1447e9c0508d92807fbf9c2421e1","modified":1651584022255},{"_id":"source/_posts/git-flow-工作流理解/gf11.png","hash":"3245ba84de0a8fbf411987e2a5901ed9ec2cf6cc","modified":1651670077945},{"_id":"source/_posts/k8s-rbac权限控制/21812e1bbfad.png","hash":"ce2e8a583d00ee261c661986dc611400c87ba818","modified":1651584022239},{"_id":"source/_posts/git-flow-工作流理解/gf2.png","hash":"13a289912911701423f80d6083c9af797acc19f5","modified":1651670077947},{"_id":"source/_posts/k8s-rbac权限控制/7528aa1bf3da.png","hash":"9c579e40e532170a13b32abec1ebaf39378670e1","modified":1651584022241},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/13.png","hash":"b46a01d70f0397d238893562c74177e2620e96fa","modified":1651584022262},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/15.png","hash":"9bcf9769e3261a8ca84251085db63ca00078ea38","modified":1651584022265},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/7.png","hash":"d46ccdd0c1fec9379f28dc153dfcd53aaa3e75d6","modified":1651584022278},{"_id":"source/_posts/git-flow-工作流理解/gf13.png","hash":"67bcb850aae40f8cfa0f0f004faf78c84a27ae36","modified":1651670077946},{"_id":"source/_posts/git-flow-工作流理解/gf14.png","hash":"a55c37098012fe7c2357f160f18b46fa3375befd","modified":1651670077946},{"_id":"source/_posts/git-flow-工作流理解/gf7.png","hash":"977bd10d62f62daf2f10692e75df6c011bf7c1fe","modified":1651670077952},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/14.png","hash":"501f84e8376fedc0036539ba36fd9e69c0906b47","modified":1651584022264},{"_id":"source/_posts/git-flow-工作流理解/gf1.png","hash":"4ef3ab2f2f41d15d31e6f1845403bbfabb59d9df","modified":1651670077943},{"_id":"source/_posts/阿里云-ram与sts权限/ram4.png","hash":"d7c69a6cd55e5c6761f8d10f97df6fec7ca192d0","modified":1651584022284},{"_id":"source/_posts/k8s-rbac权限控制/d6da8c845c41.png","hash":"b614ff7f3d18a32abedd27f042286d3e911400e3","modified":1651584022245},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/12.png","hash":"49545c7daa918e583dc69dbd75d33b9fe0d2ded1","modified":1651584022260},{"_id":"themes/next/.gitattributes","hash":"a54f902957d49356376b59287b894b1a3d7a003f","modified":1651584022289},{"_id":"themes/next/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1651584022289},{"_id":"themes/next/README.md","hash":"9b4b7d66aca47f9c65d6321b14eef48d95c4dff1","modified":1651584022290},{"_id":"themes/next/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1651584022289},{"_id":"themes/next/.travis.yml","hash":"ecca3b919a5b15886e3eca58aa84aafc395590da","modified":1651584022290},{"_id":"themes/next/.stylintrc","hash":"2cf4d637b56d8eb423f59656a11f6403aa90f550","modified":1651584022289},{"_id":"themes/next/package.json","hash":"62fad6de02adbbba9fb096cbe2dcc15fe25f2435","modified":1651584022299},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1651584022290},{"_id":"themes/next/_config.yml","hash":"34c938e0ca5b9ba59cacc10d5497cb34fc11f5f0","modified":1651584022290},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1651584022290},{"_id":"themes/next/gulpfile.js","hash":"1b4fc262b89948937b9e3794de812a7c1f2f3592","modified":1651584022292},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"c7a994b9542040317d8f99affa1405c143a94a38","modified":1651584022290},{"_id":"themes/next/LICENSE.md","hash":"18144d8ed58c75af66cb419d54f3f63374cd5c5b","modified":1651584022290},{"_id":"themes/next/docs/AUTHORS.md","hash":"10135a2f78ac40e9f46b3add3e360c025400752f","modified":1651584022290},{"_id":"themes/next/docs/INSTALLATION.md","hash":"af88bcce035780aaa061261ed9d0d6c697678618","modified":1651584022291},{"_id":"themes/next/docs/LICENSE.txt","hash":"368bf2c29d70f27d8726dd914f1b3211cae4bbab","modified":1651584022291},{"_id":"themes/next/docs/DATA-FILES.md","hash":"cddbdc91ee9e65c37a50bec12194f93d36161616","modified":1651584022290},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"94dc3404ccb0e5f663af2aa883c1af1d6eae553d","modified":1651584022291},{"_id":"themes/next/docs/MATH.md","hash":"d645b025ec7fb9fbf799b9bb76af33b9f5b9ed93","modified":1651584022291},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"8b6e4b2c9cfcb969833092bdeaed78534082e3e6","modified":1651584022291},{"_id":"themes/next/languages/ar.yml","hash":"9815e84e53d750c8bcbd9193c2d44d8d910e3444","modified":1651584022292},{"_id":"themes/next/languages/default.yml","hash":"45bc5118828bdc72dcaa25282cd367c8622758cb","modified":1651584022293},{"_id":"themes/next/languages/en.yml","hash":"45bc5118828bdc72dcaa25282cd367c8622758cb","modified":1651584022293},{"_id":"themes/next/languages/de.yml","hash":"74c59f2744217003b717b59d96e275b54635abf5","modified":1651584022293},{"_id":"themes/next/languages/es.yml","hash":"c64cf05f356096f1464b4b1439da3c6c9b941062","modified":1651584022293},{"_id":"themes/next/languages/fr.yml","hash":"752bf309f46a2cd43890b82300b342d7218d625f","modified":1651584022293},{"_id":"themes/next/languages/hu.yml","hash":"b1ebb77a5fd101195b79f94de293bcf9001d996f","modified":1651584022293},{"_id":"themes/next/languages/id.yml","hash":"572ed855d47aafe26f58c73b1394530754881ec2","modified":1651584022293},{"_id":"themes/next/languages/ja.yml","hash":"0cf0baa663d530f22ff380a051881216d6adcdd8","modified":1651584022293},{"_id":"themes/next/languages/it.yml","hash":"44759f779ce9c260b895532de1d209ad4bd144bf","modified":1651584022293},{"_id":"themes/next/languages/pt.yml","hash":"718d131f42f214842337776e1eaddd1e9a584054","modified":1651584022294},{"_id":"themes/next/languages/fa.yml","hash":"3676b32fda37e122f3c1a655085a1868fb6ad66b","modified":1651584022293},{"_id":"themes/next/languages/nl.yml","hash":"5af3473d9f22897204afabc08bb984b247493330","modified":1651584022293},{"_id":"themes/next/languages/ko.yml","hash":"0feea9e43cd399f3610b94d755a39fff1d371e97","modified":1651584022293},{"_id":"themes/next/languages/pt-BR.yml","hash":"67555b1ba31a0242b12fc6ce3add28531160e35b","modified":1651584022293},{"_id":"themes/next/languages/zh-CN.yml","hash":"bd5106b400ddd02ad81bd3d0a47e7ea6704dc008","modified":1651584022294},{"_id":"themes/next/languages/ru.yml","hash":"e993d5ca072f7f6887e30fc0c19b4da791ca7a88","modified":1651584022294},{"_id":"themes/next/languages/vi.yml","hash":"93393b01df148dcbf0863f6eee8e404e2d94ef9e","modified":1651584022294},{"_id":"themes/next/languages/tr.yml","hash":"2b041eeb8bd096f549464f191cfc1ea0181daca4","modified":1651584022294},{"_id":"themes/next/languages/zh-HK.yml","hash":"3789f94010f948e9f23e21235ef422a191753c65","modified":1651584022294},{"_id":"themes/next/languages/uk.yml","hash":"3a6d635b1035423b22fc86d9455dba9003724de9","modified":1651584022294},{"_id":"themes/next/languages/zh-TW.yml","hash":"8c09da7c4ec3fca2c6ee897b2eea260596a2baa1","modified":1651584022294},{"_id":"themes/next/layout/category.swig","hash":"1bde61cf4d2d171647311a0ac2c5c7933f6a53b0","modified":1651584022299},{"_id":"themes/next/layout/archive.swig","hash":"e4e31317a8df68f23156cfc49e9b1aa9a12ad2ed","modified":1651584022298},{"_id":"themes/next/scripts/renderer.js","hash":"49a65df2028a1bc24814dc72fa50d52231ca4f05","modified":1651584022301},{"_id":"themes/next/layout/tag-color.swig","hash":"5826fca287979119e35f4d194e1aa17413503bd4","modified":1651584022299},{"_id":"themes/next/layout/_layout.swig","hash":"6a6e92a4664cdb981890a27ac11fd057f44de1d5","modified":1651584022294},{"_id":"themes/next/layout/index.swig","hash":"7f403a18a68e6d662ae3e154b2c1d3bbe0801a23","modified":1651584022299},{"_id":"themes/next/layout/page.swig","hash":"aa9ce35a7880cd043ab3241bcd7707da18079cad","modified":1651584022299},{"_id":"themes/next/layout/post.swig","hash":"2f6d992ced7e067521fdce05ffe4fd75481f41c5","modified":1651584022299},{"_id":"themes/next/docs/ru/README.md","hash":"85dd68ed1250897a8e4a444a53a68c1d49eb7e11","modified":1651584022291},{"_id":"themes/next/layout/tag.swig","hash":"0dfb653bd5de980426d55a0606d1ab122bd8c017","modified":1651584022299},{"_id":"themes/next/source/.DS_Store","hash":"9d216009a6d1503fa2d78c8556bc175cb2e281a8","modified":1651584022302},{"_id":"themes/next/source/404.html","hash":"25f43cab41786b9b8b6a59f5a6a4211e3a3b9a0f","modified":1651584022302},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"0bd2d696f62a997a11a7d84fec0130122234174e","modified":1651584022291},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"5237a368ab99123749d724b6c379415f2c142a96","modified":1651584022291},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"34b88784ec120dfdc20fa82aadeb5f64ef614d14","modified":1651584022292},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"9c4fe2873123bf9ceacab5c50d17d8a0f1baef27","modified":1651584022291},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"579c7bd8341873fb8be4732476d412814f1a3df7","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"ca1030efdfca5e20f9db2e7a428998e66a24c0d0","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"d3f03be036b75dc71cf3c366cd75aee7c127c874","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"d9ce7331c1236bbe0a551d56cef2405e47e65325","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"fb23b85db6f7d8279d73ae1f41631f92f64fc864","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"8b18f84503a361fc712b0fe4d4568e2f086ca97d","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"b92585d251f1f9ebe401abb5d932cb920f9b8b10","modified":1651584022292},{"_id":"themes/next/docs/zh-CN/README.md","hash":"c038629ff8f3f24e8593c4c8ecf0bef3a35c750d","modified":1651584022292},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"9c8dc0b8170679cdc1ee9ee8dbcbaebf3f42897b","modified":1651584022294},{"_id":"themes/next/layout/_macro/post.swig","hash":"f56c340777b8c530ef0ca2ff1e606a703d1c0acc","modified":1651584022294},{"_id":"themes/next/layout/_partials/languages.swig","hash":"ba9e272f1065b8f0e8848648caa7dea3f02c6be1","modified":1651584022295},{"_id":"themes/next/layout/_partials/footer.swig","hash":"4369b313cbbeae742cb35f86d23d99d4285f7359","modified":1651584022294},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"6cc5719d5db80d70a7db9e53c7e031b1b021e145","modified":1651584022294},{"_id":"themes/next/layout/_partials/widgets.swig","hash":"83a40ce83dfd5cada417444fb2d6f5470aae6bb0","modified":1651584022296},{"_id":"themes/next/layout/_scripts/index.swig","hash":"cea942b450bcb0f352da78d76dc6d6f1d23d5029","modified":1651584022296},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"d1f2bfde6f1da51a2b35a7ab9e7e8eb6eefd1c6b","modified":1651584022296},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9876dbfc15713c7a47d4bcaa301f4757bd978269","modified":1651584022295},{"_id":"themes/next/layout/_scripts/pjax.swig","hash":"4d2c93c66e069852bb0e3ea2e268d213d07bfa3f","modified":1651584022296},{"_id":"themes/next/layout/_third-party/baidu-push.swig","hash":"b782eb2e34c0c15440837040b5d65b093ab6ec04","modified":1651584022297},{"_id":"themes/next/layout/_scripts/three.swig","hash":"a4f42f2301866bd25a784a2281069d8b66836d0b","modified":1651584022296},{"_id":"themes/next/layout/_third-party/index.swig","hash":"70c3c01dd181de81270c57f3d99b6d8f4c723404","modified":1651584022297},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"ef38c213679e7b6d2a4116f56c9e55d678446069","modified":1651584022296},{"_id":"themes/next/scripts/events/index.js","hash":"5743cde07f3d2aa11532a168a652e52ec28514fd","modified":1651584022299},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"aec50ed57b9d5d3faf2db3c88374f107203617e0","modified":1651584022300},{"_id":"themes/next/scripts/filters/front-matter.js","hash":"703bdd142a671b4b67d3d9dfb4a19d1dd7e7e8f7","modified":1651584022300},{"_id":"themes/next/scripts/filters/minify.js","hash":"19985723b9f677ff775f3b17dcebf314819a76ac","modified":1651584022300},{"_id":"themes/next/scripts/filters/post.js","hash":"44ba9b1c0bdda57590b53141306bb90adf0678db","modified":1651584022300},{"_id":"themes/next/scripts/helpers/engine.js","hash":"bdb424c3cc0d145bd0c6015bb1d2443c8a9c6cda","modified":1651584022301},{"_id":"themes/next/layout/_third-party/quicklink.swig","hash":"311e5eceec9e949f1ea8d623b083cec0b8700ff2","modified":1651584022298},{"_id":"themes/next/scripts/helpers/font.js","hash":"40cf00e9f2b7aa6e5f33d412e03ed10304b15fd7","modified":1651584022301},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"958e86b2bd24e4fdfcbf9ce73e998efe3491a71f","modified":1651584022301},{"_id":"themes/next/scripts/filters/locals.js","hash":"b193a936ee63451f09f8886343dcfdca577c0141","modified":1651584022300},{"_id":"themes/next/scripts/helpers/next-config.js","hash":"5e11f30ddb5093a88a687446617a46b048fa02e5","modified":1651584022301},{"_id":"themes/next/scripts/tags/button.js","hash":"8c6b45f36e324820c919a822674703769e6da32c","modified":1651584022301},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"2731e262a6b88eaee2a3ca61e6a3583a7f594702","modified":1651584022298},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"f1826ade2d135e2f60e2d95cb035383685b3370c","modified":1651584022301},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"983c6c4adea86160ecc0ba2204bc312aa338121d","modified":1651584022301},{"_id":"themes/next/scripts/tags/label.js","hash":"fc5b267d903facb7a35001792db28b801cccb1f8","modified":1651584022301},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"d902fd313e8d35c3cc36f237607c2a0536c9edf1","modified":1651584022301},{"_id":"themes/next/scripts/tags/note.js","hash":"0a02bb4c15aec41f6d5f1271cdb5c65889e265d9","modified":1651584022301},{"_id":"themes/next/scripts/tags/tabs.js","hash":"93d8a734a3035c1d3f04933167b500517557ba3e","modified":1651584022302},{"_id":"themes/next/scripts/tags/video.js","hash":"e5ff4c44faee604dd3ea9db6b222828c4750c227","modified":1651584022302},{"_id":"themes/next/scripts/tags/pdf.js","hash":"8c613b39e7bff735473e35244b5629d02ee20618","modified":1651584022301},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"94e0bbc7999b359baa42fa3731bdcf89c79ae2b3","modified":1651584022301},{"_id":"themes/next/source/css/_colors.styl","hash":"a8442520f719d3d7a19811cb3b85bcfd4a596e1f","modified":1651584022302},{"_id":"themes/next/source/css/_mixins.styl","hash":"e31a557f8879c2f4d8d5567ee1800b3e03f91f6e","modified":1651584022306},{"_id":"themes/next/source/css/main.styl","hash":"a3a3bbb5a973052f0186b3523911cb2539ff7b88","modified":1651584022308},{"_id":"themes/next/source/images/.DS_Store","hash":"eab26c1aa968af6caf37afefbc156a4f21304f51","modified":1651584022308},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1651584022308},{"_id":"themes/next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1651584022308},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1651584022308},{"_id":"themes/next/layout/_partials/comments.swig","hash":"db6ab5421b5f4b7cb32ac73ad0e053fdf065f83e","modified":1651584022294},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1651584022309},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1651584022309},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1651584022310},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1651584022310},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1651584022310},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1651584022310},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1651584022310},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1651584022310},{"_id":"themes/next/source/images/favicon-16x16.png","hash":"92a35626264497987c8f46a6f0d3bef3b7af1ae3","modified":1651584022310},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1651584022310},{"_id":"themes/next/source/images/logo-next.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1651584022310},{"_id":"themes/next/source/images/favicon-32x32.png","hash":"92a35626264497987c8f46a6f0d3bef3b7af1ae3","modified":1651584022310},{"_id":"themes/next/source/js/algolia-search.js","hash":"498d233eb5c7af6940baf94c1a1c36fdf1dd2636","modified":1651584022310},{"_id":"themes/next/source/images/logo.svg","hash":"264fd86714b6f257a4cdafa42fc8e8d01432f1fb","modified":1651584022310},{"_id":"themes/next/source/js/bookmark.js","hash":"9734ebcb9b83489686f5c2da67dc9e6157e988ad","modified":1651584022310},{"_id":"themes/next/source/js/local-search.js","hash":"35ccf100d8f9c0fd6bfbb7fa88c2a76c42a69110","modified":1651584022311},{"_id":"themes/next/source/js/motion.js","hash":"72df86f6dfa29cce22abeff9d814c9dddfcf13a9","modified":1651584022311},{"_id":"themes/next/source/js/next-boot.js","hash":"a1b0636423009d4a4e4cea97bcbf1842bfab582c","modified":1651584022311},{"_id":"themes/next/source/js/utils.js","hash":"730cca7f164eaf258661a61ff3f769851ff1e5da","modified":1651584022311},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"000bad572d76ee95d9c0a78f9ccdc8d97cc7d4b4","modified":1651584022294},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"810d544019e4a8651b756dd23e5592ee851eda71","modified":1651584022295},{"_id":"themes/next/source/lib/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1651584022311},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"7dbe93b8297b746afb89700b4d29289556e85267","modified":1651584022295},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"d31f896680a6c2f2c3f5128b4d4dd46c87ce2130","modified":1651584022295},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"c70f8e71e026e878a4e9d5ab3bbbf9b0b23c240c","modified":1651584022295},{"_id":"themes/next/layout/_partials/header/menu-item.swig","hash":"9440d8a3a181698b80e1fa47f5104f4565d8cdf3","modified":1651584022295},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"ae2261bea836581918a1c2b0d1028a78718434e0","modified":1651584022295},{"_id":"themes/next/layout/_partials/page/breadcrumb.swig","hash":"c851717497ca64789f2176c9ecd1dedab237b752","modified":1651584022295},{"_id":"themes/next/layout/_partials/page/page-header.swig","hash":"9b7a66791d7822c52117fe167612265356512477","modified":1651584022295},{"_id":"themes/next/layout/_partials/post/post-copyright.swig","hash":"954ad71536b6eb08bd1f30ac6e2f5493b69d1c04","modified":1651584022295},{"_id":"themes/next/layout/_partials/post/post-followme.swig","hash":"ceba16b9bd3a0c5c8811af7e7e49d0f9dcb2f41e","modified":1651584022295},{"_id":"themes/next/layout/_partials/post/post-footer.swig","hash":"8f14f3f8a1b2998d5114cc56b680fb5c419a6b07","modified":1651584022295},{"_id":"themes/next/layout/_partials/post/post-related.swig","hash":"f79c44692451db26efce704813f7a8872b7e63a0","modified":1651584022295},{"_id":"themes/next/layout/_partials/post/post-reward.swig","hash":"2b1a73556595c37951e39574df5a3f20b2edeaef","modified":1651584022295},{"_id":"themes/next/layout/_partials/search/algolia-search.swig","hash":"48430bd03b8f19c9b8cdb2642005ed67d56c6e0b","modified":1651584022295},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"2be50f9bfb1c56b85b3b6910a7df27f51143632c","modified":1651584022296},{"_id":"themes/next/layout/_partials/sidebar/site-overview.swig","hash":"47043445214a28a0bda3a30e4742bf16c0a98b64","modified":1651584022296},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"f48a6a8eba04eb962470ce76dd731e13074d4c45","modified":1651584022296},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"1c910fc066c06d5fbbe9f2b0c47447539e029af7","modified":1651584022296},{"_id":"themes/next/layout/_scripts/pages/schedule.swig","hash":"077b5d66f6309f2e7dcf08645058ff2e03143e6c","modified":1651584022296},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"7f14ef43d9e82bc1efc204c5adf0b1dbfc919a9f","modified":1651584022296},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"7f14ef43d9e82bc1efc204c5adf0b1dbfc919a9f","modified":1651584022296},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"4790058691b7d36cf6d2d6b4e93795a7b8d608ad","modified":1651584022297},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"1c910fc066c06d5fbbe9f2b0c47447539e029af7","modified":1651584022296},{"_id":"themes/next/layout/_third-party/analytics/growingio.swig","hash":"5adea065641e8c55994dd2328ddae53215604928","modified":1651584022297},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"1472cabb0181f60a6a0b7fec8899a4d03dfb2040","modified":1651584022297},{"_id":"themes/next/layout/_third-party/chat/tidio.swig","hash":"cba0e6e0fad08568a9e74ba9a5bee5341cfc04c1","modified":1651584022297},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"2fa2b51d56bfac6a1ea76d651c93b9c20b01c09b","modified":1651584022297},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"b14908644225d78c864cd0a9b60c52407de56183","modified":1651584022297},{"_id":"themes/next/layout/_third-party/chat/chatra.swig","hash":"f910618292c63871ca2e6c6e66c491f344fa7b1f","modified":1651584022297},{"_id":"themes/next/layout/_third-party/comments/disqusjs.swig","hash":"82f5b6822aa5ec958aa987b101ef860494c6cf1f","modified":1651584022297},{"_id":"themes/next/layout/_third-party/comments/gitalk.swig","hash":"d6ceb70648555338a80ae5724b778c8c58d7060d","modified":1651584022297},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"f39a5bf3ce9ee9adad282501235e0c588e4356ec","modified":1651584022297},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"6c5976621efd5db5f7c4c6b4f11bc79d6554885f","modified":1651584022297},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"be0a8eccf1f6dc21154af297fc79555343031277","modified":1651584022297},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"4791c977a730f29c846efcf6c9c15131b9400ead","modified":1651584022298},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"f7a9eca599a682479e8ca863db59be7c9c7508c8","modified":1651584022297},{"_id":"themes/next/layout/_third-party/search/algolia-search.swig","hash":"d35a999d67f4c302f76fdf13744ceef3c6506481","modified":1651584022298},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"ecf751321e799f0fb3bf94d049e535130e2547aa","modified":1651584022298},{"_id":"themes/next/layout/_third-party/search/swiftype.swig","hash":"ba0dbc06b9d244073a1c681ff7a722dcbf920b51","modified":1651584022298},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"767b6c714c22588bcd26ba70b0fc19b6810cbacd","modified":1651584022298},{"_id":"themes/next/layout/_third-party/statistics/cnzz-analytics.swig","hash":"a17ace37876822327a2f9306a472974442c9005d","modified":1651584022298},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.swig","hash":"4b1986e43d6abce13450d2b41a736dd6a5620a10","modified":1651584022298},{"_id":"themes/next/layout/_third-party/statistics/index.swig","hash":"5f6a966c509680dbfa70433f9d658cee59c304d7","modified":1651584022298},{"_id":"themes/next/layout/_third-party/statistics/firestore.swig","hash":"b26ac2bfbe91dd88267f8b96aee6bb222b265b7a","modified":1651584022298},{"_id":"themes/next/scripts/events/lib/config.js","hash":"d34c6040b13649714939f59be5175e137de65ede","modified":1651584022299},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"f233d8d0103ae7f9b861344aa65c1a3c1de8a845","modified":1651584022299},{"_id":"themes/next/scripts/events/lib/injects-point.js","hash":"6661c1c91c7cbdefc6a5e6a034b443b8811235a1","modified":1651584022299},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"a54708fd9309b4357c423a3730eb67f395344a5e","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"2486f3e0150c753e5f3af1a3665d074704b8ee2c","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"7f2d93af012c1e14b8596fecbfc7febb43d9b7f5","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"4c0c99c7e0f00849003dfce02a131104fb671137","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"7f8b92913d21070b489457fa5ed996d2a55f2c32","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"d5fefc31fba4ab0188305b1af1feb61da49fdeb0","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"e51dc3072c1ba0ea3008f09ecae8b46242ec6021","modified":1651584022300},{"_id":"themes/next/scripts/filters/comment/valine.js","hash":"6cbd85f9433c06bae22225ccf75ac55e04f2d106","modified":1651584022300},{"_id":"themes/next/layout/_third-party/tags/mermaid.swig","hash":"f3c43664a071ff3c0b28bd7e59b5523446829576","modified":1651584022298},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.swig","hash":"d56d5af427cdfecc33a0f62ee62c056b4e33d095","modified":1651584022298},{"_id":"themes/next/layout/_third-party/tags/pdf.swig","hash":"d30b0e255a8092043bac46441243f943ed6fb09b","modified":1651584022298},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"f4e694e5db81e57442c7e34505a416d818b3044a","modified":1651584022308},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"f70be8e229da7e1715c11dd0e975a2e71e453ac8","modified":1651584022308},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"612ec843372dae709acb17112c1145a53450cc59","modified":1651584022308},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"62df49459d552bbf73841753da8011a1f5e875c8","modified":1651584022308},{"_id":"themes/next/source/css/_variables/base.styl","hash":"66c09b8c9e5287521200b162a9c4e4305135afa1","modified":1651584022308},{"_id":"themes/next/source/js/schemes/pisces.js","hash":"0ac5ce155bc58c972fe21c4c447f85e6f8755c62","modified":1651584022311},{"_id":"themes/next/source/js/schemes/muse.js","hash":"1eb9b88103ddcf8827b1a7cbc56471a9c5592d53","modified":1651584022311},{"_id":"themes/next/source/lib/pace/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1651584022312},{"_id":"themes/next/source/lib/pace/README.md","hash":"168f57bb63563b9671d0c4f10c0940e7eec261f0","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1651584022312},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-flat-top.min.css","hash":"5e1c97e232b46e48592a8e4983ae5a89e0a7da6a","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1651584022313},{"_id":"themes/next/source/lib/pace/pace-theme-material.min.css","hash":"f1ff83985c090f3a3236554c5ef69542dcceb049","modified":1651584022313},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1651584022313},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1651584022313},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"8e7b57a72e757cf95278239641726bb2d5b869d1","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"a47725574e1bee3bc3b63b0ff2039cc982b17eff","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"ca5e70662dcfb261c25191cc5db5084dcf661c76","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"2e3bf7baf383c9073ec5e67f157d3cb3823c0957","modified":1651584022303},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"681d33e3bc85bdca407d93b134c089264837378c","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"a1690e035b505d28bdef2b4424c13fc6312ab049","modified":1651584022304},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"0b2c4b78eead410020d7c4ded59c75592a648df8","modified":1651584022305},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"a2e9e00962e43e98ec2614d6d248ef1773bb9b78","modified":1651584022305},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"18ce72d90459c9aa66910ac64eae115f2dde3767","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1651584022305},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"b1f0fab7344a20ed6748b04065b141ad423cf4d9","modified":1651584022305},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"179e33b8ac7f4d8a8e76736a7e4f965fe9ab8b42","modified":1651584022306},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"7785bd756e0c4acede3a47fec1ed7b55988385a5","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"8f58570a1bbc34c4989a47a1b7d42a8030f38b06","modified":1651584022305},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"f6516d0f7d89dc7b6c6e143a5af54b926f585d82","modified":1651584022306},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"bb7ace23345364eb14983e860a7172e1683a4c94","modified":1651584022306},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"7104b9cef90ca3b140d7a7afcf15540a250218fc","modified":1651584022306},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"a717969829fa6ef88225095737df3f8ee86c286b","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"6136da4bbb7e70cec99f5c7ae8c7e74f5e7c261a","modified":1651584022306},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"f0131db6275ceaecae7e1a6a3798b8f89f6c850d","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"4d1c17345d2d39ef7698f7acf82dfc0f59308c34","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"2b2e7b5cea7783c9c8bb92655e26a67c266886f0","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"93db5dafe9294542a6b5f647643cb9deaced8e06","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"70a4324b70501132855b5e59029acfc5d3da1ebd","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"e282df938bd029f391c466168d0e68389978f120","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"85da2f3006f4bef9a2199416ecfab4d288f848c4","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"e740deadcfc4f29c5cb01e40f9df6277262ba4e3","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"44f47c88c06d89d06f220f102649057118715828","modified":1651584022307},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1651584022307},{"_id":"themes/next/source/lib/font-awesome/css/all.min.css","hash":"0038dc97c79451578b7bd48af60ba62282b4082b","modified":1651584022311},{"_id":"themes/next/source/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"260bb01acd44d88dcb7f501a238ab968f86bef9e","modified":1651584022312},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"fafc96c86926b22afba8bb9418c05e6afbc05a57","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"2bd0eb1512415325653b26d62a4463e6de83c5ac","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"e771dcb0b4673e063c0f3e2d73e7336ac05bcd57","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1651584022302},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"8a7fc03a568b95be8d3337195e38bc7ec5ba2b23","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"b49e9fbd3c182b8fc066b8c2caf248e3eb748619","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"d21d4ac1982c13d02f125a67c065412085a92ff2","modified":1651584022302},{"_id":"themes/next/source/css/_common/outline/footer/footer.styl","hash":"454a4aebfabb4469b92a8cbb49f46c49ac9bf165","modified":1651584022304},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"f71a3e86c05ea668b008cf05a81f67d92b6d65e4","modified":1651584022305},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"9f0b93d109c9aec79450c8a0cf4a4eab717d674d","modified":1651584022304},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"e2992846b39bf3857b5104675af02ba73e72eed5","modified":1651584022304},{"_id":"themes/next/source/css/_common/scaffolding/highlight/diff.styl","hash":"d3f73688bb7423e3ab0de1efdf6db46db5e34f80","modified":1651584022305},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"9a878d0119785a2316f42aebcceaa05a120b9a7a","modified":1651584022304},{"_id":"themes/next/source/css/_common/scaffolding/highlight/highlight.styl","hash":"35c871a809afa8306c8cde13651010e282548bc6","modified":1651584022305},{"_id":"themes/next/source/css/_common/scaffolding/highlight/theme.styl","hash":"3b3acc5caa0b95a2598bef4eeacb21bab21bea56","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"e2d606f1ac343e9be4f15dbbaf3464bc4df8bf81","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/header/header.styl","hash":"a793cfff86ad4af818faef04c18013077873f8f0","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"e7a9fdb6478b8674b1cdf94de4f8052843fb71d9","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/header/headerband.styl","hash":"0caf32492692ba8e854da43697a2ec8a41612194","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"5f432a6ed9ca80a413c68b00e93d4a411abf280a","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"b2fc519828fe89a1f8f03ff7b809ad68cd46f3d7","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"2cb1876e9e0c9ac32160888af27b1178dbcb0616","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"45a239edca44acecf971d99b04f30a1aafbf6906","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"fa0222197b5eee47e18ac864cdc6eac75678b8fe","modified":1651584022304},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"b6ee998e33337e9ade63f201d00f3cc4ddd367b8","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"9b479c2f9a9bfed77885e5093b8245cc5d768ec7","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"a960a2dd587b15d3b3fe1b59525d6fa971c6a6ec","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"a05a4031e799bc864a4536f9ef61fe643cd421af","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"1f0e7fbe80956f47087c2458ea880acf7a83078b","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar.styl","hash":"a9cd93c36bae5af9223e7804963096274e8a4f03","modified":1651584022305},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"b3220db827e1adbca7880c2bb23e78fa7cbe95cb","modified":1651584022305},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f49ca072b5a800f735e8f01fc3518f885951dd8e","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"e75693f33dbc92afc55489438267869ae2f3db54","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"902569a9dea90548bec21a823dd3efd94ff7c133","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-followme.styl","hash":"1e4190c10c9e0c9ce92653b0dbcec21754b0b69d","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"ded41fd9d20a5e8db66aaff7cc50f105f5ef2952","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"65cb6edb69e94e70e3291e9132408361148d41d5","modified":1651584022303},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"2a47f8a6bb589c2fb635e6c1e4a2563c7f63c407","modified":1651584022305},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"d114b2a531129e739a27ba6271cfe6857aa9a865","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"6a97bcfa635d637dc59005be3b931109e0d1ead5","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"f5c2788a78790aca1a2f37f7149d6058afb539e0","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"99e12c9ce3d14d4837e3d3f12fc867ba9c565317","modified":1651584022303},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"72d495a88f7d6515af425c12cbc67308a57d88ea","modified":1651584022303},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"1d2778ca5aeeeafaa690dc2766b01b352ab76a02","modified":1651584022306},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"5b5649b9749e3fd8b63aef22ceeece0a6e1df605","modified":1651584022303},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"e4d9a77ffe98e851c1202676940097ba28253313","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"d7fce4b51b5f4b7c31d93a9edb6c6ce740aa0d6b","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"709d10f763e357e1472d6471f8be384ec9e2d983","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b49c64f8e9a6ca1c45c0ba98febf1974fdd03616","modified":1651584022306},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"f23670f1d8e749f3e83766d446790d8fd9620278","modified":1651584022306},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/4.png","hash":"34b58260b8187846fab853620311e97d3b50033a","modified":1651584022274},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"cea1527ce53d0c475c16ae594dd9d87595273ae1","modified":1651584022303},{"_id":"source/_posts/git-flow-工作流理解/gf10.png","hash":"b23b6cb991497506195c01c55fc54fa5a912d339","modified":1651670077944},{"_id":"themes/next/source/css/_common/scaffolding/tags/tags.styl","hash":"9e4c0653cfd3cc6908fa0d97581bcf80861fb1e7","modified":1651584022306},{"_id":"themes/next/source/images/avatar.jpg","hash":"ebb2d834abbab660efa98d2db960aaf4270476f1","modified":1651584022308},{"_id":"themes/next/source/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"509988477da79c146cb93fb728405f18e923c2de","modified":1651584022312},{"_id":"themes/next/source/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"75a88815c47a249eadb5f0edc1675957f860cca7","modified":1651584022312},{"_id":"source/_posts/git-flow-工作流理解/gf9.png","hash":"699f349910e318ba1d8cdd63be891ac58b2d5747","modified":1651670077953},{"_id":"source/_posts/k8s-rbac权限控制/de3ebdd4f016.png","hash":"b6a766011b329f668f083b6714e9842f565c3e73","modified":1651584022247},{"_id":"themes/next/source/images/background.jpeg","hash":"b9e6ecf7699b5fd7c95f50d56d2b48afe62e4488","modified":1651584022309},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/17.png","hash":"4233ab5fda184bb53e8a7eb413ca09bcbb9f0e54","modified":1651584022270},{"_id":"public/404.html","hash":"8f99cfa7c3529c62a224d7269c90c0cbb1ae9329","modified":1651671378904},{"_id":"public/search.xml","hash":"e685c3c718dc549aebcfc79b2e7ea7d5420167cd","modified":1651672649877},{"_id":"public/atom.xml","hash":"f020095c2566527ca1a9af16151b47f6292fa788","modified":1651672649877},{"_id":"public/about/index.html","hash":"2f5154bb1c1ed0de4d24a3ad20406efd538cb3be","modified":1651672617095},{"_id":"public/musiclist/index.html","hash":"f199461ead0541c0fe68aa9e1d81eed0bc61ee8b","modified":1651672617095},{"_id":"public/categories/index.html","hash":"807a133a31572adc6d3e759ab376c3c14b128e92","modified":1651672617095},{"_id":"public/tags/index.html","hash":"25d947038be71fcbdd807a547fd9bfd2dc89f681","modified":1651672617095},{"_id":"public/archives/2022/02/index.html","hash":"7d8fe869f9262590438ab45a30c1f5144f13dccc","modified":1651672617095},{"_id":"public/archives/2022/03/index.html","hash":"e848bceebc38be8c74a7e92c7fae80b29bfab3e7","modified":1651672617095},{"_id":"public/archives/2022/05/index.html","hash":"55633b1d1dd58019b7879b3290e9ba32c8f9dda8","modified":1651672617095},{"_id":"public/categories/linux/index.html","hash":"f44d03c197d4c30df269a3170b2c2ca7f744343b","modified":1651672617095},{"_id":"public/categories/云原生/index.html","hash":"c237e1bf58b29c15e1aa322552b0a0e4cc9f00ff","modified":1651672617095},{"_id":"public/tags/git/index.html","hash":"1dec4052c464962d1a9abb0dff4288a7172e3119","modified":1651672617095},{"_id":"public/posts/539.html","hash":"7946e712e9a0e54d823fb8b8ba8b5bafde2508dc","modified":1651672617095},{"_id":"public/posts/fdc.html","hash":"f33f4f2deadc4003fcbf29fce48290a4acfefc31","modified":1651672617095},{"_id":"public/posts/9a8h.html","hash":"18ea19ade9db87eaae32c4eaa08338ed9fd28621","modified":1651672617095},{"_id":"public/posts/8aa0.html","hash":"72ed75e0e2e6ab9e730218956c916e142858904a","modified":1651672617095},{"_id":"public/posts/fa45.html","hash":"02cdb4e678f2269aac0865b663f30a37b299fa83","modified":1651672617095},{"_id":"public/posts/3eeb.html","hash":"21b88a632027eec3643710931a44826c079425a1","modified":1651672617095},{"_id":"public/archives/index.html","hash":"caf2b25ed15172f08d74c64d231f0b507267fdee","modified":1651672617095},{"_id":"public/archives/2022/index.html","hash":"4f1e95035db577831980fe82e07d9d630a1f6ab2","modified":1651672617095},{"_id":"public/index.html","hash":"c59d12573b74c80f69572e25b4603d4aecf1c23b","modified":1651672649877},{"_id":"public/posts/fdc/ram3.png","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1651671378904},{"_id":"public/tags/阿里云/index.html","hash":"c90272134446f8a9bb3f0f603ce9bd063ddf80b5","modified":1651672617095},{"_id":"public/tags/k8s/index.html","hash":"fbd2c4145720e04820cc0db2590ca77d0db70440","modified":1651672617095},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1651671378904},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1651671378904},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1651671378904},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1651671378904},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1651671378904},{"_id":"public/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1651671378904},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1651671378904},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1651671378904},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1651671378904},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1651671378904},{"_id":"public/images/favicon-32x32.png","hash":"92a35626264497987c8f46a6f0d3bef3b7af1ae3","modified":1651671378904},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1651671378904},{"_id":"public/images/favicon-16x16.png","hash":"92a35626264497987c8f46a6f0d3bef3b7af1ae3","modified":1651671378904},{"_id":"public/images/logo.svg","hash":"264fd86714b6f257a4cdafa42fc8e8d01432f1fb","modified":1651671378904},{"_id":"public/images/logo-next.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1651671378904},{"_id":"public/lib/pace/LICENSE","hash":"b29db4c99aa5b8d574026f68804051ff4b75466e","modified":1651671378904},{"_id":"public/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"260bb01acd44d88dcb7f501a238ab968f86bef9e","modified":1651671378904},{"_id":"public/CNAME","hash":"89a60143a40fb48970cd2bc5fa2adfca41893dfb","modified":1651671378904},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1651671378904},{"_id":"public/assets/css/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1651671378904},{"_id":"public/assets/js/Meting.min.js","hash":"a0585220b918d78649a7893279e1ec4fb5abe835","modified":1651671378904},{"_id":"public/assets/js/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1651671378904},{"_id":"public/images/avatar.jpg","hash":"ebb2d834abbab660efa98d2db960aaf4270476f1","modified":1651671378904},{"_id":"public/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"509988477da79c146cb93fb728405f18e923c2de","modified":1651671378904},{"_id":"public/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"75a88815c47a249eadb5f0edc1675957f860cca7","modified":1651671378904},{"_id":"public/posts/fa45/634be995b5bc.png","hash":"9f543f1ed29803038c5466b3046b48f4f46bb412","modified":1651671378904},{"_id":"public/posts/9a8h/2.png","hash":"756e78903b14556b0235e5f6f37fc7e0ac639370","modified":1651671378904},{"_id":"public/posts/539/gf3.png","hash":"e7d9aa0ab06fc65ae32203b98a354baa1cace26e","modified":1651671378904},{"_id":"public/js/algolia-search.js","hash":"498d233eb5c7af6940baf94c1a1c36fdf1dd2636","modified":1651671378904},{"_id":"public/js/local-search.js","hash":"35ccf100d8f9c0fd6bfbb7fa88c2a76c42a69110","modified":1651671378904},{"_id":"public/js/motion.js","hash":"72df86f6dfa29cce22abeff9d814c9dddfcf13a9","modified":1651671378904},{"_id":"public/js/bookmark.js","hash":"9734ebcb9b83489686f5c2da67dc9e6157e988ad","modified":1651671378904},{"_id":"public/js/utils.js","hash":"730cca7f164eaf258661a61ff3f769851ff1e5da","modified":1651671378904},{"_id":"public/js/next-boot.js","hash":"a1b0636423009d4a4e4cea97bcbf1842bfab582c","modified":1651671378904},{"_id":"public/lib/pace/README.html","hash":"b1db0e6c71c25fbdc5a161e1bd70382846ce99ab","modified":1651671378904},{"_id":"public/js/schemes/pisces.js","hash":"0ac5ce155bc58c972fe21c4c447f85e6f8755c62","modified":1651671378904},{"_id":"public/js/schemes/muse.js","hash":"1eb9b88103ddcf8827b1a7cbc56471a9c5592d53","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-flat-top.min.css","hash":"5e1c97e232b46e48592a8e4983ae5a89e0a7da6a","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1651671378904},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1651671378904},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1651671378904},{"_id":"public/css/main.css","hash":"39e4d097ced2909707badfa16f9fe5f005a6c449","modified":1651671378904},{"_id":"public/lib/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1651671378904},{"_id":"public/lib/pace/pace-theme-material.min.css","hash":"f1ff83985c090f3a3236554c5ef69542dcceb049","modified":1651671378904},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1651671378904},{"_id":"public/lib/font-awesome/css/all.min.css","hash":"0038dc97c79451578b7bd48af60ba62282b4082b","modified":1651671378904},{"_id":"public/posts/8aa0/2afdc3d69fa9.png","hash":"ee2ec4d29d2516159aeeea040d6f7ddc5f07718f","modified":1651671378904},{"_id":"public/posts/9a8h/10.png","hash":"98ebeaf917ff2eaa08e1461eb93ff99b8bbac6cd","modified":1651671378904},{"_id":"public/posts/9a8h/8.png","hash":"368f23564344b0e005ccd37d8979488b72214257","modified":1651671378904},{"_id":"public/posts/539/gf12.png","hash":"0a5e4f151242bc29662a43161454b7f2d161458d","modified":1651671378904},{"_id":"public/posts/539/gf15.png","hash":"54182efd66a40daa1d36b580052edbb296cd8ab2","modified":1651671378904},{"_id":"public/posts/539/gf8.png","hash":"07444a7a4bbe315081f434a30678f0cc39ba2474","modified":1651671378904},{"_id":"public/posts/fa45/1572c2ebc891.png","hash":"57f775f88760fdcea12d1143ec21d682960c9e52","modified":1651671378904},{"_id":"public/posts/fa45/ab8f20ce2acc.png","hash":"af7e38d63e99daa064a42d7f0777863c01eb49b6","modified":1651671378904},{"_id":"public/posts/fa45/c31775e8bbe3.png","hash":"a58d8da564b0b4a01447cb0521bbd4198fd3bea2","modified":1651671378904},{"_id":"public/posts/fdc/ram2.png","hash":"99f25eec2df909cc9e07d7195c342624b50d58d8","modified":1651671378904},{"_id":"public/posts/fdc/ram6.png","hash":"781469a74ebe155ab4a9ca08eb0023482ff3297e","modified":1651671378904},{"_id":"public/posts/9a8h/1.png","hash":"63c1e5df5faa1a140d3054728da94b29cf70cb75","modified":1651671378904},{"_id":"public/posts/fdc/ram8.png","hash":"740b8967bcc256d5247207e83af79e11221d24be","modified":1651671378904},{"_id":"public/posts/9a8h/16.png","hash":"3c5c7cf44aeb7a025d21e6ebd96c204d91c65bcb","modified":1651671378904},{"_id":"public/posts/9a8h/3.png","hash":"bd5b4a8679b5b6bb03cf4a6848b3116ea2db722a","modified":1651671378904},{"_id":"public/posts/9a8h/5.png","hash":"fcee6b78b57dac400c5bb2fa82c5446140504ad1","modified":1651671378904},{"_id":"public/posts/9a8h/6.png","hash":"82f9cea0d6b7b8a86c1efffd9addf06172c465ab","modified":1651671378904},{"_id":"public/posts/539/gf5.png","hash":"2c349dd6d441189d569759b2152fb4f71e77791d","modified":1651671378904},{"_id":"public/posts/539/gf4.png","hash":"29ca4a085f45728fc270a44e40cd151adfba1a8a","modified":1651671378904},{"_id":"public/posts/fa45/de4222775e67.png","hash":"99be909dcafe21213c13265bd3636ade2f77a415","modified":1651671378904},{"_id":"public/posts/fdc/ram1.png","hash":"3f81fb567b165494d7b1eb1b25c052bda32c742a","modified":1651671378904},{"_id":"public/posts/fa45/gaisu.png","hash":"c58ef01e18142f1ce637217762542a73367e483e","modified":1651671378904},{"_id":"public/posts/fdc/ram7.png","hash":"043b10ad0217c47f6835bbcb7b9d5f5a9cd5f988","modified":1651671378904},{"_id":"public/posts/fdc/ram5.png","hash":"b2c5cf28a5480294fabfca8db9f717d6d6487b66","modified":1651671378904},{"_id":"public/posts/9a8h/11.png","hash":"dcc4ad85ab1f4edbc0aa094b53b1d0e8493d8c88","modified":1651671378904},{"_id":"public/posts/9a8h/9.png","hash":"7f74a9f47a2d9d83fc82b884b17b8c93a1d05924","modified":1651671378904},{"_id":"public/posts/539/gf6.png","hash":"8447116a852a91d68acd947993405b6cf415381d","modified":1651671378904},{"_id":"public/images/background.jpeg","hash":"b9e6ecf7699b5fd7c95f50d56d2b48afe62e4488","modified":1651671378904},{"_id":"public/posts/fa45/21812e1bbfad.png","hash":"ce2e8a583d00ee261c661986dc611400c87ba818","modified":1651671378904},{"_id":"public/posts/fa45/7528aa1bf3da.png","hash":"9c579e40e532170a13b32abec1ebaf39378670e1","modified":1651671378904},{"_id":"public/posts/8aa0/7b70de99e5f7.png","hash":"fd04d7733c5b1447e9c0508d92807fbf9c2421e1","modified":1651671378904},{"_id":"public/posts/8aa0/6bbe6aab7201.png","hash":"93e7a9dd7e4b7efe65eceb19d9ca28fba17950a7","modified":1651671378904},{"_id":"public/posts/9a8h/13.png","hash":"b46a01d70f0397d238893562c74177e2620e96fa","modified":1651671378904},{"_id":"public/posts/9a8h/15.png","hash":"9bcf9769e3261a8ca84251085db63ca00078ea38","modified":1651671378904},{"_id":"public/posts/9a8h/7.png","hash":"d46ccdd0c1fec9379f28dc153dfcd53aaa3e75d6","modified":1651671378904},{"_id":"public/posts/539/gf11.png","hash":"3245ba84de0a8fbf411987e2a5901ed9ec2cf6cc","modified":1651671378904},{"_id":"public/posts/539/gf2.png","hash":"13a289912911701423f80d6083c9af797acc19f5","modified":1651671378904},{"_id":"public/posts/9a8h/14.png","hash":"501f84e8376fedc0036539ba36fd9e69c0906b47","modified":1651671378904},{"_id":"public/posts/fdc/ram4.png","hash":"d7c69a6cd55e5c6761f8d10f97df6fec7ca192d0","modified":1651671378904},{"_id":"public/posts/539/gf13.png","hash":"67bcb850aae40f8cfa0f0f004faf78c84a27ae36","modified":1651671378904},{"_id":"public/posts/539/gf14.png","hash":"a55c37098012fe7c2357f160f18b46fa3375befd","modified":1651671378904},{"_id":"public/posts/539/gf7.png","hash":"977bd10d62f62daf2f10692e75df6c011bf7c1fe","modified":1651671378904},{"_id":"public/posts/fa45/d6da8c845c41.png","hash":"b614ff7f3d18a32abedd27f042286d3e911400e3","modified":1651671378904},{"_id":"public/posts/9a8h/12.png","hash":"49545c7daa918e583dc69dbd75d33b9fe0d2ded1","modified":1651671378904},{"_id":"public/posts/9a8h/4.png","hash":"34b58260b8187846fab853620311e97d3b50033a","modified":1651671378904},{"_id":"public/posts/539/gf1.png","hash":"4ef3ab2f2f41d15d31e6f1845403bbfabb59d9df","modified":1651671378904},{"_id":"public/posts/539/gf10.png","hash":"b23b6cb991497506195c01c55fc54fa5a912d339","modified":1651671378904},{"_id":"public/posts/fa45/de3ebdd4f016.png","hash":"b6a766011b329f668f083b6714e9842f565c3e73","modified":1651671378904},{"_id":"public/posts/539/gf9.png","hash":"699f349910e318ba1d8cdd63be891ac58b2d5747","modified":1651671378904},{"_id":"public/posts/9a8h/17.png","hash":"4233ab5fda184bb53e8a7eb413ca09bcbb9f0e54","modified":1651671378904},{"_id":"source/_posts/helm-部署应用.md","hash":"21968533e7d3bd5f89a146a8416d7e85f11403ee","modified":1651672647305},{"_id":"source/_posts/helm-部署应用/helm2.png","hash":"6f9e17f844e5d17aad5496b36c36e0ff4b361d06","modified":1651671979708},{"_id":"source/_posts/helm-部署应用/helm3.png","hash":"d3c7998f0a1eea7a45b89f7501d8c0c2184d91d2","modified":1651671979708},{"_id":"source/_posts/helm-部署应用/helm4.png","hash":"bc6b76c4aaf08c5776f11fbf996cc186a7047382","modified":1651671979709},{"_id":"source/_posts/helm-部署应用/helm5.png","hash":"701a5e3cfd12b99d0db435681a4517428a266325","modified":1651671979709},{"_id":"source/_posts/helm-部署应用/helm1.png","hash":"2ab9276bbc7a6e87221fbd9bf589ee074d4c651c","modified":1651671979707},{"_id":"public/posts/ce0f.html","hash":"dfb811c91497e7f918e1b15faf1e08e40301c70f","modified":1651672649877},{"_id":"public/posts/ce0f/helm3.png","hash":"d3c7998f0a1eea7a45b89f7501d8c0c2184d91d2","modified":1651672617095},{"_id":"public/posts/ce0f/helm2.png","hash":"6f9e17f844e5d17aad5496b36c36e0ff4b361d06","modified":1651672617095},{"_id":"public/posts/ce0f/helm4.png","hash":"bc6b76c4aaf08c5776f11fbf996cc186a7047382","modified":1651672617095},{"_id":"public/posts/ce0f/helm5.png","hash":"701a5e3cfd12b99d0db435681a4517428a266325","modified":1651672617095},{"_id":"public/posts/ce0f/helm1.png","hash":"2ab9276bbc7a6e87221fbd9bf589ee074d4c651c","modified":1651672617095}],"Category":[{"name":"Linux","_id":"cl2rmhsnh000622e337nz16xn"},{"name":"云原生","_id":"cl2rmhsni000d22e360s53t85"}],"Data":[{"_id":"footer","data":""},{"_id":"styles","data":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n"},{"_id":"variables","data":""}],"Page":[{"title":"404","date":"2022-03-07T15:53:45.000Z","layout":"false","_content":"<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>(404) The page you were looking for doesn't exist.</title>\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"//cloud.typography.com/746852/739588/css/fonts.css\" />\n  <style type=\"text/css\">\n    html,\n    body {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n    }\n\n    body {\n      font-family: \"Whitney SSm A\", \"Whitney SSm B\", \"Helvetica Neue\", Helvetica, Arial, Sans-Serif;\n      background-color: #2D72D9;\n      color: #fff;\n      -moz-font-smoothing: antialiased;\n      -webkit-font-smoothing: antialiased;\n    }\n\n    .error-container {\n      text-align: center;\n      height: 100%;\n    }\n\n    @media (max-width: 480px) {\n      .error-container {\n        position: relative;\n        top: 50%;\n        height: initial;\n        -webkit-transform: translateY(-50%);\n        -ms-transform: translateY(-50%);\n        transform: translateY(-50%);\n      }\n    }\n\n    .error-container h1 {\n      margin: 0;\n      font-size: 130px;\n      font-weight: 300;\n    }\n\n    @media (min-width: 480px) {\n      .error-container h1 {\n        position: relative;\n        top: 50%;\n        -webkit-transform: translateY(-50%);\n        -ms-transform: translateY(-50%);\n        transform: translateY(-50%);\n      }\n    }\n\n    @media (min-width: 768px) {\n      .error-container h1 {\n        font-size: 220px;\n      }\n    }\n\n    .return {\n      color: rgba(255, 255, 255, 0.6);\n      font-weight: 400;\n      letter-spacing: -0.04em;\n      margin: 0;\n    }\n\n    @media (min-width: 480px) {\n      .return {\n        position: absolute;\n        width: 100%;\n        bottom: 30px;\n      }\n    }\n\n    .return a {\n      padding-bottom: 1px;\n      color: #fff;\n      text-decoration: none;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n      -webkit-transition: border-color 0.1s ease-in;\n      transition: border-color 0.1s ease-in;\n    }\n\n    .return a:hover {\n      border-bottom-color: #fff;\n    }\n  </style>\n</head>\n\n<body>\n\n<div class=\"error-container\">\n  <h1>404</h1>\n  <p class=\"return\">Take me back to <a href=\"/\">359sun.top</a></p>\n</div>\n\n</body>\n</html>\n","source":"404/index.md","raw":"---\ntitle: 404\ndate: 2022-03-07 23:53:45\nlayout: false\npermalink: /404\n---\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>(404) The page you were looking for doesn't exist.</title>\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"//cloud.typography.com/746852/739588/css/fonts.css\" />\n  <style type=\"text/css\">\n    html,\n    body {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n    }\n\n    body {\n      font-family: \"Whitney SSm A\", \"Whitney SSm B\", \"Helvetica Neue\", Helvetica, Arial, Sans-Serif;\n      background-color: #2D72D9;\n      color: #fff;\n      -moz-font-smoothing: antialiased;\n      -webkit-font-smoothing: antialiased;\n    }\n\n    .error-container {\n      text-align: center;\n      height: 100%;\n    }\n\n    @media (max-width: 480px) {\n      .error-container {\n        position: relative;\n        top: 50%;\n        height: initial;\n        -webkit-transform: translateY(-50%);\n        -ms-transform: translateY(-50%);\n        transform: translateY(-50%);\n      }\n    }\n\n    .error-container h1 {\n      margin: 0;\n      font-size: 130px;\n      font-weight: 300;\n    }\n\n    @media (min-width: 480px) {\n      .error-container h1 {\n        position: relative;\n        top: 50%;\n        -webkit-transform: translateY(-50%);\n        -ms-transform: translateY(-50%);\n        transform: translateY(-50%);\n      }\n    }\n\n    @media (min-width: 768px) {\n      .error-container h1 {\n        font-size: 220px;\n      }\n    }\n\n    .return {\n      color: rgba(255, 255, 255, 0.6);\n      font-weight: 400;\n      letter-spacing: -0.04em;\n      margin: 0;\n    }\n\n    @media (min-width: 480px) {\n      .return {\n        position: absolute;\n        width: 100%;\n        bottom: 30px;\n      }\n    }\n\n    .return a {\n      padding-bottom: 1px;\n      color: #fff;\n      text-decoration: none;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n      -webkit-transition: border-color 0.1s ease-in;\n      transition: border-color 0.1s ease-in;\n    }\n\n    .return a:hover {\n      border-bottom-color: #fff;\n    }\n  </style>\n</head>\n\n<body>\n\n<div class=\"error-container\">\n  <h1>404</h1>\n  <p class=\"return\">Take me back to <a href=\"/\">359sun.top</a></p>\n</div>\n\n</body>\n</html>\n","updated":"2022-05-03T13:20:22.236Z","path":"/404.html","comments":1,"_id":"cl2rmhsnc000022e364ug717q","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>(404) The page you were looking for doesn't exist.</title>\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"//cloud.typography.com/746852/739588/css/fonts.css\">\n  <style type=\"text/css\">\n    html,\n    body {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n    }\n\n<pre><code>body &#123;\n  font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, Sans-Serif;\n  background-color: #2D72D9;\n  color: #fff;\n  -moz-font-smoothing: antialiased;\n  -webkit-font-smoothing: antialiased;\n&#125;\n\n.error-container &#123;\n  text-align: center;\n  height: 100%;\n&#125;\n\n@media (max-width: 480px) &#123;\n  .error-container &#123;\n    position: relative;\n    top: 50%;\n    height: initial;\n    -webkit-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n  &#125;\n&#125;\n\n.error-container h1 &#123;\n  margin: 0;\n  font-size: 130px;\n  font-weight: 300;\n&#125;\n\n@media (min-width: 480px) &#123;\n  .error-container h1 &#123;\n    position: relative;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n  &#125;\n&#125;\n\n@media (min-width: 768px) &#123;\n  .error-container h1 &#123;\n    font-size: 220px;\n  &#125;\n&#125;\n\n.return &#123;\n  color: rgba(255, 255, 255, 0.6);\n  font-weight: 400;\n  letter-spacing: -0.04em;\n  margin: 0;\n&#125;\n\n@media (min-width: 480px) &#123;\n  .return &#123;\n    position: absolute;\n    width: 100%;\n    bottom: 30px;\n  &#125;\n&#125;\n\n.return a &#123;\n  padding-bottom: 1px;\n  color: #fff;\n  text-decoration: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n  -webkit-transition: border-color 0.1s ease-in;\n  transition: border-color 0.1s ease-in;\n&#125;\n\n.return a:hover &#123;\n  border-bottom-color: #fff;\n&#125;\n</code></pre>\n<p>  </style><p></p>\n</head>\n\n<body>\n\n<div class=\"error-container\">\n  <h1>404</h1>\n  <p class=\"return\">Take me back to <a href=\"/\">359sun.top</a></p>\n</div>\n\n</body>\n</html>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":1366,"excerpt":"","more":"<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>(404) The page you were looking for doesn't exist.</title>\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"//cloud.typography.com/746852/739588/css/fonts.css\">\n  <style type=\"text/css\">\n    html,\n    body {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n    }\n\n<pre><code>body &#123;\n  font-family: &quot;Whitney SSm A&quot;, &quot;Whitney SSm B&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, Sans-Serif;\n  background-color: #2D72D9;\n  color: #fff;\n  -moz-font-smoothing: antialiased;\n  -webkit-font-smoothing: antialiased;\n&#125;\n\n.error-container &#123;\n  text-align: center;\n  height: 100%;\n&#125;\n\n@media (max-width: 480px) &#123;\n  .error-container &#123;\n    position: relative;\n    top: 50%;\n    height: initial;\n    -webkit-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n  &#125;\n&#125;\n\n.error-container h1 &#123;\n  margin: 0;\n  font-size: 130px;\n  font-weight: 300;\n&#125;\n\n@media (min-width: 480px) &#123;\n  .error-container h1 &#123;\n    position: relative;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n  &#125;\n&#125;\n\n@media (min-width: 768px) &#123;\n  .error-container h1 &#123;\n    font-size: 220px;\n  &#125;\n&#125;\n\n.return &#123;\n  color: rgba(255, 255, 255, 0.6);\n  font-weight: 400;\n  letter-spacing: -0.04em;\n  margin: 0;\n&#125;\n\n@media (min-width: 480px) &#123;\n  .return &#123;\n    position: absolute;\n    width: 100%;\n    bottom: 30px;\n  &#125;\n&#125;\n\n.return a &#123;\n  padding-bottom: 1px;\n  color: #fff;\n  text-decoration: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n  -webkit-transition: border-color 0.1s ease-in;\n  transition: border-color 0.1s ease-in;\n&#125;\n\n.return a:hover &#123;\n  border-bottom-color: #fff;\n&#125;\n</code></pre>\n<p>  </style><p></p>\n</head>\n\n<body>\n\n<div class=\"error-container\">\n  <h1>404</h1>\n  <p class=\"return\">Take me back to <a href=\"/\">359sun.top</a></p>\n</div>\n\n</body>\n</html>\n"},{"title":"关于","date":"2022-03-01T16:17:07.000Z","_content":"### 关于\n\n用途：个人学习记录博客\n\nGitbub 地址：https://github.com/yakir3\n\n本博客使用GithubPages + Hexo + Next 主题\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2022-03-02 00:17:07\n---\n### 关于\n\n用途：个人学习记录博客\n\nGitbub 地址：https://github.com/yakir3\n\n本博客使用GithubPages + Hexo + Next 主题\n","updated":"2022-05-03T13:20:22.289Z","path":"about/index.html","comments":1,"layout":"page","_id":"cl2rmhsnf000222e3esyg3zky","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"关于\"><a href=\"#关于\" class=\"headerlink\" title=\"关于\"></a>关于</h3><p>用途：个人学习记录博客</p>\n<p>Gitbub 地址：<a href=\"https://github.com/yakir3\">https://github.com/yakir3</a></p>\n<p>本博客使用GithubPages + Hexo + Next 主题</p>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":75,"excerpt":"","more":"<h3 id=\"关于\"><a href=\"#关于\" class=\"headerlink\" title=\"关于\"></a>关于</h3><p>用途：个人学习记录博客</p>\n<p>Gitbub 地址：<a href=\"https://github.com/yakir3\">https://github.com/yakir3</a></p>\n<p>本博客使用GithubPages + Hexo + Next 主题</p>\n"},{"title":"分类","date":"2022-03-01T15:40:17.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2022-03-01 23:40:17\ntype: categories\n---\n","updated":"2022-05-03T13:20:22.289Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cl2rmhsng000422e3fvh59mag","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script>","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":0,"excerpt":"","more":""},{"title":"歌单","date":"2022-03-08T14:53:42.000Z","type":"musiclist","_content":"{% meting \"1781370591\" \"tencent\" \"playlist\" \"theme:#FF4081\" \"mode:circulation\" \"mutex:true\" \"listmaxheight:340px\" \"preload:auto\" %}\n","source":"musiclist/index.md","raw":"---\ntitle: 歌单\ndate: 2022-03-08 22:53:42\ntype: musiclist\n---\n{% meting \"1781370591\" \"tencent\" \"playlist\" \"theme:#FF4081\" \"mode:circulation\" \"mutex:true\" \"listmaxheight:340px\" \"preload:auto\" %}\n","updated":"2022-05-03T13:20:22.289Z","path":"musiclist/index.html","comments":1,"layout":"page","_id":"cl2rmhsnh000822e39qjac9v3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script>\n    <div id=\"aplayer-ZZaJTzJG\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"1781370591\" data-server=\"tencent\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"true\" data-listmaxheight=\"340px\" data-preload=\"auto\" data-theme=\"#FF4081\"></div>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":0,"excerpt":"","more":"\n    <div id=\"aplayer-ZZaJTzJG\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"1781370591\" data-server=\"tencent\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"true\" data-listmaxheight=\"340px\" data-preload=\"auto\" data-theme=\"#FF4081\"></div>\n"},{"title":"标签","date":"2022-03-01T15:42:07.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2022-03-01 23:42:07\ntype: tags\n---\n","updated":"2022-05-03T13:20:22.289Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cl2rmhsni000a22e3d7kxeqh2","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script>","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":0,"excerpt":"","more":""}],"Post":[{"title":"Hello World","abbrlink":"3eeb","date":"2022-02-27T15:30:35.000Z","_content":"## Hello World!\n\n### For test.\n\n```\n# /bin/bash\necho test\n```\n\nTo Google [谷歌](https://www.google.com)\n","source":"_posts/First-Article.md","raw":"---\ntitle: Hello World\nabbrlink: 3eeb\ndate: 2022-02-27 23:30:35\ntags:\n---\n## Hello World!\n\n### For test.\n\n```\n# /bin/bash\necho test\n```\n\nTo Google [谷歌](https://www.google.com)\n","slug":"First-Article","published":1,"updated":"2022-05-03T13:20:22.236Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2rmhsnd000122e3dx4s1cf7","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World!\"></a>Hello World!</h2><h3 id=\"For-test\"><a href=\"#For-test\" class=\"headerlink\" title=\"For test.\"></a>For test.</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># /bin/bash</span><br><span class=\"line\">echo test</span><br></pre></td></tr></table></figure>\n\n<p>To Google <a href=\"https://www.google.com/\">谷歌</a></p>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":49,"excerpt":"","more":"<h2 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World!\"></a>Hello World!</h2><h3 id=\"For-test\"><a href=\"#For-test\" class=\"headerlink\" title=\"For test.\"></a>For test.</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># /bin/bash</span><br><span class=\"line\">echo test</span><br></pre></td></tr></table></figure>\n\n<p>To Google <a href=\"https://www.google.com/\">谷歌</a></p>\n"},{"title":"git flow 工作流理解","abbrlink":"539","date":"2022-05-04T13:14:23.000Z","_content":"### 一、gitflow：版本分支管理策略（相当于对git的包装）\n1. GitFlow描述\n- 常用分支包括master、develop、feature、release、hotfix（support分支不常用）\n- 其中master、develop是远程分支，feature、release、hotfix是本地分支。\n   - 远程分支是指需要push到gitlab、github远程仓库中\n   - 本地分支指开发人员的本地开发时使用的git版本控制环境\n\n<!--more-->\n2. GitFlow流程图及描述理解\n\n{% asset_img gf1.png img.png %}\n{% asset_img gf2.png img.png %}\n\n- master：主干分支 \n\n{% asset_img gf3.png img.png %}\n\n   - 最稳定分支、功能完整、可随时发布线上环境（只读分支，只能从hotfix/release合并 不能修改）\n   - 在master分支上的推送应该打tag记录追溯；\n\n- develop：开发分支 ß\n   - 功能最新最全的分支，基于master分支克隆（仅首次克隆）；\n   - feature分支本地自测通过后合并到develop分支然后删除；\n   - 收集所有上线功能后（包含所有发布到下一个release的代码）从delevop拉去release分支进行提测；\n   - release/hotfix分支上线完毕，合并到develop并推送；\n\n- feature：功能开发分支 \n\n{% asset_img gf4.png img.png %}\n\n   - 开发某部分新功能，基于develop分支克隆，功能开发完毕且本地自测通过（编译完成且无异常）合并到develop分支；\n   - 可存在多个feature分支，即团队多人同时开发创建多个临时分支，功能完成后可选删除；\n\n- release：测试分支 \n\n{% asset_img gf5.png img.png %}\n\n   - 用于提交给测试人员进行功能测试，基于feature分支合并到develop之后，从develop分支克隆；\n   - 测试过程发现BUG在本分支进行修复，修复时创建修复分支bugfix-*，修复完所有bug上线后一次性合并到develop/master分支并推送（完成功能），推送master分支时打tag；\n   - 临时分支，功能上线后可选删除（开启release测试后，不允许develop分支新功能继续合并到release分支，新功能需放到下一个release测试及发布）；\n\n- hotfix：补丁分支 \n\n{% asset_img gf6.png img.png %}\n\n   - 基于master分支克隆，主要用于线上版本进行BUG修复；\n   - 修复bug后合并到develop/master分支并推送（所有hotfix分支的修改会进入到下一个release），推送master分支时打tag；\n   - 临时分支，修复bug后可选删除\n\n3. 开发准则与约定\n- 准则\n   - 除了源码相关的东西之外，其他build产生的东西（如：maven的target文件夹，.idea文件夹等），均不能提交进入源码仓库，添加到.gitignore文件中忽略掉\n   - 开发人员要严格按照我们约定的gitflow版本分支管理流程切换到指定分支，开发相应的功能\n   - 任务完成后需要根据测试用例经过严格的自测才能推送develop，严禁将编译不通过，提交不完全的代码推送到远程分支\n- 约定：\n   - 主分支名称：master    主开发分支：develop\n   - 标签（tag）名称：v*. release，其中“*” 为版本号，“release” 小写，如：v1.0.0. release\n   - 新功能开发分支名称：feature-*，其中“*” 为对应jira（Aone）上的任务编号\n   - 发布分支名称：release-*，其中“*” 为版本号，“release”小写，如：release-1.0.0，release分支上修复bug的分支名称为bugfix-*\n   - master的bug修复分支名称：hotfix-*，其中“*” 为对应jira（Aone）上的任务编号\n\n### 二、测试部分\n\n- 本地git flow init 初始化仓库，提交develop分支\n\n{% asset_img gf7.png img.png %}\n{% asset_img gf8.png img.png %}\n\n- 提交到远程测试用github仓库（使用ssh公钥认证方式），可以看到develop分支已有第一次提交\n\n{% asset_img gf9.png img.png %}\n\n- 到tmp目录下新建工作目录，并clone下远程仓库到本地（模拟本地开发）\n\n{% asset_img gf10.png img.png %}\n\n- 初始化仓库后，拉取develop分支到本地进行开发。此时可以切出feature分支进行功能开发\n\n{% asset_img gf11.png img.png %}\n{% asset_img gf12.png img.png %}\n\n- 开发功能提交后进行提交到远程仓库并track远程分支。后续可以git push持续提交\n\n{% asset_img gf13.png img.png %}\n{% asset_img gf14.png img.png %}\n\n- 功能开发完成后，将分支合并到develop分支并删除本地feature分支（加上-F参数可以同时删除远程分支）\n\n{% asset_img gf15.png img.png %}\nfinish提交后即将新功能合并到develop分支，完成新功能开发。后续即执行release发布操作，步骤类似\n\n","source":"_posts/git-flow-工作流理解.md","raw":"---\ntitle: git flow 工作流理解\ncategories:\n  - Linux\ntags:\n  - git\nabbrlink: '539'\ndate: 2022-05-04 21:14:23\n---\n### 一、gitflow：版本分支管理策略（相当于对git的包装）\n1. GitFlow描述\n- 常用分支包括master、develop、feature、release、hotfix（support分支不常用）\n- 其中master、develop是远程分支，feature、release、hotfix是本地分支。\n   - 远程分支是指需要push到gitlab、github远程仓库中\n   - 本地分支指开发人员的本地开发时使用的git版本控制环境\n\n<!--more-->\n2. GitFlow流程图及描述理解\n\n{% asset_img gf1.png img.png %}\n{% asset_img gf2.png img.png %}\n\n- master：主干分支 \n\n{% asset_img gf3.png img.png %}\n\n   - 最稳定分支、功能完整、可随时发布线上环境（只读分支，只能从hotfix/release合并 不能修改）\n   - 在master分支上的推送应该打tag记录追溯；\n\n- develop：开发分支 ß\n   - 功能最新最全的分支，基于master分支克隆（仅首次克隆）；\n   - feature分支本地自测通过后合并到develop分支然后删除；\n   - 收集所有上线功能后（包含所有发布到下一个release的代码）从delevop拉去release分支进行提测；\n   - release/hotfix分支上线完毕，合并到develop并推送；\n\n- feature：功能开发分支 \n\n{% asset_img gf4.png img.png %}\n\n   - 开发某部分新功能，基于develop分支克隆，功能开发完毕且本地自测通过（编译完成且无异常）合并到develop分支；\n   - 可存在多个feature分支，即团队多人同时开发创建多个临时分支，功能完成后可选删除；\n\n- release：测试分支 \n\n{% asset_img gf5.png img.png %}\n\n   - 用于提交给测试人员进行功能测试，基于feature分支合并到develop之后，从develop分支克隆；\n   - 测试过程发现BUG在本分支进行修复，修复时创建修复分支bugfix-*，修复完所有bug上线后一次性合并到develop/master分支并推送（完成功能），推送master分支时打tag；\n   - 临时分支，功能上线后可选删除（开启release测试后，不允许develop分支新功能继续合并到release分支，新功能需放到下一个release测试及发布）；\n\n- hotfix：补丁分支 \n\n{% asset_img gf6.png img.png %}\n\n   - 基于master分支克隆，主要用于线上版本进行BUG修复；\n   - 修复bug后合并到develop/master分支并推送（所有hotfix分支的修改会进入到下一个release），推送master分支时打tag；\n   - 临时分支，修复bug后可选删除\n\n3. 开发准则与约定\n- 准则\n   - 除了源码相关的东西之外，其他build产生的东西（如：maven的target文件夹，.idea文件夹等），均不能提交进入源码仓库，添加到.gitignore文件中忽略掉\n   - 开发人员要严格按照我们约定的gitflow版本分支管理流程切换到指定分支，开发相应的功能\n   - 任务完成后需要根据测试用例经过严格的自测才能推送develop，严禁将编译不通过，提交不完全的代码推送到远程分支\n- 约定：\n   - 主分支名称：master    主开发分支：develop\n   - 标签（tag）名称：v*. release，其中“*” 为版本号，“release” 小写，如：v1.0.0. release\n   - 新功能开发分支名称：feature-*，其中“*” 为对应jira（Aone）上的任务编号\n   - 发布分支名称：release-*，其中“*” 为版本号，“release”小写，如：release-1.0.0，release分支上修复bug的分支名称为bugfix-*\n   - master的bug修复分支名称：hotfix-*，其中“*” 为对应jira（Aone）上的任务编号\n\n### 二、测试部分\n\n- 本地git flow init 初始化仓库，提交develop分支\n\n{% asset_img gf7.png img.png %}\n{% asset_img gf8.png img.png %}\n\n- 提交到远程测试用github仓库（使用ssh公钥认证方式），可以看到develop分支已有第一次提交\n\n{% asset_img gf9.png img.png %}\n\n- 到tmp目录下新建工作目录，并clone下远程仓库到本地（模拟本地开发）\n\n{% asset_img gf10.png img.png %}\n\n- 初始化仓库后，拉取develop分支到本地进行开发。此时可以切出feature分支进行功能开发\n\n{% asset_img gf11.png img.png %}\n{% asset_img gf12.png img.png %}\n\n- 开发功能提交后进行提交到远程仓库并track远程分支。后续可以git push持续提交\n\n{% asset_img gf13.png img.png %}\n{% asset_img gf14.png img.png %}\n\n- 功能开发完成后，将分支合并到develop分支并删除本地feature分支（加上-F参数可以同时删除远程分支）\n\n{% asset_img gf15.png img.png %}\nfinish提交后即将新功能合并到develop分支，完成新功能开发。后续即执行release发布操作，步骤类似\n\n","slug":"git-flow-工作流理解","published":1,"updated":"2022-05-04T13:47:38.242Z","_id":"cl2rmhsnf000322e38va7ho67","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"一、gitflow：版本分支管理策略（相当于对git的包装）\"><a href=\"#一、gitflow：版本分支管理策略（相当于对git的包装）\" class=\"headerlink\" title=\"一、gitflow：版本分支管理策略（相当于对git的包装）\"></a>一、gitflow：版本分支管理策略（相当于对git的包装）</h3><ol>\n<li>GitFlow描述</li>\n</ol>\n<ul>\n<li>常用分支包括master、develop、feature、release、hotfix（support分支不常用）</li>\n<li>其中master、develop是远程分支，feature、release、hotfix是本地分支。<ul>\n<li>远程分支是指需要push到gitlab、github远程仓库中</li>\n<li>本地分支指开发人员的本地开发时使用的git版本控制环境</li>\n</ul>\n</li>\n</ul>\n<span id=\"more\"></span>\n<ol start=\"2\">\n<li>GitFlow流程图及描述理解</li>\n</ol>\n<img data-src=\"/posts/539/gf1.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf2.png\" class title=\"img.png\">\n\n<ul>\n<li>master：主干分支</li>\n</ul>\n<img data-src=\"/posts/539/gf3.png\" class title=\"img.png\">\n\n<ul>\n<li><p>最稳定分支、功能完整、可随时发布线上环境（只读分支，只能从hotfix&#x2F;release合并 不能修改）</p>\n</li>\n<li><p>在master分支上的推送应该打tag记录追溯；</p>\n</li>\n<li><p>develop：开发分支 ß</p>\n<ul>\n<li>功能最新最全的分支，基于master分支克隆（仅首次克隆）；</li>\n<li>feature分支本地自测通过后合并到develop分支然后删除；</li>\n<li>收集所有上线功能后（包含所有发布到下一个release的代码）从delevop拉去release分支进行提测；</li>\n<li>release&#x2F;hotfix分支上线完毕，合并到develop并推送；</li>\n</ul>\n</li>\n<li><p>feature：功能开发分支</p>\n</li>\n</ul>\n<img data-src=\"/posts/539/gf4.png\" class title=\"img.png\">\n\n<ul>\n<li><p>开发某部分新功能，基于develop分支克隆，功能开发完毕且本地自测通过（编译完成且无异常）合并到develop分支；</p>\n</li>\n<li><p>可存在多个feature分支，即团队多人同时开发创建多个临时分支，功能完成后可选删除；</p>\n</li>\n<li><p>release：测试分支</p>\n</li>\n</ul>\n<img data-src=\"/posts/539/gf5.png\" class title=\"img.png\">\n\n<ul>\n<li><p>用于提交给测试人员进行功能测试，基于feature分支合并到develop之后，从develop分支克隆；</p>\n</li>\n<li><p>测试过程发现BUG在本分支进行修复，修复时创建修复分支bugfix-*，修复完所有bug上线后一次性合并到develop&#x2F;master分支并推送（完成功能），推送master分支时打tag；</p>\n</li>\n<li><p>临时分支，功能上线后可选删除（开启release测试后，不允许develop分支新功能继续合并到release分支，新功能需放到下一个release测试及发布）；</p>\n</li>\n<li><p>hotfix：补丁分支</p>\n</li>\n</ul>\n<img data-src=\"/posts/539/gf6.png\" class title=\"img.png\">\n\n<ul>\n<li>基于master分支克隆，主要用于线上版本进行BUG修复；</li>\n<li>修复bug后合并到develop&#x2F;master分支并推送（所有hotfix分支的修改会进入到下一个release），推送master分支时打tag；</li>\n<li>临时分支，修复bug后可选删除</li>\n</ul>\n<ol start=\"3\">\n<li>开发准则与约定</li>\n</ol>\n<ul>\n<li>准则<ul>\n<li>除了源码相关的东西之外，其他build产生的东西（如：maven的target文件夹，.idea文件夹等），均不能提交进入源码仓库，添加到.gitignore文件中忽略掉</li>\n<li>开发人员要严格按照我们约定的gitflow版本分支管理流程切换到指定分支，开发相应的功能</li>\n<li>任务完成后需要根据测试用例经过严格的自测才能推送develop，严禁将编译不通过，提交不完全的代码推送到远程分支</li>\n</ul>\n</li>\n<li>约定：<ul>\n<li>主分支名称：master    主开发分支：develop</li>\n<li>标签（tag）名称：v*. release，其中“*” 为版本号，“release” 小写，如：v1.0.0. release</li>\n<li>新功能开发分支名称：feature-<em>，其中“</em>” 为对应jira（Aone）上的任务编号</li>\n<li>发布分支名称：release-<em>，其中“</em>” 为版本号，“release”小写，如：release-1.0.0，release分支上修复bug的分支名称为bugfix-*</li>\n<li>master的bug修复分支名称：hotfix-<em>，其中“</em>” 为对应jira（Aone）上的任务编号</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"二、测试部分\"><a href=\"#二、测试部分\" class=\"headerlink\" title=\"二、测试部分\"></a>二、测试部分</h3><ul>\n<li>本地git flow init 初始化仓库，提交develop分支</li>\n</ul>\n<img data-src=\"/posts/539/gf7.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf8.png\" class title=\"img.png\">\n\n<ul>\n<li>提交到远程测试用github仓库（使用ssh公钥认证方式），可以看到develop分支已有第一次提交</li>\n</ul>\n<img data-src=\"/posts/539/gf9.png\" class title=\"img.png\">\n\n<ul>\n<li>到tmp目录下新建工作目录，并clone下远程仓库到本地（模拟本地开发）</li>\n</ul>\n<img data-src=\"/posts/539/gf10.png\" class title=\"img.png\">\n\n<ul>\n<li>初始化仓库后，拉取develop分支到本地进行开发。此时可以切出feature分支进行功能开发</li>\n</ul>\n<img data-src=\"/posts/539/gf11.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf12.png\" class title=\"img.png\">\n\n<ul>\n<li>开发功能提交后进行提交到远程仓库并track远程分支。后续可以git push持续提交</li>\n</ul>\n<img data-src=\"/posts/539/gf13.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf14.png\" class title=\"img.png\">\n\n<ul>\n<li>功能开发完成后，将分支合并到develop分支并删除本地feature分支（加上-F参数可以同时删除远程分支）</li>\n</ul>\n<img data-src=\"/posts/539/gf15.png\" class title=\"img.png\">\n<p>finish提交后即将新功能合并到develop分支，完成新功能开发。后续即执行release发布操作，步骤类似</p>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":1751,"excerpt":"<h3 id=\"一、gitflow：版本分支管理策略（相当于对git的包装）\"><a href=\"#一、gitflow：版本分支管理策略（相当于对git的包装）\" class=\"headerlink\" title=\"一、gitflow：版本分支管理策略（相当于对git的包装）\"></a>一、gitflow：版本分支管理策略（相当于对git的包装）</h3><ol>\n<li>GitFlow描述</li>\n</ol>\n<ul>\n<li>常用分支包括master、develop、feature、release、hotfix（support分支不常用）</li>\n<li>其中master、develop是远程分支，feature、release、hotfix是本地分支。<ul>\n<li>远程分支是指需要push到gitlab、github远程仓库中</li>\n<li>本地分支指开发人员的本地开发时使用的git版本控制环境</li>\n</ul>\n</li>\n</ul>","more":"<ol start=\"2\">\n<li>GitFlow流程图及描述理解</li>\n</ol>\n<img data-src=\"/posts/539/gf1.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf2.png\" class title=\"img.png\">\n\n<ul>\n<li>master：主干分支</li>\n</ul>\n<img data-src=\"/posts/539/gf3.png\" class title=\"img.png\">\n\n<ul>\n<li><p>最稳定分支、功能完整、可随时发布线上环境（只读分支，只能从hotfix&#x2F;release合并 不能修改）</p>\n</li>\n<li><p>在master分支上的推送应该打tag记录追溯；</p>\n</li>\n<li><p>develop：开发分支 ß</p>\n<ul>\n<li>功能最新最全的分支，基于master分支克隆（仅首次克隆）；</li>\n<li>feature分支本地自测通过后合并到develop分支然后删除；</li>\n<li>收集所有上线功能后（包含所有发布到下一个release的代码）从delevop拉去release分支进行提测；</li>\n<li>release&#x2F;hotfix分支上线完毕，合并到develop并推送；</li>\n</ul>\n</li>\n<li><p>feature：功能开发分支</p>\n</li>\n</ul>\n<img data-src=\"/posts/539/gf4.png\" class title=\"img.png\">\n\n<ul>\n<li><p>开发某部分新功能，基于develop分支克隆，功能开发完毕且本地自测通过（编译完成且无异常）合并到develop分支；</p>\n</li>\n<li><p>可存在多个feature分支，即团队多人同时开发创建多个临时分支，功能完成后可选删除；</p>\n</li>\n<li><p>release：测试分支</p>\n</li>\n</ul>\n<img data-src=\"/posts/539/gf5.png\" class title=\"img.png\">\n\n<ul>\n<li><p>用于提交给测试人员进行功能测试，基于feature分支合并到develop之后，从develop分支克隆；</p>\n</li>\n<li><p>测试过程发现BUG在本分支进行修复，修复时创建修复分支bugfix-*，修复完所有bug上线后一次性合并到develop&#x2F;master分支并推送（完成功能），推送master分支时打tag；</p>\n</li>\n<li><p>临时分支，功能上线后可选删除（开启release测试后，不允许develop分支新功能继续合并到release分支，新功能需放到下一个release测试及发布）；</p>\n</li>\n<li><p>hotfix：补丁分支</p>\n</li>\n</ul>\n<img data-src=\"/posts/539/gf6.png\" class title=\"img.png\">\n\n<ul>\n<li>基于master分支克隆，主要用于线上版本进行BUG修复；</li>\n<li>修复bug后合并到develop&#x2F;master分支并推送（所有hotfix分支的修改会进入到下一个release），推送master分支时打tag；</li>\n<li>临时分支，修复bug后可选删除</li>\n</ul>\n<ol start=\"3\">\n<li>开发准则与约定</li>\n</ol>\n<ul>\n<li>准则<ul>\n<li>除了源码相关的东西之外，其他build产生的东西（如：maven的target文件夹，.idea文件夹等），均不能提交进入源码仓库，添加到.gitignore文件中忽略掉</li>\n<li>开发人员要严格按照我们约定的gitflow版本分支管理流程切换到指定分支，开发相应的功能</li>\n<li>任务完成后需要根据测试用例经过严格的自测才能推送develop，严禁将编译不通过，提交不完全的代码推送到远程分支</li>\n</ul>\n</li>\n<li>约定：<ul>\n<li>主分支名称：master    主开发分支：develop</li>\n<li>标签（tag）名称：v*. release，其中“*” 为版本号，“release” 小写，如：v1.0.0. release</li>\n<li>新功能开发分支名称：feature-<em>，其中“</em>” 为对应jira（Aone）上的任务编号</li>\n<li>发布分支名称：release-<em>，其中“</em>” 为版本号，“release”小写，如：release-1.0.0，release分支上修复bug的分支名称为bugfix-*</li>\n<li>master的bug修复分支名称：hotfix-<em>，其中“</em>” 为对应jira（Aone）上的任务编号</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"二、测试部分\"><a href=\"#二、测试部分\" class=\"headerlink\" title=\"二、测试部分\"></a>二、测试部分</h3><ul>\n<li>本地git flow init 初始化仓库，提交develop分支</li>\n</ul>\n<img data-src=\"/posts/539/gf7.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf8.png\" class title=\"img.png\">\n\n<ul>\n<li>提交到远程测试用github仓库（使用ssh公钥认证方式），可以看到develop分支已有第一次提交</li>\n</ul>\n<img data-src=\"/posts/539/gf9.png\" class title=\"img.png\">\n\n<ul>\n<li>到tmp目录下新建工作目录，并clone下远程仓库到本地（模拟本地开发）</li>\n</ul>\n<img data-src=\"/posts/539/gf10.png\" class title=\"img.png\">\n\n<ul>\n<li>初始化仓库后，拉取develop分支到本地进行开发。此时可以切出feature分支进行功能开发</li>\n</ul>\n<img data-src=\"/posts/539/gf11.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf12.png\" class title=\"img.png\">\n\n<ul>\n<li>开发功能提交后进行提交到远程仓库并track远程分支。后续可以git push持续提交</li>\n</ul>\n<img data-src=\"/posts/539/gf13.png\" class title=\"img.png\">\n<img data-src=\"/posts/539/gf14.png\" class title=\"img.png\">\n\n<ul>\n<li>功能开发完成后，将分支合并到develop分支并删除本地feature分支（加上-F参数可以同时删除远程分支）</li>\n</ul>\n<img data-src=\"/posts/539/gf15.png\" class title=\"img.png\">\n<p>finish提交后即将新功能合并到develop分支，完成新功能开发。后续即执行release发布操作，步骤类似</p>"},{"title":"K8S-RBAC权限控制","abbrlink":"fa45","date":"2022-03-01T15:55:02.000Z","_content":"### 一、RBAC简易概述\n{% asset_img gaisu.png 概述 %}\n#### 1) RBAC 四种 API 对象\n\n- Role：一组权限的集合，在一个命名空间中，可以用其来定义一个角色，只能对命名空间内的资源进行授权。如果是集群级别的资源，则需要使用ClusterRole。例如：定义一个角色用来读取Pod的权限\n- ClusterRole：具有和角色一致的命名空间资源的管理能力，还可用于以下特殊元素的授权\n   - 集群范围的资源，例如Node\n   - 非资源型的路径，例如：/healthz\n   - 包含全部命名空间的资源，例如Pods\n> 例如：定义一个集群角色可让用户访问任意secrets\n- RoleBinding：角色绑定\n- ClusterRoleBinding：集群角色绑定\n> 角色绑定和集群角色绑定用于把一个角色绑定在一个目标上，可以是User，Group，Service Account，使用RoleBinding为某个命名空间授权，使用ClusterRoleBinding为集群范围内授权。\n\n\n**Role和ClusterRole是权限规则的定义**\n- rules代表具体的授权规则，类似于阿里云RAM中的权限策略Policy\n- Role和ClusterRole区别只在于一个是集群级别的资源控制\n\n<!--more-->\n\n**RoleBinding和ClusterRoleBinding是将User、Group、ServiceAccount绑定到Role或ClusterRole中（类似阿里云RAM中将Policy赋权给RAM角色或RAM账号）**\n- User、Group、ServiceAccount 是 K8S 集群中单独的概念，与系统级别不同。参考：[https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2](https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2)\n- RoleBinding 可以引用同一个 namespace 中的任何 Role ；或者一个 RoleBinding 可以引用某 ClusterRole 并将该 ClusterRole 绑定到 RoleBinding 所在的 namespace。\n- 如需 ClusterRole 绑定到集群中所有 namespace，必须要使用 ClusterRoleBinding\n- RoleBinding 对应可引用一个 ClusterRole 对象用于在 RoleBinding 所在的 namespace 内授予用户对所引用的 ClusterRole 中定义的 namespace 资源的访问权限。（在整个集群内定义一组通用角色，然后在不同 namespace 中复用这些角色）\n\n#### 2) 资源引用方式\n\n- 多数资源可以用其名称的字符串表示，也就是Endpoint中的URL相对路径，例如pod中的日志是GET /api/v1/namaspaces/{namespace}/pods/{podname}/log\n- 如果需要在一个RBAC对象中体现上下级资源，就需要使用“/”分割资源和下级资源。\n\n例如：若想授权让某个主体同时能够读取Pod和Pod log，则可以配置 resources为一个数组\n```yaml\nrules:\n- apiGroups: [\"\"]\n   resources: [\"pods\",\"pods/log\"]\n   verbs: [\"get\",\"list\"]\n```\n\n- 通过名称（ResourceName）进行引用，在指定ResourceName后，使用get、delete、update、patch请求，就会被限制在这个资源实例范围内\n\n例如，下面的声明让一个主体只能对名为my-configmap的ConFigmap进行get和update操作：\n```yaml\nrules:\n- apiGroups: [\"\"]\n   resources: [\"configmap\"]\n   resourceNames: [\"my-configmap\"]\n   verbs: [\"get\",\"update\"]\n```\n\n\n#### 3) rules 参数说明\n+ apiGroups：支持的API组列表，例如：\"apiVersion: batch/v1\"等\n+ resources：支持的资源对象列表，例如pods、deplayments、jobs等\n+ resourceNames: 指定resource的名称（可选）\n+ verbs：对资源对象的操作方法列表\n> api-resources：所有资源信息\n> apiGroups：api-resources下的分类分组\n>\n> [查看API GROUP分组信息](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#-strong-api-groups-strong-)\n> - 方式一：kubectl explain xxx ， xxx为 \"kubectl api-resources\" 输出结果的 NAME 值（输出结果的 VERSION 值为v1 则为默认的Core API 分组，默认以\"\" 表示，如 pods、services）\n> - 方式二：kubectl get --raw /apis/apps/v1\n> \n\n可通过 kubectl get --raw /apis/rbac.authorization.k8s.io/v1 可以获取到 RBAC 四个 API 资源对象的相关信息，如下图：\n{% asset_img c31775e8bbe3.png img.png %}\n\n> 创建资源/信息的方式\n> - 方式一：kubectl create -f xxx.yaml       -->   文件方式创建\n> - 方式二：kubectl create --arg1=xxx --arg2=yyy     -->  参数方式创建（后续可通过kubectl edit方式继续编辑）\n\n\n### 二、ServiceAccount 测试\n#### 1) 创建 serviceaccount 账户并进行对应授权\n1. 创建 serviceaccount 账户 camel-sva （只需defalut namespace）\n执行命令：kubectl create serviceaccount camel-sva -n default\n{% asset_img 634be995b5bc.png img.png %}\n\n2. 创建 role 角色 （授权Integration、Kamelet、KameletBinding 3种资源的 curd 权限）\n执行命令：kubectl create role camel-sva-role --verb=\\* --resource=integrations,kamelets,kameletbindings \n{% asset_img 21812e1bbfad.png img.png %}\n\n3. 绑定集群权限\n命令：kubectl create rolebinding camel-sva-rolebinding --role=camel-sva-role --serviceaccount=default:camel-sva\n{% asset_img 7528aa1bf3da.png img.png %}\n\n4. 查看账号 secret 信息\n命令：kubectl get secret/camel-sva-token-mdt28 -oyaml\n{% asset_img de3ebdd4f016.png img.png %}\n将获取到的 token 值进行 base64 解码后即可用来调用 apiserver 接口，如下图（接口可通过 kubectl get --raw /apis/ 进行获取）：\n{% asset_img 1572c2ebc891.png img.png %}\n\n#### 2) 创建用户认证的 kubeconfig 文件\n1. 创建集群配置文件\n命令：kubectl config set-cluster kubernetes --certificate-authority=/etc/kubernetes/pki/ca.crt --server=\"https://10.0.0.142:6443\" --embed-certs=true --kubeconfig=./camel-sva.conf\n\n2. 生成 token（base64编码）\n命令：D=$(kubectl get secret camel-sva-token-mdt28 -o jsonpath={.data.token}|base64 -d)\n\n3. 为配置文件添加 token 信息，设置一个用户条目\n命令：kubectl config set-credentials camel-sva --token=$D --kubeconfig=./camel-sva.conf\n\n4. 为配置文件添加权限信息，设置一个 content 条目\nkubectl config set-context camel-sva@kubernetes --cluster=kubernetes --user=camel-sva --kubeconfig=./camel-sva.conf\n\n5. 为配置文件添加权限信息，设置上下文\n命令：kubectl config use-context camel-sva@kubernetes --kubeconfig=./camel-sva.conf\n\n执行完上述命令后即在当前目录生成配置文件：camel-sva.conf，可 copy 到 kubeconfig对应目录，进行操作。\n{% asset_img d6da8c845c41.png img.png %}\n使用该配置文件进行 kubectl 命令操作，即可验证用户只拥有对应资源的操作权限。\n{% asset_img de4222775e67.png img.png %}\n\n#### 3) API 对象结构\n{% asset_img ab8f20ce2acc.png img.png %}\n\n\n### 三、参考学习\n1. [https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions](https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions)\n2. [https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2](https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2)\n3. [https://zhuanlan.zhihu.com/p/97793056](https://zhuanlan.zhihu.com/p/97793056)\n","source":"_posts/k8s-rbac权限控制.md","raw":"---\ntitle: K8S-RBAC权限控制\ncategories:\n  - 云原生\ntags:\n  - 阿里云\n  - K8S\nabbrlink: fa45\ndate: 2022-03-01 23:55:02\n---\n### 一、RBAC简易概述\n{% asset_img gaisu.png 概述 %}\n#### 1) RBAC 四种 API 对象\n\n- Role：一组权限的集合，在一个命名空间中，可以用其来定义一个角色，只能对命名空间内的资源进行授权。如果是集群级别的资源，则需要使用ClusterRole。例如：定义一个角色用来读取Pod的权限\n- ClusterRole：具有和角色一致的命名空间资源的管理能力，还可用于以下特殊元素的授权\n   - 集群范围的资源，例如Node\n   - 非资源型的路径，例如：/healthz\n   - 包含全部命名空间的资源，例如Pods\n> 例如：定义一个集群角色可让用户访问任意secrets\n- RoleBinding：角色绑定\n- ClusterRoleBinding：集群角色绑定\n> 角色绑定和集群角色绑定用于把一个角色绑定在一个目标上，可以是User，Group，Service Account，使用RoleBinding为某个命名空间授权，使用ClusterRoleBinding为集群范围内授权。\n\n\n**Role和ClusterRole是权限规则的定义**\n- rules代表具体的授权规则，类似于阿里云RAM中的权限策略Policy\n- Role和ClusterRole区别只在于一个是集群级别的资源控制\n\n<!--more-->\n\n**RoleBinding和ClusterRoleBinding是将User、Group、ServiceAccount绑定到Role或ClusterRole中（类似阿里云RAM中将Policy赋权给RAM角色或RAM账号）**\n- User、Group、ServiceAccount 是 K8S 集群中单独的概念，与系统级别不同。参考：[https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2](https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2)\n- RoleBinding 可以引用同一个 namespace 中的任何 Role ；或者一个 RoleBinding 可以引用某 ClusterRole 并将该 ClusterRole 绑定到 RoleBinding 所在的 namespace。\n- 如需 ClusterRole 绑定到集群中所有 namespace，必须要使用 ClusterRoleBinding\n- RoleBinding 对应可引用一个 ClusterRole 对象用于在 RoleBinding 所在的 namespace 内授予用户对所引用的 ClusterRole 中定义的 namespace 资源的访问权限。（在整个集群内定义一组通用角色，然后在不同 namespace 中复用这些角色）\n\n#### 2) 资源引用方式\n\n- 多数资源可以用其名称的字符串表示，也就是Endpoint中的URL相对路径，例如pod中的日志是GET /api/v1/namaspaces/{namespace}/pods/{podname}/log\n- 如果需要在一个RBAC对象中体现上下级资源，就需要使用“/”分割资源和下级资源。\n\n例如：若想授权让某个主体同时能够读取Pod和Pod log，则可以配置 resources为一个数组\n```yaml\nrules:\n- apiGroups: [\"\"]\n   resources: [\"pods\",\"pods/log\"]\n   verbs: [\"get\",\"list\"]\n```\n\n- 通过名称（ResourceName）进行引用，在指定ResourceName后，使用get、delete、update、patch请求，就会被限制在这个资源实例范围内\n\n例如，下面的声明让一个主体只能对名为my-configmap的ConFigmap进行get和update操作：\n```yaml\nrules:\n- apiGroups: [\"\"]\n   resources: [\"configmap\"]\n   resourceNames: [\"my-configmap\"]\n   verbs: [\"get\",\"update\"]\n```\n\n\n#### 3) rules 参数说明\n+ apiGroups：支持的API组列表，例如：\"apiVersion: batch/v1\"等\n+ resources：支持的资源对象列表，例如pods、deplayments、jobs等\n+ resourceNames: 指定resource的名称（可选）\n+ verbs：对资源对象的操作方法列表\n> api-resources：所有资源信息\n> apiGroups：api-resources下的分类分组\n>\n> [查看API GROUP分组信息](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#-strong-api-groups-strong-)\n> - 方式一：kubectl explain xxx ， xxx为 \"kubectl api-resources\" 输出结果的 NAME 值（输出结果的 VERSION 值为v1 则为默认的Core API 分组，默认以\"\" 表示，如 pods、services）\n> - 方式二：kubectl get --raw /apis/apps/v1\n> \n\n可通过 kubectl get --raw /apis/rbac.authorization.k8s.io/v1 可以获取到 RBAC 四个 API 资源对象的相关信息，如下图：\n{% asset_img c31775e8bbe3.png img.png %}\n\n> 创建资源/信息的方式\n> - 方式一：kubectl create -f xxx.yaml       -->   文件方式创建\n> - 方式二：kubectl create --arg1=xxx --arg2=yyy     -->  参数方式创建（后续可通过kubectl edit方式继续编辑）\n\n\n### 二、ServiceAccount 测试\n#### 1) 创建 serviceaccount 账户并进行对应授权\n1. 创建 serviceaccount 账户 camel-sva （只需defalut namespace）\n执行命令：kubectl create serviceaccount camel-sva -n default\n{% asset_img 634be995b5bc.png img.png %}\n\n2. 创建 role 角色 （授权Integration、Kamelet、KameletBinding 3种资源的 curd 权限）\n执行命令：kubectl create role camel-sva-role --verb=\\* --resource=integrations,kamelets,kameletbindings \n{% asset_img 21812e1bbfad.png img.png %}\n\n3. 绑定集群权限\n命令：kubectl create rolebinding camel-sva-rolebinding --role=camel-sva-role --serviceaccount=default:camel-sva\n{% asset_img 7528aa1bf3da.png img.png %}\n\n4. 查看账号 secret 信息\n命令：kubectl get secret/camel-sva-token-mdt28 -oyaml\n{% asset_img de3ebdd4f016.png img.png %}\n将获取到的 token 值进行 base64 解码后即可用来调用 apiserver 接口，如下图（接口可通过 kubectl get --raw /apis/ 进行获取）：\n{% asset_img 1572c2ebc891.png img.png %}\n\n#### 2) 创建用户认证的 kubeconfig 文件\n1. 创建集群配置文件\n命令：kubectl config set-cluster kubernetes --certificate-authority=/etc/kubernetes/pki/ca.crt --server=\"https://10.0.0.142:6443\" --embed-certs=true --kubeconfig=./camel-sva.conf\n\n2. 生成 token（base64编码）\n命令：D=$(kubectl get secret camel-sva-token-mdt28 -o jsonpath={.data.token}|base64 -d)\n\n3. 为配置文件添加 token 信息，设置一个用户条目\n命令：kubectl config set-credentials camel-sva --token=$D --kubeconfig=./camel-sva.conf\n\n4. 为配置文件添加权限信息，设置一个 content 条目\nkubectl config set-context camel-sva@kubernetes --cluster=kubernetes --user=camel-sva --kubeconfig=./camel-sva.conf\n\n5. 为配置文件添加权限信息，设置上下文\n命令：kubectl config use-context camel-sva@kubernetes --kubeconfig=./camel-sva.conf\n\n执行完上述命令后即在当前目录生成配置文件：camel-sva.conf，可 copy 到 kubeconfig对应目录，进行操作。\n{% asset_img d6da8c845c41.png img.png %}\n使用该配置文件进行 kubectl 命令操作，即可验证用户只拥有对应资源的操作权限。\n{% asset_img de4222775e67.png img.png %}\n\n#### 3) API 对象结构\n{% asset_img ab8f20ce2acc.png img.png %}\n\n\n### 三、参考学习\n1. [https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions](https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions)\n2. [https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2](https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2)\n3. [https://zhuanlan.zhihu.com/p/97793056](https://zhuanlan.zhihu.com/p/97793056)\n","slug":"k8s-rbac权限控制","published":1,"updated":"2022-05-03T13:20:22.236Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2rmhsng000522e374mkdwio","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"一、RBAC简易概述\"><a href=\"#一、RBAC简易概述\" class=\"headerlink\" title=\"一、RBAC简易概述\"></a>一、RBAC简易概述</h3><img data-src=\"/posts/fa45/gaisu.png\" class title=\"概述\">\n<h4 id=\"1-RBAC-四种-API-对象\"><a href=\"#1-RBAC-四种-API-对象\" class=\"headerlink\" title=\"1) RBAC 四种 API 对象\"></a>1) RBAC 四种 API 对象</h4><ul>\n<li>Role：一组权限的集合，在一个命名空间中，可以用其来定义一个角色，只能对命名空间内的资源进行授权。如果是集群级别的资源，则需要使用ClusterRole。例如：定义一个角色用来读取Pod的权限</li>\n<li>ClusterRole：具有和角色一致的命名空间资源的管理能力，还可用于以下特殊元素的授权<ul>\n<li>集群范围的资源，例如Node</li>\n<li>非资源型的路径，例如：&#x2F;healthz</li>\n<li>包含全部命名空间的资源，例如Pods<blockquote>\n<p>例如：定义一个集群角色可让用户访问任意secrets</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>RoleBinding：角色绑定</li>\n<li>ClusterRoleBinding：集群角色绑定<blockquote>\n<p>角色绑定和集群角色绑定用于把一个角色绑定在一个目标上，可以是User，Group，Service Account，使用RoleBinding为某个命名空间授权，使用ClusterRoleBinding为集群范围内授权。</p>\n</blockquote>\n</li>\n</ul>\n<p><strong>Role和ClusterRole是权限规则的定义</strong></p>\n<ul>\n<li>rules代表具体的授权规则，类似于阿里云RAM中的权限策略Policy</li>\n<li>Role和ClusterRole区别只在于一个是集群级别的资源控制</li>\n</ul>\n<span id=\"more\"></span>\n\n<p><strong>RoleBinding和ClusterRoleBinding是将User、Group、ServiceAccount绑定到Role或ClusterRole中（类似阿里云RAM中将Policy赋权给RAM角色或RAM账号）</strong></p>\n<ul>\n<li>User、Group、ServiceAccount 是 K8S 集群中单独的概念，与系统级别不同。参考：<a href=\"https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2\">https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2</a></li>\n<li>RoleBinding 可以引用同一个 namespace 中的任何 Role ；或者一个 RoleBinding 可以引用某 ClusterRole 并将该 ClusterRole 绑定到 RoleBinding 所在的 namespace。</li>\n<li>如需 ClusterRole 绑定到集群中所有 namespace，必须要使用 ClusterRoleBinding</li>\n<li>RoleBinding 对应可引用一个 ClusterRole 对象用于在 RoleBinding 所在的 namespace 内授予用户对所引用的 ClusterRole 中定义的 namespace 资源的访问权限。（在整个集群内定义一组通用角色，然后在不同 namespace 中复用这些角色）</li>\n</ul>\n<h4 id=\"2-资源引用方式\"><a href=\"#2-资源引用方式\" class=\"headerlink\" title=\"2) 资源引用方式\"></a>2) 资源引用方式</h4><ul>\n<li>多数资源可以用其名称的字符串表示，也就是Endpoint中的URL相对路径，例如pod中的日志是GET &#x2F;api&#x2F;v1&#x2F;namaspaces&#x2F;{namespace}&#x2F;pods&#x2F;{podname}&#x2F;log</li>\n<li>如果需要在一个RBAC对象中体现上下级资源，就需要使用“&#x2F;”分割资源和下级资源。</li>\n</ul>\n<p>例如：若想授权让某个主体同时能够读取Pod和Pod log，则可以配置 resources为一个数组</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span> [<span class=\"string\">&quot;&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">resources:</span> [<span class=\"string\">&quot;pods&quot;</span>,<span class=\"string\">&quot;pods/log&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">verbs:</span> [<span class=\"string\">&quot;get&quot;</span>,<span class=\"string\">&quot;list&quot;</span>]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>通过名称（ResourceName）进行引用，在指定ResourceName后，使用get、delete、update、patch请求，就会被限制在这个资源实例范围内</li>\n</ul>\n<p>例如，下面的声明让一个主体只能对名为my-configmap的ConFigmap进行get和update操作：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span> [<span class=\"string\">&quot;&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">resources:</span> [<span class=\"string\">&quot;configmap&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">resourceNames:</span> [<span class=\"string\">&quot;my-configmap&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">verbs:</span> [<span class=\"string\">&quot;get&quot;</span>,<span class=\"string\">&quot;update&quot;</span>]</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"3-rules-参数说明\"><a href=\"#3-rules-参数说明\" class=\"headerlink\" title=\"3) rules 参数说明\"></a>3) rules 参数说明</h4><ul>\n<li>apiGroups：支持的API组列表，例如：”apiVersion: batch&#x2F;v1”等</li>\n<li>resources：支持的资源对象列表，例如pods、deplayments、jobs等</li>\n<li>resourceNames: 指定resource的名称（可选）</li>\n<li>verbs：对资源对象的操作方法列表<blockquote>\n<p>api-resources：所有资源信息<br>apiGroups：api-resources下的分类分组</p>\n<p><a href=\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#-strong-api-groups-strong-\">查看API GROUP分组信息</a></p>\n<ul>\n<li>方式一：kubectl explain xxx ， xxx为 “kubectl api-resources” 输出结果的 NAME 值（输出结果的 VERSION 值为v1 则为默认的Core API 分组，默认以”” 表示，如 pods、services）</li>\n<li>方式二：kubectl get –raw &#x2F;apis&#x2F;apps&#x2F;v1</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<p>可通过 kubectl get –raw &#x2F;apis&#x2F;rbac.authorization.k8s.io&#x2F;v1 可以获取到 RBAC 四个 API 资源对象的相关信息，如下图：</p>\n<img data-src=\"/posts/fa45/c31775e8bbe3.png\" class title=\"img.png\">\n\n<blockquote>\n<p>创建资源&#x2F;信息的方式</p>\n<ul>\n<li>方式一：kubectl create -f xxx.yaml       –&gt;   文件方式创建</li>\n<li>方式二：kubectl create –arg1&#x3D;xxx –arg2&#x3D;yyy     –&gt;  参数方式创建（后续可通过kubectl edit方式继续编辑）</li>\n</ul>\n</blockquote>\n<h3 id=\"二、ServiceAccount-测试\"><a href=\"#二、ServiceAccount-测试\" class=\"headerlink\" title=\"二、ServiceAccount 测试\"></a>二、ServiceAccount 测试</h3><h4 id=\"1-创建-serviceaccount-账户并进行对应授权\"><a href=\"#1-创建-serviceaccount-账户并进行对应授权\" class=\"headerlink\" title=\"1) 创建 serviceaccount 账户并进行对应授权\"></a>1) 创建 serviceaccount 账户并进行对应授权</h4><ol>\n<li><p>创建 serviceaccount 账户 camel-sva （只需defalut namespace）<br>执行命令：kubectl create serviceaccount camel-sva -n default</p>\n<img data-src=\"/posts/fa45/634be995b5bc.png\" class title=\"img.png\">\n</li>\n<li><p>创建 role 角色 （授权Integration、Kamelet、KameletBinding 3种资源的 curd 权限）<br>执行命令：kubectl create role camel-sva-role –verb&#x3D;* –resource&#x3D;integrations,kamelets,kameletbindings </p>\n<img data-src=\"/posts/fa45/21812e1bbfad.png\" class title=\"img.png\">\n</li>\n<li><p>绑定集群权限<br>命令：kubectl create rolebinding camel-sva-rolebinding –role&#x3D;camel-sva-role –serviceaccount&#x3D;default:camel-sva</p>\n<img data-src=\"/posts/fa45/7528aa1bf3da.png\" class title=\"img.png\">\n</li>\n<li><p>查看账号 secret 信息<br>命令：kubectl get secret&#x2F;camel-sva-token-mdt28 -oyaml</p>\n<img data-src=\"/posts/fa45/de3ebdd4f016.png\" class title=\"img.png\">\n<p>将获取到的 token 值进行 base64 解码后即可用来调用 apiserver 接口，如下图（接口可通过 kubectl get –raw &#x2F;apis&#x2F; 进行获取）：</p>\n<img data-src=\"/posts/fa45/1572c2ebc891.png\" class title=\"img.png\"></li>\n</ol>\n<h4 id=\"2-创建用户认证的-kubeconfig-文件\"><a href=\"#2-创建用户认证的-kubeconfig-文件\" class=\"headerlink\" title=\"2) 创建用户认证的 kubeconfig 文件\"></a>2) 创建用户认证的 kubeconfig 文件</h4><ol>\n<li><p>创建集群配置文件<br>命令：kubectl config set-cluster kubernetes –certificate-authority&#x3D;&#x2F;etc&#x2F;kubernetes&#x2F;pki&#x2F;ca.crt –server&#x3D;”<a href=\"https://10.0.0.142:6443&quot;\">https://10.0.0.142:6443&quot;</a> –embed-certs&#x3D;true –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n<li><p>生成 token（base64编码）<br>命令：D&#x3D;$(kubectl get secret camel-sva-token-mdt28 -o jsonpath&#x3D;{.data.token}|base64 -d)</p>\n</li>\n<li><p>为配置文件添加 token 信息，设置一个用户条目<br>命令：kubectl config set-credentials camel-sva –token&#x3D;$D –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n<li><p>为配置文件添加权限信息，设置一个 content 条目<br>kubectl config set-context camel-sva@kubernetes –cluster&#x3D;kubernetes –user&#x3D;camel-sva –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n<li><p>为配置文件添加权限信息，设置上下文<br>命令：kubectl config use-context camel-sva@kubernetes –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n</ol>\n<p>执行完上述命令后即在当前目录生成配置文件：camel-sva.conf，可 copy 到 kubeconfig对应目录，进行操作。</p>\n<img data-src=\"/posts/fa45/d6da8c845c41.png\" class title=\"img.png\">\n<p>使用该配置文件进行 kubectl 命令操作，即可验证用户只拥有对应资源的操作权限。</p>\n<img data-src=\"/posts/fa45/de4222775e67.png\" class title=\"img.png\">\n\n<h4 id=\"3-API-对象结构\"><a href=\"#3-API-对象结构\" class=\"headerlink\" title=\"3) API 对象结构\"></a>3) API 对象结构</h4><img data-src=\"/posts/fa45/ab8f20ce2acc.png\" class title=\"img.png\">\n\n\n<h3 id=\"三、参考学习\"><a href=\"#三、参考学习\" class=\"headerlink\" title=\"三、参考学习\"></a>三、参考学习</h3><ol>\n<li><a href=\"https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions\">https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions</a></li>\n<li><a href=\"https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2\">https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/97793056\">https://zhuanlan.zhihu.com/p/97793056</a></li>\n</ol>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":3895,"excerpt":"<h3 id=\"一、RBAC简易概述\"><a href=\"#一、RBAC简易概述\" class=\"headerlink\" title=\"一、RBAC简易概述\"></a>一、RBAC简易概述</h3><img data-src=\"/posts/fa45/gaisu.png\" class title=\"概述\">\n<h4 id=\"1-RBAC-四种-API-对象\"><a href=\"#1-RBAC-四种-API-对象\" class=\"headerlink\" title=\"1) RBAC 四种 API 对象\"></a>1) RBAC 四种 API 对象</h4><ul>\n<li>Role：一组权限的集合，在一个命名空间中，可以用其来定义一个角色，只能对命名空间内的资源进行授权。如果是集群级别的资源，则需要使用ClusterRole。例如：定义一个角色用来读取Pod的权限</li>\n<li>ClusterRole：具有和角色一致的命名空间资源的管理能力，还可用于以下特殊元素的授权<ul>\n<li>集群范围的资源，例如Node</li>\n<li>非资源型的路径，例如：&#x2F;healthz</li>\n<li>包含全部命名空间的资源，例如Pods<blockquote>\n<p>例如：定义一个集群角色可让用户访问任意secrets</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>RoleBinding：角色绑定</li>\n<li>ClusterRoleBinding：集群角色绑定<blockquote>\n<p>角色绑定和集群角色绑定用于把一个角色绑定在一个目标上，可以是User，Group，Service Account，使用RoleBinding为某个命名空间授权，使用ClusterRoleBinding为集群范围内授权。</p>\n</blockquote>\n</li>\n</ul>\n<p><strong>Role和ClusterRole是权限规则的定义</strong></p>\n<ul>\n<li>rules代表具体的授权规则，类似于阿里云RAM中的权限策略Policy</li>\n<li>Role和ClusterRole区别只在于一个是集群级别的资源控制</li>\n</ul>","more":"<p><strong>RoleBinding和ClusterRoleBinding是将User、Group、ServiceAccount绑定到Role或ClusterRole中（类似阿里云RAM中将Policy赋权给RAM角色或RAM账号）</strong></p>\n<ul>\n<li>User、Group、ServiceAccount 是 K8S 集群中单独的概念，与系统级别不同。参考：<a href=\"https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2\">https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2</a></li>\n<li>RoleBinding 可以引用同一个 namespace 中的任何 Role ；或者一个 RoleBinding 可以引用某 ClusterRole 并将该 ClusterRole 绑定到 RoleBinding 所在的 namespace。</li>\n<li>如需 ClusterRole 绑定到集群中所有 namespace，必须要使用 ClusterRoleBinding</li>\n<li>RoleBinding 对应可引用一个 ClusterRole 对象用于在 RoleBinding 所在的 namespace 内授予用户对所引用的 ClusterRole 中定义的 namespace 资源的访问权限。（在整个集群内定义一组通用角色，然后在不同 namespace 中复用这些角色）</li>\n</ul>\n<h4 id=\"2-资源引用方式\"><a href=\"#2-资源引用方式\" class=\"headerlink\" title=\"2) 资源引用方式\"></a>2) 资源引用方式</h4><ul>\n<li>多数资源可以用其名称的字符串表示，也就是Endpoint中的URL相对路径，例如pod中的日志是GET &#x2F;api&#x2F;v1&#x2F;namaspaces&#x2F;{namespace}&#x2F;pods&#x2F;{podname}&#x2F;log</li>\n<li>如果需要在一个RBAC对象中体现上下级资源，就需要使用“&#x2F;”分割资源和下级资源。</li>\n</ul>\n<p>例如：若想授权让某个主体同时能够读取Pod和Pod log，则可以配置 resources为一个数组</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span> [<span class=\"string\">&quot;&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">resources:</span> [<span class=\"string\">&quot;pods&quot;</span>,<span class=\"string\">&quot;pods/log&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">verbs:</span> [<span class=\"string\">&quot;get&quot;</span>,<span class=\"string\">&quot;list&quot;</span>]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>通过名称（ResourceName）进行引用，在指定ResourceName后，使用get、delete、update、patch请求，就会被限制在这个资源实例范围内</li>\n</ul>\n<p>例如，下面的声明让一个主体只能对名为my-configmap的ConFigmap进行get和update操作：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">apiGroups:</span> [<span class=\"string\">&quot;&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">resources:</span> [<span class=\"string\">&quot;configmap&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">resourceNames:</span> [<span class=\"string\">&quot;my-configmap&quot;</span>]</span><br><span class=\"line\">   <span class=\"attr\">verbs:</span> [<span class=\"string\">&quot;get&quot;</span>,<span class=\"string\">&quot;update&quot;</span>]</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"3-rules-参数说明\"><a href=\"#3-rules-参数说明\" class=\"headerlink\" title=\"3) rules 参数说明\"></a>3) rules 参数说明</h4><ul>\n<li>apiGroups：支持的API组列表，例如：”apiVersion: batch&#x2F;v1”等</li>\n<li>resources：支持的资源对象列表，例如pods、deplayments、jobs等</li>\n<li>resourceNames: 指定resource的名称（可选）</li>\n<li>verbs：对资源对象的操作方法列表<blockquote>\n<p>api-resources：所有资源信息<br>apiGroups：api-resources下的分类分组</p>\n<p><a href=\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#-strong-api-groups-strong-\">查看API GROUP分组信息</a></p>\n<ul>\n<li>方式一：kubectl explain xxx ， xxx为 “kubectl api-resources” 输出结果的 NAME 值（输出结果的 VERSION 值为v1 则为默认的Core API 分组，默认以”” 表示，如 pods、services）</li>\n<li>方式二：kubectl get –raw &#x2F;apis&#x2F;apps&#x2F;v1</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<p>可通过 kubectl get –raw &#x2F;apis&#x2F;rbac.authorization.k8s.io&#x2F;v1 可以获取到 RBAC 四个 API 资源对象的相关信息，如下图：</p>\n<img data-src=\"/posts/fa45/c31775e8bbe3.png\" class title=\"img.png\">\n\n<blockquote>\n<p>创建资源&#x2F;信息的方式</p>\n<ul>\n<li>方式一：kubectl create -f xxx.yaml       –&gt;   文件方式创建</li>\n<li>方式二：kubectl create –arg1&#x3D;xxx –arg2&#x3D;yyy     –&gt;  参数方式创建（后续可通过kubectl edit方式继续编辑）</li>\n</ul>\n</blockquote>\n<h3 id=\"二、ServiceAccount-测试\"><a href=\"#二、ServiceAccount-测试\" class=\"headerlink\" title=\"二、ServiceAccount 测试\"></a>二、ServiceAccount 测试</h3><h4 id=\"1-创建-serviceaccount-账户并进行对应授权\"><a href=\"#1-创建-serviceaccount-账户并进行对应授权\" class=\"headerlink\" title=\"1) 创建 serviceaccount 账户并进行对应授权\"></a>1) 创建 serviceaccount 账户并进行对应授权</h4><ol>\n<li><p>创建 serviceaccount 账户 camel-sva （只需defalut namespace）<br>执行命令：kubectl create serviceaccount camel-sva -n default</p>\n<img data-src=\"/posts/fa45/634be995b5bc.png\" class title=\"img.png\">\n</li>\n<li><p>创建 role 角色 （授权Integration、Kamelet、KameletBinding 3种资源的 curd 权限）<br>执行命令：kubectl create role camel-sva-role –verb&#x3D;* –resource&#x3D;integrations,kamelets,kameletbindings </p>\n<img data-src=\"/posts/fa45/21812e1bbfad.png\" class title=\"img.png\">\n</li>\n<li><p>绑定集群权限<br>命令：kubectl create rolebinding camel-sva-rolebinding –role&#x3D;camel-sva-role –serviceaccount&#x3D;default:camel-sva</p>\n<img data-src=\"/posts/fa45/7528aa1bf3da.png\" class title=\"img.png\">\n</li>\n<li><p>查看账号 secret 信息<br>命令：kubectl get secret&#x2F;camel-sva-token-mdt28 -oyaml</p>\n<img data-src=\"/posts/fa45/de3ebdd4f016.png\" class title=\"img.png\">\n<p>将获取到的 token 值进行 base64 解码后即可用来调用 apiserver 接口，如下图（接口可通过 kubectl get –raw &#x2F;apis&#x2F; 进行获取）：</p>\n<img data-src=\"/posts/fa45/1572c2ebc891.png\" class title=\"img.png\"></li>\n</ol>\n<h4 id=\"2-创建用户认证的-kubeconfig-文件\"><a href=\"#2-创建用户认证的-kubeconfig-文件\" class=\"headerlink\" title=\"2) 创建用户认证的 kubeconfig 文件\"></a>2) 创建用户认证的 kubeconfig 文件</h4><ol>\n<li><p>创建集群配置文件<br>命令：kubectl config set-cluster kubernetes –certificate-authority&#x3D;&#x2F;etc&#x2F;kubernetes&#x2F;pki&#x2F;ca.crt –server&#x3D;”<a href=\"https://10.0.0.142:6443&quot;\">https://10.0.0.142:6443&quot;</a> –embed-certs&#x3D;true –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n<li><p>生成 token（base64编码）<br>命令：D&#x3D;$(kubectl get secret camel-sva-token-mdt28 -o jsonpath&#x3D;{.data.token}|base64 -d)</p>\n</li>\n<li><p>为配置文件添加 token 信息，设置一个用户条目<br>命令：kubectl config set-credentials camel-sva –token&#x3D;$D –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n<li><p>为配置文件添加权限信息，设置一个 content 条目<br>kubectl config set-context camel-sva@kubernetes –cluster&#x3D;kubernetes –user&#x3D;camel-sva –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n<li><p>为配置文件添加权限信息，设置上下文<br>命令：kubectl config use-context camel-sva@kubernetes –kubeconfig&#x3D;.&#x2F;camel-sva.conf</p>\n</li>\n</ol>\n<p>执行完上述命令后即在当前目录生成配置文件：camel-sva.conf，可 copy 到 kubeconfig对应目录，进行操作。</p>\n<img data-src=\"/posts/fa45/d6da8c845c41.png\" class title=\"img.png\">\n<p>使用该配置文件进行 kubectl 命令操作，即可验证用户只拥有对应资源的操作权限。</p>\n<img data-src=\"/posts/fa45/de4222775e67.png\" class title=\"img.png\">\n\n<h4 id=\"3-API-对象结构\"><a href=\"#3-API-对象结构\" class=\"headerlink\" title=\"3) API 对象结构\"></a>3) API 对象结构</h4><img data-src=\"/posts/fa45/ab8f20ce2acc.png\" class title=\"img.png\">\n\n\n<h3 id=\"三、参考学习\"><a href=\"#三、参考学习\" class=\"headerlink\" title=\"三、参考学习\"></a>三、参考学习</h3><ol>\n<li><a href=\"https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions\">https://kubernetes.io/zh/docs/reference/access-authn-authz/rbac/#service-account-permissions</a></li>\n<li><a href=\"https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2\">https://www.qikqiak.com/k8strain2/security/rbac/#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/97793056\">https://zhuanlan.zhihu.com/p/97793056</a></li>\n</ol>"},{"title":"NetworkPolicy隔离策略","abbrlink":"8aa0","date":"2022-03-07T14:01:06.000Z","_content":"### 一、背景\n> 一次对当前业务使用ACK 集群的业务调研与改造：针对NetworkPolicy 策略的调研，主要用于新建ACK 集群的网络规划与网络隔离\n#### 1）当前云环境ACK 集群使用现状和痛点\n1. UAT/线上 环境应用较多，且应用没有做集群内隔离，所有应用全部都在ACK 集群的default namespace 中。没有做到逻辑网络隔离。\n\n2. 集群通过暴露公网SLB 方式进行集群调用，存在浪费资源、管理混乱、安全风险等问题。通过namespace 隔离 + NetworkPolicy 策略通信的方式可以实现集群内部应用自行调用，和VPC 打通之后使用NetworkPolicy 的IP 块策略还可实现跨集群的应用内网调用。\n\n#### 2）实现隔离策略价值\n1. 降低成本：可以通过网络逻辑隔离的方式将应用已namespace 方式进行隔离，减少冗余的物理设备降低成本。\n\n2. 增加效能：避免复杂且多余的网络设计，使应用之间的调用简单且易于排查。\n\n<!--more-->\n问题点：\n- 应用SLB 暴露公网方式，白名单管理方式存在多人修改不同步且随意添加白名单带来风险问题。多个SLB 带来的白名单、监听等也存在管理记录困难问题。\n- 通过namespace 隔离，网络规划便于设计（同一VPC 下天然可以通信）。应用间调用完全可以通过集群内部策略实现通信，减少因为网络造成的应用通信异常。\n\n{% asset_img 7b70de99e5f7.png img.png %}\n\n### 二、概念理解\n#### 1）CNI 插件\nk8s 本身没有对容器之间的通信网络进行实现，而是通过 CNI 定义了容器网络的接口的形式，让其他组件实现CNI来实现容器间的网络通信，CNI主要解决什么问题？\n\n- 第一，如何保证每个Pod拥有一个集群内唯一的IP地址？\n- 第二，如何保证不同节点的IP地址划分不会重复？\n- 第三，如何保证跨节点的Pod可以互相通信？\n- 第四，如何保证不同节点的Pod可以与跨节点的主机互相通信？\n\n常见的CNI 插件：Calico、Flannel、Terway、Weave Net、 以及 Contiv\n\n\n#### 2）Terway与Flannel对比\n在创建集群时，ACK提供Terway和Flannel两种网络插件：\n\n- Terway：是阿里云容器服务ACK自研的网络插件。Terway将阿里云的弹性网卡分配给容器，支持基于Kubernetes标准的网络策略来定义容器间的访问策略，支持对单个容器做带宽的限流。Terway拥有更为灵活的IPAM（容器地址分配）策略，避免地址浪费。如果您不需要使用网络策略（Network Policy），可以选择Flannel，其他情况建议选择Terway。\n- Flannel：使用的是简单稳定的社区Flannel CNI插件。配合阿里云的VPC的高速网络，能给集群高性能和稳定的容器网络体验。Flannel功能偏简单，支持的特性少。例如，不支持基于Kubernetes标准的网络策略（Network Policy）。更多信息，请参见[Flannel](https://github.com/coreos/flannel)。\n\n\n\n#### 3）NetworkPolicy 实现方式\n\n1. 前置条件：集群安装 CNI（container network interface）插件，阿里云支持两种插件：Flannel（不支持NetworkPolicy）、Terway\n2. ACK 集群开启NetworkPolicy 方式：\n- 控制台方式操作（简易操作）：需通过阿里云提工单申请\n- 命令行方式操作（kubectl 方式）：无需申请可直接操作。开启方式：\n   - 创建Terway集群时可选中** NetworkPolicy支持** 直接开启\n{% asset_img 2afdc3d69fa9.png img.png %}\n\n   - 通过修改ConfigMap --> eni-config 文件开启\n{% asset_img 6bbe6aab7201.png img.png %}\n\n\n3. 具体实现\n- NetworkPolicy 支持三种方式进行网络隔离：namespace、ipBlock（CIDR）、Pods\n- 默认情况下非隔离接受任何流量。使用NetworkPolicy 资源配置选中Pod 进入隔离状态（白名单规则），隔离规则有入站（ingress）和出站（egress）规则指定（与iptables概念类似，但不同的是 网络策略是并集累积的规则）\n\n- 示例配置：\n```yaml\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: test-network-policy\n  # 为namespace 为data的应用设置策略，默认隔离所有流量\n  namespace: data\nspec:\n  # pod选择器-必需\n  podSelector:\n    matchLabels:\n      role: \"data_centerevent\"\n      # role: \"\"  role分组标签配置为空时表示匹配当前namespace所有pod\n  policyTypes:\n  - Ingress\n  - Egress\n  ingress:\n  - from:\n    # 允许 172.17.0.0/16网段，排除 172.17.1.0/24\n    - ipBlock:\n        cidr: 172.17.0.0/16\n        except:\n        - 172.17.1.0/24\n    # 允许所有namespace带有\"project=apps_project\" 标签的所有namesapce Pod流量\n    - namespaceSelector:\n        matchLabels:\n          project: apps_project\n    # 允许data这个namespace下带有\"role=apps\" 标签的所有Pod流量\n    - podSelector:\n        matchLabels:\n          role: apps\n    ports:\n    - protocol: TCP\n      port: 8080\n  egress:\n  # 允许data这个namespace下，带有\"role=data_centerevent\"的所有Pod到以下CIDR的流出流量\n  - to:\n    - ipBlock:\n        cidr: 10.0.0.0/24\n    ports:\n    - protocol: TCP\n      port: 6379\n```\n\n\n### 三、实现方案与难点\n#### 实现难点\n\n- ACK 集群都为托管版，无法通过自行修改配置更改CNI 插件。且更改CNI 插件可能会导致当前网络模型变动造成未知异常\n- 阿里云ACK 集群有两种CNI 网络插件：Flannel、Terway。阿里云的ACK 集群上面只有Terway 集群支持NetworkPolicy。\n- 已有网络插件无法平滑进行切换，只能通过删除集群重建物理层的方式重新改为 Terway 集群。\n\n\n#### 迁移可行性方案思考\n\n- 由于当前集群网络规划冲突且复杂，建议使用重建集群方式。新建一个全新规划的集群然后将应用进行迁移：\n   - 无状态应用且无外部调用需求类应用，直接进行部署迁移\n   - 部分无依赖/弱依赖 应用，使用打包应用群组的方式在新集群进行部署，且新建全新SLB接入新集群应用，通过切换域名解析/修改IP 方式将流量切入新集群应用。\n\n\n#### 参考：\n1. Kubernetes 官网：[https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/](https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/)\n2. 阿里云官网：[https://help.aliyun.com/document_detail/97621.html](https://help.aliyun.com/document_detail/97621.html)\n3. NetworkPolicy 支持的CNI 插件：[https://www.qikqiak.com/k8strain/network/networkpolicy/](https://www.qikqiak.com/k8strain/network/networkpolicy/)\n4. 阿里云官网（Terway 集群网络规划策略）：[https://help.aliyun.com/document_detail/86500.html](https://help.aliyun.com/document_detail/86500.html)\n","source":"_posts/networkpolicy隔离策略.md","raw":"---\ntitle: NetworkPolicy隔离策略\nabbrlink: 8aa0\ndate: 2022-03-07 22:01:06\ncategories:\n  - 云原生\ntags:\n  - 阿里云\n  - K8S\n---\n### 一、背景\n> 一次对当前业务使用ACK 集群的业务调研与改造：针对NetworkPolicy 策略的调研，主要用于新建ACK 集群的网络规划与网络隔离\n#### 1）当前云环境ACK 集群使用现状和痛点\n1. UAT/线上 环境应用较多，且应用没有做集群内隔离，所有应用全部都在ACK 集群的default namespace 中。没有做到逻辑网络隔离。\n\n2. 集群通过暴露公网SLB 方式进行集群调用，存在浪费资源、管理混乱、安全风险等问题。通过namespace 隔离 + NetworkPolicy 策略通信的方式可以实现集群内部应用自行调用，和VPC 打通之后使用NetworkPolicy 的IP 块策略还可实现跨集群的应用内网调用。\n\n#### 2）实现隔离策略价值\n1. 降低成本：可以通过网络逻辑隔离的方式将应用已namespace 方式进行隔离，减少冗余的物理设备降低成本。\n\n2. 增加效能：避免复杂且多余的网络设计，使应用之间的调用简单且易于排查。\n\n<!--more-->\n问题点：\n- 应用SLB 暴露公网方式，白名单管理方式存在多人修改不同步且随意添加白名单带来风险问题。多个SLB 带来的白名单、监听等也存在管理记录困难问题。\n- 通过namespace 隔离，网络规划便于设计（同一VPC 下天然可以通信）。应用间调用完全可以通过集群内部策略实现通信，减少因为网络造成的应用通信异常。\n\n{% asset_img 7b70de99e5f7.png img.png %}\n\n### 二、概念理解\n#### 1）CNI 插件\nk8s 本身没有对容器之间的通信网络进行实现，而是通过 CNI 定义了容器网络的接口的形式，让其他组件实现CNI来实现容器间的网络通信，CNI主要解决什么问题？\n\n- 第一，如何保证每个Pod拥有一个集群内唯一的IP地址？\n- 第二，如何保证不同节点的IP地址划分不会重复？\n- 第三，如何保证跨节点的Pod可以互相通信？\n- 第四，如何保证不同节点的Pod可以与跨节点的主机互相通信？\n\n常见的CNI 插件：Calico、Flannel、Terway、Weave Net、 以及 Contiv\n\n\n#### 2）Terway与Flannel对比\n在创建集群时，ACK提供Terway和Flannel两种网络插件：\n\n- Terway：是阿里云容器服务ACK自研的网络插件。Terway将阿里云的弹性网卡分配给容器，支持基于Kubernetes标准的网络策略来定义容器间的访问策略，支持对单个容器做带宽的限流。Terway拥有更为灵活的IPAM（容器地址分配）策略，避免地址浪费。如果您不需要使用网络策略（Network Policy），可以选择Flannel，其他情况建议选择Terway。\n- Flannel：使用的是简单稳定的社区Flannel CNI插件。配合阿里云的VPC的高速网络，能给集群高性能和稳定的容器网络体验。Flannel功能偏简单，支持的特性少。例如，不支持基于Kubernetes标准的网络策略（Network Policy）。更多信息，请参见[Flannel](https://github.com/coreos/flannel)。\n\n\n\n#### 3）NetworkPolicy 实现方式\n\n1. 前置条件：集群安装 CNI（container network interface）插件，阿里云支持两种插件：Flannel（不支持NetworkPolicy）、Terway\n2. ACK 集群开启NetworkPolicy 方式：\n- 控制台方式操作（简易操作）：需通过阿里云提工单申请\n- 命令行方式操作（kubectl 方式）：无需申请可直接操作。开启方式：\n   - 创建Terway集群时可选中** NetworkPolicy支持** 直接开启\n{% asset_img 2afdc3d69fa9.png img.png %}\n\n   - 通过修改ConfigMap --> eni-config 文件开启\n{% asset_img 6bbe6aab7201.png img.png %}\n\n\n3. 具体实现\n- NetworkPolicy 支持三种方式进行网络隔离：namespace、ipBlock（CIDR）、Pods\n- 默认情况下非隔离接受任何流量。使用NetworkPolicy 资源配置选中Pod 进入隔离状态（白名单规则），隔离规则有入站（ingress）和出站（egress）规则指定（与iptables概念类似，但不同的是 网络策略是并集累积的规则）\n\n- 示例配置：\n```yaml\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: test-network-policy\n  # 为namespace 为data的应用设置策略，默认隔离所有流量\n  namespace: data\nspec:\n  # pod选择器-必需\n  podSelector:\n    matchLabels:\n      role: \"data_centerevent\"\n      # role: \"\"  role分组标签配置为空时表示匹配当前namespace所有pod\n  policyTypes:\n  - Ingress\n  - Egress\n  ingress:\n  - from:\n    # 允许 172.17.0.0/16网段，排除 172.17.1.0/24\n    - ipBlock:\n        cidr: 172.17.0.0/16\n        except:\n        - 172.17.1.0/24\n    # 允许所有namespace带有\"project=apps_project\" 标签的所有namesapce Pod流量\n    - namespaceSelector:\n        matchLabels:\n          project: apps_project\n    # 允许data这个namespace下带有\"role=apps\" 标签的所有Pod流量\n    - podSelector:\n        matchLabels:\n          role: apps\n    ports:\n    - protocol: TCP\n      port: 8080\n  egress:\n  # 允许data这个namespace下，带有\"role=data_centerevent\"的所有Pod到以下CIDR的流出流量\n  - to:\n    - ipBlock:\n        cidr: 10.0.0.0/24\n    ports:\n    - protocol: TCP\n      port: 6379\n```\n\n\n### 三、实现方案与难点\n#### 实现难点\n\n- ACK 集群都为托管版，无法通过自行修改配置更改CNI 插件。且更改CNI 插件可能会导致当前网络模型变动造成未知异常\n- 阿里云ACK 集群有两种CNI 网络插件：Flannel、Terway。阿里云的ACK 集群上面只有Terway 集群支持NetworkPolicy。\n- 已有网络插件无法平滑进行切换，只能通过删除集群重建物理层的方式重新改为 Terway 集群。\n\n\n#### 迁移可行性方案思考\n\n- 由于当前集群网络规划冲突且复杂，建议使用重建集群方式。新建一个全新规划的集群然后将应用进行迁移：\n   - 无状态应用且无外部调用需求类应用，直接进行部署迁移\n   - 部分无依赖/弱依赖 应用，使用打包应用群组的方式在新集群进行部署，且新建全新SLB接入新集群应用，通过切换域名解析/修改IP 方式将流量切入新集群应用。\n\n\n#### 参考：\n1. Kubernetes 官网：[https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/](https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/)\n2. 阿里云官网：[https://help.aliyun.com/document_detail/97621.html](https://help.aliyun.com/document_detail/97621.html)\n3. NetworkPolicy 支持的CNI 插件：[https://www.qikqiak.com/k8strain/network/networkpolicy/](https://www.qikqiak.com/k8strain/network/networkpolicy/)\n4. 阿里云官网（Terway 集群网络规划策略）：[https://help.aliyun.com/document_detail/86500.html](https://help.aliyun.com/document_detail/86500.html)\n","slug":"networkpolicy隔离策略","published":1,"updated":"2022-05-03T13:20:22.250Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2rmhsnh000922e3cp8p4hze","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"一、背景\"><a href=\"#一、背景\" class=\"headerlink\" title=\"一、背景\"></a>一、背景</h3><blockquote>\n<p>一次对当前业务使用ACK 集群的业务调研与改造：针对NetworkPolicy 策略的调研，主要用于新建ACK 集群的网络规划与网络隔离</p>\n</blockquote>\n<h4 id=\"1）当前云环境ACK-集群使用现状和痛点\"><a href=\"#1）当前云环境ACK-集群使用现状和痛点\" class=\"headerlink\" title=\"1）当前云环境ACK 集群使用现状和痛点\"></a>1）当前云环境ACK 集群使用现状和痛点</h4><ol>\n<li><p>UAT&#x2F;线上 环境应用较多，且应用没有做集群内隔离，所有应用全部都在ACK 集群的default namespace 中。没有做到逻辑网络隔离。</p>\n</li>\n<li><p>集群通过暴露公网SLB 方式进行集群调用，存在浪费资源、管理混乱、安全风险等问题。通过namespace 隔离 + NetworkPolicy 策略通信的方式可以实现集群内部应用自行调用，和VPC 打通之后使用NetworkPolicy 的IP 块策略还可实现跨集群的应用内网调用。</p>\n</li>\n</ol>\n<h4 id=\"2）实现隔离策略价值\"><a href=\"#2）实现隔离策略价值\" class=\"headerlink\" title=\"2）实现隔离策略价值\"></a>2）实现隔离策略价值</h4><ol>\n<li><p>降低成本：可以通过网络逻辑隔离的方式将应用已namespace 方式进行隔离，减少冗余的物理设备降低成本。</p>\n</li>\n<li><p>增加效能：避免复杂且多余的网络设计，使应用之间的调用简单且易于排查。</p>\n</li>\n</ol>\n<span id=\"more\"></span>\n<p>问题点：</p>\n<ul>\n<li>应用SLB 暴露公网方式，白名单管理方式存在多人修改不同步且随意添加白名单带来风险问题。多个SLB 带来的白名单、监听等也存在管理记录困难问题。</li>\n<li>通过namespace 隔离，网络规划便于设计（同一VPC 下天然可以通信）。应用间调用完全可以通过集群内部策略实现通信，减少因为网络造成的应用通信异常。</li>\n</ul>\n<img data-src=\"/posts/8aa0/7b70de99e5f7.png\" class title=\"img.png\">\n\n<h3 id=\"二、概念理解\"><a href=\"#二、概念理解\" class=\"headerlink\" title=\"二、概念理解\"></a>二、概念理解</h3><h4 id=\"1）CNI-插件\"><a href=\"#1）CNI-插件\" class=\"headerlink\" title=\"1）CNI 插件\"></a>1）CNI 插件</h4><p>k8s 本身没有对容器之间的通信网络进行实现，而是通过 CNI 定义了容器网络的接口的形式，让其他组件实现CNI来实现容器间的网络通信，CNI主要解决什么问题？</p>\n<ul>\n<li>第一，如何保证每个Pod拥有一个集群内唯一的IP地址？</li>\n<li>第二，如何保证不同节点的IP地址划分不会重复？</li>\n<li>第三，如何保证跨节点的Pod可以互相通信？</li>\n<li>第四，如何保证不同节点的Pod可以与跨节点的主机互相通信？</li>\n</ul>\n<p>常见的CNI 插件：Calico、Flannel、Terway、Weave Net、 以及 Contiv</p>\n<h4 id=\"2）Terway与Flannel对比\"><a href=\"#2）Terway与Flannel对比\" class=\"headerlink\" title=\"2）Terway与Flannel对比\"></a>2）Terway与Flannel对比</h4><p>在创建集群时，ACK提供Terway和Flannel两种网络插件：</p>\n<ul>\n<li>Terway：是阿里云容器服务ACK自研的网络插件。Terway将阿里云的弹性网卡分配给容器，支持基于Kubernetes标准的网络策略来定义容器间的访问策略，支持对单个容器做带宽的限流。Terway拥有更为灵活的IPAM（容器地址分配）策略，避免地址浪费。如果您不需要使用网络策略（Network Policy），可以选择Flannel，其他情况建议选择Terway。</li>\n<li>Flannel：使用的是简单稳定的社区Flannel CNI插件。配合阿里云的VPC的高速网络，能给集群高性能和稳定的容器网络体验。Flannel功能偏简单，支持的特性少。例如，不支持基于Kubernetes标准的网络策略（Network Policy）。更多信息，请参见<a href=\"https://github.com/coreos/flannel\">Flannel</a>。</li>\n</ul>\n<h4 id=\"3）NetworkPolicy-实现方式\"><a href=\"#3）NetworkPolicy-实现方式\" class=\"headerlink\" title=\"3）NetworkPolicy 实现方式\"></a>3）NetworkPolicy 实现方式</h4><ol>\n<li>前置条件：集群安装 CNI（container network interface）插件，阿里云支持两种插件：Flannel（不支持NetworkPolicy）、Terway</li>\n<li>ACK 集群开启NetworkPolicy 方式：</li>\n</ol>\n<ul>\n<li>控制台方式操作（简易操作）：需通过阿里云提工单申请</li>\n<li>命令行方式操作（kubectl 方式）：无需申请可直接操作。开启方式：<ul>\n<li><p>创建Terway集群时可选中** NetworkPolicy支持** 直接开启</p>\n<img data-src=\"/posts/8aa0/2afdc3d69fa9.png\" class title=\"img.png\">\n</li>\n<li><p>通过修改ConfigMap –&gt; eni-config 文件开启</p>\n</li>\n</ul>\n</li>\n</ul>\n<img data-src=\"/posts/8aa0/6bbe6aab7201.png\" class title=\"img.png\">\n\n\n<ol start=\"3\">\n<li>具体实现</li>\n</ol>\n<ul>\n<li><p>NetworkPolicy 支持三种方式进行网络隔离：namespace、ipBlock（CIDR）、Pods</p>\n</li>\n<li><p>默认情况下非隔离接受任何流量。使用NetworkPolicy 资源配置选中Pod 进入隔离状态（白名单规则），隔离规则有入站（ingress）和出站（egress）规则指定（与iptables概念类似，但不同的是 网络策略是并集累积的规则）</p>\n</li>\n<li><p>示例配置：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">networking.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">NetworkPolicy</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">test-network-policy</span></span><br><span class=\"line\">  <span class=\"comment\"># 为namespace 为data的应用设置策略，默认隔离所有流量</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">data</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"comment\"># pod选择器-必需</span></span><br><span class=\"line\">  <span class=\"attr\">podSelector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">role:</span> <span class=\"string\">&quot;data_centerevent&quot;</span></span><br><span class=\"line\">      <span class=\"comment\"># role: &quot;&quot;  role分组标签配置为空时表示匹配当前namespace所有pod</span></span><br><span class=\"line\">  <span class=\"attr\">policyTypes:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">Ingress</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">Egress</span></span><br><span class=\"line\">  <span class=\"attr\">ingress:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">from:</span></span><br><span class=\"line\">    <span class=\"comment\"># 允许 172.17.0.0/16网段，排除 172.17.1.0/24</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">ipBlock:</span></span><br><span class=\"line\">        <span class=\"attr\">cidr:</span> <span class=\"number\">172.17</span><span class=\"number\">.0</span><span class=\"number\">.0</span><span class=\"string\">/16</span></span><br><span class=\"line\">        <span class=\"attr\">except:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"number\">172.17</span><span class=\"number\">.1</span><span class=\"number\">.0</span><span class=\"string\">/24</span></span><br><span class=\"line\">    <span class=\"comment\"># 允许所有namespace带有&quot;project=apps_project&quot; 标签的所有namesapce Pod流量</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">namespaceSelector:</span></span><br><span class=\"line\">        <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">          <span class=\"attr\">project:</span> <span class=\"string\">apps_project</span></span><br><span class=\"line\">    <span class=\"comment\"># 允许data这个namespace下带有&quot;role=apps&quot; 标签的所有Pod流量</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">podSelector:</span></span><br><span class=\"line\">        <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">          <span class=\"attr\">role:</span> <span class=\"string\">apps</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">      <span class=\"attr\">port:</span> <span class=\"number\">8080</span></span><br><span class=\"line\">  <span class=\"attr\">egress:</span></span><br><span class=\"line\">  <span class=\"comment\"># 允许data这个namespace下，带有&quot;role=data_centerevent&quot;的所有Pod到以下CIDR的流出流量</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">to:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">ipBlock:</span></span><br><span class=\"line\">        <span class=\"attr\">cidr:</span> <span class=\"number\">10.0</span><span class=\"number\">.0</span><span class=\"number\">.0</span><span class=\"string\">/24</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">      <span class=\"attr\">port:</span> <span class=\"number\">6379</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"三、实现方案与难点\"><a href=\"#三、实现方案与难点\" class=\"headerlink\" title=\"三、实现方案与难点\"></a>三、实现方案与难点</h3><h4 id=\"实现难点\"><a href=\"#实现难点\" class=\"headerlink\" title=\"实现难点\"></a>实现难点</h4><ul>\n<li>ACK 集群都为托管版，无法通过自行修改配置更改CNI 插件。且更改CNI 插件可能会导致当前网络模型变动造成未知异常</li>\n<li>阿里云ACK 集群有两种CNI 网络插件：Flannel、Terway。阿里云的ACK 集群上面只有Terway 集群支持NetworkPolicy。</li>\n<li>已有网络插件无法平滑进行切换，只能通过删除集群重建物理层的方式重新改为 Terway 集群。</li>\n</ul>\n<h4 id=\"迁移可行性方案思考\"><a href=\"#迁移可行性方案思考\" class=\"headerlink\" title=\"迁移可行性方案思考\"></a>迁移可行性方案思考</h4><ul>\n<li>由于当前集群网络规划冲突且复杂，建议使用重建集群方式。新建一个全新规划的集群然后将应用进行迁移：<ul>\n<li>无状态应用且无外部调用需求类应用，直接进行部署迁移</li>\n<li>部分无依赖&#x2F;弱依赖 应用，使用打包应用群组的方式在新集群进行部署，且新建全新SLB接入新集群应用，通过切换域名解析&#x2F;修改IP 方式将流量切入新集群应用。</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"参考：\"><a href=\"#参考：\" class=\"headerlink\" title=\"参考：\"></a>参考：</h4><ol>\n<li>Kubernetes 官网：<a href=\"https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/\">https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/</a></li>\n<li>阿里云官网：<a href=\"https://help.aliyun.com/document_detail/97621.html\">https://help.aliyun.com/document_detail&#x2F;97621.html</a></li>\n<li>NetworkPolicy 支持的CNI 插件：<a href=\"https://www.qikqiak.com/k8strain/network/networkpolicy/\">https://www.qikqiak.com/k8strain/network/networkpolicy/</a></li>\n<li>阿里云官网（Terway 集群网络规划策略）：<a href=\"https://help.aliyun.com/document_detail/86500.html\">https://help.aliyun.com/document_detail&#x2F;86500.html</a></li>\n</ol>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":3061,"excerpt":"<h3 id=\"一、背景\"><a href=\"#一、背景\" class=\"headerlink\" title=\"一、背景\"></a>一、背景</h3><blockquote>\n<p>一次对当前业务使用ACK 集群的业务调研与改造：针对NetworkPolicy 策略的调研，主要用于新建ACK 集群的网络规划与网络隔离</p>\n</blockquote>\n<h4 id=\"1）当前云环境ACK-集群使用现状和痛点\"><a href=\"#1）当前云环境ACK-集群使用现状和痛点\" class=\"headerlink\" title=\"1）当前云环境ACK 集群使用现状和痛点\"></a>1）当前云环境ACK 集群使用现状和痛点</h4><ol>\n<li><p>UAT&#x2F;线上 环境应用较多，且应用没有做集群内隔离，所有应用全部都在ACK 集群的default namespace 中。没有做到逻辑网络隔离。</p>\n</li>\n<li><p>集群通过暴露公网SLB 方式进行集群调用，存在浪费资源、管理混乱、安全风险等问题。通过namespace 隔离 + NetworkPolicy 策略通信的方式可以实现集群内部应用自行调用，和VPC 打通之后使用NetworkPolicy 的IP 块策略还可实现跨集群的应用内网调用。</p>\n</li>\n</ol>\n<h4 id=\"2）实现隔离策略价值\"><a href=\"#2）实现隔离策略价值\" class=\"headerlink\" title=\"2）实现隔离策略价值\"></a>2）实现隔离策略价值</h4><ol>\n<li><p>降低成本：可以通过网络逻辑隔离的方式将应用已namespace 方式进行隔离，减少冗余的物理设备降低成本。</p>\n</li>\n<li><p>增加效能：避免复杂且多余的网络设计，使应用之间的调用简单且易于排查。</p>\n</li>\n</ol>","more":"<p>问题点：</p>\n<ul>\n<li>应用SLB 暴露公网方式，白名单管理方式存在多人修改不同步且随意添加白名单带来风险问题。多个SLB 带来的白名单、监听等也存在管理记录困难问题。</li>\n<li>通过namespace 隔离，网络规划便于设计（同一VPC 下天然可以通信）。应用间调用完全可以通过集群内部策略实现通信，减少因为网络造成的应用通信异常。</li>\n</ul>\n<img data-src=\"/posts/8aa0/7b70de99e5f7.png\" class title=\"img.png\">\n\n<h3 id=\"二、概念理解\"><a href=\"#二、概念理解\" class=\"headerlink\" title=\"二、概念理解\"></a>二、概念理解</h3><h4 id=\"1）CNI-插件\"><a href=\"#1）CNI-插件\" class=\"headerlink\" title=\"1）CNI 插件\"></a>1）CNI 插件</h4><p>k8s 本身没有对容器之间的通信网络进行实现，而是通过 CNI 定义了容器网络的接口的形式，让其他组件实现CNI来实现容器间的网络通信，CNI主要解决什么问题？</p>\n<ul>\n<li>第一，如何保证每个Pod拥有一个集群内唯一的IP地址？</li>\n<li>第二，如何保证不同节点的IP地址划分不会重复？</li>\n<li>第三，如何保证跨节点的Pod可以互相通信？</li>\n<li>第四，如何保证不同节点的Pod可以与跨节点的主机互相通信？</li>\n</ul>\n<p>常见的CNI 插件：Calico、Flannel、Terway、Weave Net、 以及 Contiv</p>\n<h4 id=\"2）Terway与Flannel对比\"><a href=\"#2）Terway与Flannel对比\" class=\"headerlink\" title=\"2）Terway与Flannel对比\"></a>2）Terway与Flannel对比</h4><p>在创建集群时，ACK提供Terway和Flannel两种网络插件：</p>\n<ul>\n<li>Terway：是阿里云容器服务ACK自研的网络插件。Terway将阿里云的弹性网卡分配给容器，支持基于Kubernetes标准的网络策略来定义容器间的访问策略，支持对单个容器做带宽的限流。Terway拥有更为灵活的IPAM（容器地址分配）策略，避免地址浪费。如果您不需要使用网络策略（Network Policy），可以选择Flannel，其他情况建议选择Terway。</li>\n<li>Flannel：使用的是简单稳定的社区Flannel CNI插件。配合阿里云的VPC的高速网络，能给集群高性能和稳定的容器网络体验。Flannel功能偏简单，支持的特性少。例如，不支持基于Kubernetes标准的网络策略（Network Policy）。更多信息，请参见<a href=\"https://github.com/coreos/flannel\">Flannel</a>。</li>\n</ul>\n<h4 id=\"3）NetworkPolicy-实现方式\"><a href=\"#3）NetworkPolicy-实现方式\" class=\"headerlink\" title=\"3）NetworkPolicy 实现方式\"></a>3）NetworkPolicy 实现方式</h4><ol>\n<li>前置条件：集群安装 CNI（container network interface）插件，阿里云支持两种插件：Flannel（不支持NetworkPolicy）、Terway</li>\n<li>ACK 集群开启NetworkPolicy 方式：</li>\n</ol>\n<ul>\n<li>控制台方式操作（简易操作）：需通过阿里云提工单申请</li>\n<li>命令行方式操作（kubectl 方式）：无需申请可直接操作。开启方式：<ul>\n<li><p>创建Terway集群时可选中** NetworkPolicy支持** 直接开启</p>\n<img data-src=\"/posts/8aa0/2afdc3d69fa9.png\" class title=\"img.png\">\n</li>\n<li><p>通过修改ConfigMap –&gt; eni-config 文件开启</p>\n</li>\n</ul>\n</li>\n</ul>\n<img data-src=\"/posts/8aa0/6bbe6aab7201.png\" class title=\"img.png\">\n\n\n<ol start=\"3\">\n<li>具体实现</li>\n</ol>\n<ul>\n<li><p>NetworkPolicy 支持三种方式进行网络隔离：namespace、ipBlock（CIDR）、Pods</p>\n</li>\n<li><p>默认情况下非隔离接受任何流量。使用NetworkPolicy 资源配置选中Pod 进入隔离状态（白名单规则），隔离规则有入站（ingress）和出站（egress）规则指定（与iptables概念类似，但不同的是 网络策略是并集累积的规则）</p>\n</li>\n<li><p>示例配置：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">networking.k8s.io/v1</span></span><br><span class=\"line\"><span class=\"attr\">kind:</span> <span class=\"string\">NetworkPolicy</span></span><br><span class=\"line\"><span class=\"attr\">metadata:</span></span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">test-network-policy</span></span><br><span class=\"line\">  <span class=\"comment\"># 为namespace 为data的应用设置策略，默认隔离所有流量</span></span><br><span class=\"line\">  <span class=\"attr\">namespace:</span> <span class=\"string\">data</span></span><br><span class=\"line\"><span class=\"attr\">spec:</span></span><br><span class=\"line\">  <span class=\"comment\"># pod选择器-必需</span></span><br><span class=\"line\">  <span class=\"attr\">podSelector:</span></span><br><span class=\"line\">    <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">      <span class=\"attr\">role:</span> <span class=\"string\">&quot;data_centerevent&quot;</span></span><br><span class=\"line\">      <span class=\"comment\"># role: &quot;&quot;  role分组标签配置为空时表示匹配当前namespace所有pod</span></span><br><span class=\"line\">  <span class=\"attr\">policyTypes:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">Ingress</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">Egress</span></span><br><span class=\"line\">  <span class=\"attr\">ingress:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">from:</span></span><br><span class=\"line\">    <span class=\"comment\"># 允许 172.17.0.0/16网段，排除 172.17.1.0/24</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">ipBlock:</span></span><br><span class=\"line\">        <span class=\"attr\">cidr:</span> <span class=\"number\">172.17</span><span class=\"number\">.0</span><span class=\"number\">.0</span><span class=\"string\">/16</span></span><br><span class=\"line\">        <span class=\"attr\">except:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"number\">172.17</span><span class=\"number\">.1</span><span class=\"number\">.0</span><span class=\"string\">/24</span></span><br><span class=\"line\">    <span class=\"comment\"># 允许所有namespace带有&quot;project=apps_project&quot; 标签的所有namesapce Pod流量</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">namespaceSelector:</span></span><br><span class=\"line\">        <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">          <span class=\"attr\">project:</span> <span class=\"string\">apps_project</span></span><br><span class=\"line\">    <span class=\"comment\"># 允许data这个namespace下带有&quot;role=apps&quot; 标签的所有Pod流量</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">podSelector:</span></span><br><span class=\"line\">        <span class=\"attr\">matchLabels:</span></span><br><span class=\"line\">          <span class=\"attr\">role:</span> <span class=\"string\">apps</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">      <span class=\"attr\">port:</span> <span class=\"number\">8080</span></span><br><span class=\"line\">  <span class=\"attr\">egress:</span></span><br><span class=\"line\">  <span class=\"comment\"># 允许data这个namespace下，带有&quot;role=data_centerevent&quot;的所有Pod到以下CIDR的流出流量</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">to:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">ipBlock:</span></span><br><span class=\"line\">        <span class=\"attr\">cidr:</span> <span class=\"number\">10.0</span><span class=\"number\">.0</span><span class=\"number\">.0</span><span class=\"string\">/24</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">protocol:</span> <span class=\"string\">TCP</span></span><br><span class=\"line\">      <span class=\"attr\">port:</span> <span class=\"number\">6379</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"三、实现方案与难点\"><a href=\"#三、实现方案与难点\" class=\"headerlink\" title=\"三、实现方案与难点\"></a>三、实现方案与难点</h3><h4 id=\"实现难点\"><a href=\"#实现难点\" class=\"headerlink\" title=\"实现难点\"></a>实现难点</h4><ul>\n<li>ACK 集群都为托管版，无法通过自行修改配置更改CNI 插件。且更改CNI 插件可能会导致当前网络模型变动造成未知异常</li>\n<li>阿里云ACK 集群有两种CNI 网络插件：Flannel、Terway。阿里云的ACK 集群上面只有Terway 集群支持NetworkPolicy。</li>\n<li>已有网络插件无法平滑进行切换，只能通过删除集群重建物理层的方式重新改为 Terway 集群。</li>\n</ul>\n<h4 id=\"迁移可行性方案思考\"><a href=\"#迁移可行性方案思考\" class=\"headerlink\" title=\"迁移可行性方案思考\"></a>迁移可行性方案思考</h4><ul>\n<li>由于当前集群网络规划冲突且复杂，建议使用重建集群方式。新建一个全新规划的集群然后将应用进行迁移：<ul>\n<li>无状态应用且无外部调用需求类应用，直接进行部署迁移</li>\n<li>部分无依赖&#x2F;弱依赖 应用，使用打包应用群组的方式在新集群进行部署，且新建全新SLB接入新集群应用，通过切换域名解析&#x2F;修改IP 方式将流量切入新集群应用。</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"参考：\"><a href=\"#参考：\" class=\"headerlink\" title=\"参考：\"></a>参考：</h4><ol>\n<li>Kubernetes 官网：<a href=\"https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/\">https://kubernetes.io/zh/docs/concepts/services-networking/network-policies/</a></li>\n<li>阿里云官网：<a href=\"https://help.aliyun.com/document_detail/97621.html\">https://help.aliyun.com/document_detail&#x2F;97621.html</a></li>\n<li>NetworkPolicy 支持的CNI 插件：<a href=\"https://www.qikqiak.com/k8strain/network/networkpolicy/\">https://www.qikqiak.com/k8strain/network/networkpolicy/</a></li>\n<li>阿里云官网（Terway 集群网络规划策略）：<a href=\"https://help.aliyun.com/document_detail/86500.html\">https://help.aliyun.com/document_detail&#x2F;86500.html</a></li>\n</ol>"},{"title":"阿里云-RAM与STS权限","abbrlink":"fdc","date":"2022-03-20T15:37:32.000Z","_content":"### 一、前言\n当通过OpenApi接口来调用云资源时（即替代控制台的操作），当前的方式有两种：\n\n- 通过 AK+SK 方式直接调用，只要该AK所属的账号有相关权限即可调用对应资源（授权分为系统策略和自定义策略）\n- 阿里云账号（RAM用户）/阿里云服务（ECS等）/身份提供商（SSO） 通过扮演角色获取角色的临时令牌（即通过调用AssumeRole接口），通过该临时令牌（临时令牌可设定会话时间），通过 STS接口获取到的 临时AK+临时SK+临时STSToken 进行调用对应资源\n\n### 二、官方概念介绍\n\n1. STS概念\n- 阿里云STS（Security Token Service）是阿里云提供的一种临时访问权限管理服务。RAM提供RAM用户和RAM角色两种身份。其中，RAM角色不具备永久身份凭证，而只能通过STS获取可以自定义时效和访问权限的临时身份凭证，即安全令牌（STS Token）\n\n<!--more-->\n建议阅读：[https://help.aliyun.com/document_detail/28756.html](https://help.aliyun.com/document_detail/28756.html)\n\n2. RAM概念\n- RAM用户：身份实体，可访问阿里云资源的账号或程序；创建时可选择登录场景、AccessKey场景（通过程序调用API）。\n- **RAM角色**：虚拟用户，向信任的RAM实体账号进行授权（根据STS令牌颁发短时有效的临时访问token）；创建角色后会生成Arn描述符（角色的描述符：每个RAM角色存在唯一值且遵循阿里云arn命名规范）。\n- RAM权限策略：一组权限集，使用简单的Policy语法进行描述（分为系统策略和自定义策略）；权限策略是实际细分授权资源集、操作集、授权条件的描述。\n\n{% asset_img ram1.png img.png %}\n\n> 创建RAM角色时有三种类型：\n> - **阿里云账号**：允许RAM用户所扮演的角色。扮演角色的RAM用户可以属于自己的阿里云账号，也可以属于其他阿里云账号。此类角色主要用来解决跨账号访问和临时授权问题\n> - **阿里云服务**：允许云服务所扮演的角色。此类角色主要用于授权云服务代理您进行资源操作（服务又分为两种）\n>    - 普通服务角色：您需要自定义角色名称，选择受信服务，并自定义权限策略\n>    - 服务关联角色：您只需选择受信的云服务，云服务会自带预设的角色名称和权限策略\n>    - 两种服务角色没太大区别，服务关联角色会多一个预设的配置（一般服务角色用户阿里云跨服务间的调用，例如ECS的授予/收回RAM角色功能、RDS云服务调用KMS角色加密等，从某个云产品调用另一个云产品的授权）\n> \n{% asset_img ram2.png img.png %}\n> - **身份提供商**：允许可信身份提供商下的用户所扮演的角色。此类角色主要用于实现与阿里云的单点登录（SSO）\n> \n> **常用的RAM角色一般为创建 阿里云账号 方式（OSS官方推荐使用）**\n> - 授权RAM角色介绍：[https://help.aliyun.com/document_detail/116819.html](https://help.aliyun.com/document_detail/116819.html)\n> - OSS官方推荐使用 阿里云账号 方式：[https://help.aliyun.com/document_detail/100624.html](https://help.aliyun.com/document_detail/100624.html)\n\n\n### 三、创建STS角色，自定义授权OSS功能测试\n1）测试账号信息\n账号：devops_test@xxx.onaliyun.com\nAK：xxxxx\nSK：xxxxx\nARN：acs:ram::xxxxx:role/xxx-sts\nOSS Bucket名称：oss-test\nOSS授权目录：dir111/dir111_secondline1/\n\n2）进行授权\n\n- 创建RAM用户（子账号），生成AK SK （此步骤忽略）\n- 测试账号添加STS权限\n\n{% asset_img ram3.png img.png %}\n\n- 添加权限策略，使用自定义策略授权（OSS官方示例Policy：[https://help.aliyun.com/document_detail/266627.html](https://help.aliyun.com/document_detail/266627.html)）\n\n{% asset_img ram4.png img.png %}\n\n- 添加RAM角色并授权Policy\n\n{% asset_img ram5.png img.png %}\n\n{% asset_img ram6.png img.png %}\n\n3）测试验证（控制台无法登录RAM账号验证权限情况下，可以使用ossutil或ossbrowser工具进行验证）\n\n- ossutil使用：[https://help.aliyun.com/document_detail/50451.html](https://help.aliyun.com/document_detail/50451.html)\n\n{% asset_img ram7.png img.png %}\n\n- ossbrowser使用：[https://help.aliyun.com/document_detail/92268.html](https://help.aliyun.com/document_detail/92268.html)\n\n\n4）验证列举和其他相关权限无误后，将ARN信息提供研发即可\n\n> 权限流程：\n> 1. 客户端程序/调用端发起扮演角色，此时在进入实际要获取的角色权限前，需要通过调用AssumeRole接口返回STS凭证（调用STS接口需要**AliyunSTSAssumeRoleAccess**权限，因此对应RAM账号需要授权该系统策略）\n> 1. 通过返回的STS临时凭证（临时AK+临时SK+临时token）发起相关云资源接口的调用\n> 1. 客户端使用STS发起调用时，会验证两个部分的权限策略Policy （注意：最后的权限取这两个权限Policy的交集）\n> - STS扮演的角色本身授权的权限策略是否拥有对应云资源的权限（系统或自定义的Policy）\n> - SDK/API调用时传入的policy_text参数值，在构造调用请求时传入（[https://help.aliyun.com/document_detail/100624.html](https://help.aliyun.com/document_detail/100624.html)\n> {% asset_img ram8.png img.png %}\n\n\n### 四、结合实际需求\n\n1. 开发提出需求：需要某一个oss bucket的STS ARN信息\n\n2. 需要相关信息：\n+ oss bucket具体需授权目录，必须\n+ endpoint: oss bucket所属区域，非必须\n+ bucket-name: oss bucket名称，必须\n+ 调用OSS RAM账号，必须\n\n3. 通过提供信息进行创建RAM角色、Policy策略新建（注意oss 细粒度的策略）、授权策略到RAM角色中，最后将新建的RAM角色的ARN描述符信息提供给研发。\n","source":"_posts/阿里云-ram与sts权限.md","raw":"---\ntitle: 阿里云-RAM与STS权限\ntags:\n  - 阿里云\nabbrlink: fdc\ndate: 2022-03-20 23:37:32\ncategories:\n---\n### 一、前言\n当通过OpenApi接口来调用云资源时（即替代控制台的操作），当前的方式有两种：\n\n- 通过 AK+SK 方式直接调用，只要该AK所属的账号有相关权限即可调用对应资源（授权分为系统策略和自定义策略）\n- 阿里云账号（RAM用户）/阿里云服务（ECS等）/身份提供商（SSO） 通过扮演角色获取角色的临时令牌（即通过调用AssumeRole接口），通过该临时令牌（临时令牌可设定会话时间），通过 STS接口获取到的 临时AK+临时SK+临时STSToken 进行调用对应资源\n\n### 二、官方概念介绍\n\n1. STS概念\n- 阿里云STS（Security Token Service）是阿里云提供的一种临时访问权限管理服务。RAM提供RAM用户和RAM角色两种身份。其中，RAM角色不具备永久身份凭证，而只能通过STS获取可以自定义时效和访问权限的临时身份凭证，即安全令牌（STS Token）\n\n<!--more-->\n建议阅读：[https://help.aliyun.com/document_detail/28756.html](https://help.aliyun.com/document_detail/28756.html)\n\n2. RAM概念\n- RAM用户：身份实体，可访问阿里云资源的账号或程序；创建时可选择登录场景、AccessKey场景（通过程序调用API）。\n- **RAM角色**：虚拟用户，向信任的RAM实体账号进行授权（根据STS令牌颁发短时有效的临时访问token）；创建角色后会生成Arn描述符（角色的描述符：每个RAM角色存在唯一值且遵循阿里云arn命名规范）。\n- RAM权限策略：一组权限集，使用简单的Policy语法进行描述（分为系统策略和自定义策略）；权限策略是实际细分授权资源集、操作集、授权条件的描述。\n\n{% asset_img ram1.png img.png %}\n\n> 创建RAM角色时有三种类型：\n> - **阿里云账号**：允许RAM用户所扮演的角色。扮演角色的RAM用户可以属于自己的阿里云账号，也可以属于其他阿里云账号。此类角色主要用来解决跨账号访问和临时授权问题\n> - **阿里云服务**：允许云服务所扮演的角色。此类角色主要用于授权云服务代理您进行资源操作（服务又分为两种）\n>    - 普通服务角色：您需要自定义角色名称，选择受信服务，并自定义权限策略\n>    - 服务关联角色：您只需选择受信的云服务，云服务会自带预设的角色名称和权限策略\n>    - 两种服务角色没太大区别，服务关联角色会多一个预设的配置（一般服务角色用户阿里云跨服务间的调用，例如ECS的授予/收回RAM角色功能、RDS云服务调用KMS角色加密等，从某个云产品调用另一个云产品的授权）\n> \n{% asset_img ram2.png img.png %}\n> - **身份提供商**：允许可信身份提供商下的用户所扮演的角色。此类角色主要用于实现与阿里云的单点登录（SSO）\n> \n> **常用的RAM角色一般为创建 阿里云账号 方式（OSS官方推荐使用）**\n> - 授权RAM角色介绍：[https://help.aliyun.com/document_detail/116819.html](https://help.aliyun.com/document_detail/116819.html)\n> - OSS官方推荐使用 阿里云账号 方式：[https://help.aliyun.com/document_detail/100624.html](https://help.aliyun.com/document_detail/100624.html)\n\n\n### 三、创建STS角色，自定义授权OSS功能测试\n1）测试账号信息\n账号：devops_test@xxx.onaliyun.com\nAK：xxxxx\nSK：xxxxx\nARN：acs:ram::xxxxx:role/xxx-sts\nOSS Bucket名称：oss-test\nOSS授权目录：dir111/dir111_secondline1/\n\n2）进行授权\n\n- 创建RAM用户（子账号），生成AK SK （此步骤忽略）\n- 测试账号添加STS权限\n\n{% asset_img ram3.png img.png %}\n\n- 添加权限策略，使用自定义策略授权（OSS官方示例Policy：[https://help.aliyun.com/document_detail/266627.html](https://help.aliyun.com/document_detail/266627.html)）\n\n{% asset_img ram4.png img.png %}\n\n- 添加RAM角色并授权Policy\n\n{% asset_img ram5.png img.png %}\n\n{% asset_img ram6.png img.png %}\n\n3）测试验证（控制台无法登录RAM账号验证权限情况下，可以使用ossutil或ossbrowser工具进行验证）\n\n- ossutil使用：[https://help.aliyun.com/document_detail/50451.html](https://help.aliyun.com/document_detail/50451.html)\n\n{% asset_img ram7.png img.png %}\n\n- ossbrowser使用：[https://help.aliyun.com/document_detail/92268.html](https://help.aliyun.com/document_detail/92268.html)\n\n\n4）验证列举和其他相关权限无误后，将ARN信息提供研发即可\n\n> 权限流程：\n> 1. 客户端程序/调用端发起扮演角色，此时在进入实际要获取的角色权限前，需要通过调用AssumeRole接口返回STS凭证（调用STS接口需要**AliyunSTSAssumeRoleAccess**权限，因此对应RAM账号需要授权该系统策略）\n> 1. 通过返回的STS临时凭证（临时AK+临时SK+临时token）发起相关云资源接口的调用\n> 1. 客户端使用STS发起调用时，会验证两个部分的权限策略Policy （注意：最后的权限取这两个权限Policy的交集）\n> - STS扮演的角色本身授权的权限策略是否拥有对应云资源的权限（系统或自定义的Policy）\n> - SDK/API调用时传入的policy_text参数值，在构造调用请求时传入（[https://help.aliyun.com/document_detail/100624.html](https://help.aliyun.com/document_detail/100624.html)\n> {% asset_img ram8.png img.png %}\n\n\n### 四、结合实际需求\n\n1. 开发提出需求：需要某一个oss bucket的STS ARN信息\n\n2. 需要相关信息：\n+ oss bucket具体需授权目录，必须\n+ endpoint: oss bucket所属区域，非必须\n+ bucket-name: oss bucket名称，必须\n+ 调用OSS RAM账号，必须\n\n3. 通过提供信息进行创建RAM角色、Policy策略新建（注意oss 细粒度的策略）、授权策略到RAM角色中，最后将新建的RAM角色的ARN描述符信息提供给研发。\n","slug":"阿里云-ram与sts权限","published":1,"updated":"2022-05-03T13:20:22.280Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2rmhsni000b22e31f77aaqz","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>当通过OpenApi接口来调用云资源时（即替代控制台的操作），当前的方式有两种：</p>\n<ul>\n<li>通过 AK+SK 方式直接调用，只要该AK所属的账号有相关权限即可调用对应资源（授权分为系统策略和自定义策略）</li>\n<li>阿里云账号（RAM用户）&#x2F;阿里云服务（ECS等）&#x2F;身份提供商（SSO） 通过扮演角色获取角色的临时令牌（即通过调用AssumeRole接口），通过该临时令牌（临时令牌可设定会话时间），通过 STS接口获取到的 临时AK+临时SK+临时STSToken 进行调用对应资源</li>\n</ul>\n<h3 id=\"二、官方概念介绍\"><a href=\"#二、官方概念介绍\" class=\"headerlink\" title=\"二、官方概念介绍\"></a>二、官方概念介绍</h3><ol>\n<li>STS概念</li>\n</ol>\n<ul>\n<li>阿里云STS（Security Token Service）是阿里云提供的一种临时访问权限管理服务。RAM提供RAM用户和RAM角色两种身份。其中，RAM角色不具备永久身份凭证，而只能通过STS获取可以自定义时效和访问权限的临时身份凭证，即安全令牌（STS Token）</li>\n</ul>\n<span id=\"more\"></span>\n<p>建议阅读：<a href=\"https://help.aliyun.com/document_detail/28756.html\">https://help.aliyun.com/document_detail&#x2F;28756.html</a></p>\n<ol start=\"2\">\n<li>RAM概念</li>\n</ol>\n<ul>\n<li>RAM用户：身份实体，可访问阿里云资源的账号或程序；创建时可选择登录场景、AccessKey场景（通过程序调用API）。</li>\n<li><strong>RAM角色</strong>：虚拟用户，向信任的RAM实体账号进行授权（根据STS令牌颁发短时有效的临时访问token）；创建角色后会生成Arn描述符（角色的描述符：每个RAM角色存在唯一值且遵循阿里云arn命名规范）。</li>\n<li>RAM权限策略：一组权限集，使用简单的Policy语法进行描述（分为系统策略和自定义策略）；权限策略是实际细分授权资源集、操作集、授权条件的描述。</li>\n</ul>\n<img data-src=\"/posts/fdc/ram1.png\" class title=\"img.png\">\n\n<blockquote>\n<p>创建RAM角色时有三种类型：</p>\n<ul>\n<li><strong>阿里云账号</strong>：允许RAM用户所扮演的角色。扮演角色的RAM用户可以属于自己的阿里云账号，也可以属于其他阿里云账号。此类角色主要用来解决跨账号访问和临时授权问题</li>\n<li><strong>阿里云服务</strong>：允许云服务所扮演的角色。此类角色主要用于授权云服务代理您进行资源操作（服务又分为两种）<ul>\n<li>普通服务角色：您需要自定义角色名称，选择受信服务，并自定义权限策略</li>\n<li>服务关联角色：您只需选择受信的云服务，云服务会自带预设的角色名称和权限策略</li>\n<li>两种服务角色没太大区别，服务关联角色会多一个预设的配置（一般服务角色用户阿里云跨服务间的调用，例如ECS的授予&#x2F;收回RAM角色功能、RDS云服务调用KMS角色加密等，从某个云产品调用另一个云产品的授权）</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<img data-src=\"/posts/fdc/ram2.png\" class title=\"img.png\">\n<blockquote>\n<ul>\n<li><strong>身份提供商</strong>：允许可信身份提供商下的用户所扮演的角色。此类角色主要用于实现与阿里云的单点登录（SSO）</li>\n</ul>\n<p><strong>常用的RAM角色一般为创建 阿里云账号 方式（OSS官方推荐使用）</strong></p>\n<ul>\n<li>授权RAM角色介绍：<a href=\"https://help.aliyun.com/document_detail/116819.html\">https://help.aliyun.com/document_detail&#x2F;116819.html</a></li>\n<li>OSS官方推荐使用 阿里云账号 方式：<a href=\"https://help.aliyun.com/document_detail/100624.html\">https://help.aliyun.com/document_detail&#x2F;100624.html</a></li>\n</ul>\n</blockquote>\n<h3 id=\"三、创建STS角色，自定义授权OSS功能测试\"><a href=\"#三、创建STS角色，自定义授权OSS功能测试\" class=\"headerlink\" title=\"三、创建STS角色，自定义授权OSS功能测试\"></a>三、创建STS角色，自定义授权OSS功能测试</h3><p>1）测试账号信息<br>账号：<a href=\"mailto:&#100;&#101;&#x76;&#111;&#x70;&#115;&#x5f;&#x74;&#x65;&#115;&#x74;&#64;&#120;&#120;&#x78;&#x2e;&#x6f;&#110;&#97;&#x6c;&#x69;&#121;&#117;&#x6e;&#46;&#x63;&#x6f;&#x6d;\">&#100;&#101;&#x76;&#111;&#x70;&#115;&#x5f;&#x74;&#x65;&#115;&#x74;&#64;&#120;&#120;&#x78;&#x2e;&#x6f;&#110;&#97;&#x6c;&#x69;&#121;&#117;&#x6e;&#46;&#x63;&#x6f;&#x6d;</a><br>AK：xxxxx<br>SK：xxxxx<br>ARN：acs:ram::xxxxx:role&#x2F;xxx-sts<br>OSS Bucket名称：oss-test<br>OSS授权目录：dir111&#x2F;dir111_secondline1&#x2F;</p>\n<p>2）进行授权</p>\n<ul>\n<li>创建RAM用户（子账号），生成AK SK （此步骤忽略）</li>\n<li>测试账号添加STS权限</li>\n</ul>\n<img data-src=\"/posts/fdc/ram3.png\" class title=\"img.png\">\n\n<ul>\n<li>添加权限策略，使用自定义策略授权（OSS官方示例Policy：<a href=\"https://help.aliyun.com/document_detail/266627.html\">https://help.aliyun.com/document_detail&#x2F;266627.html</a>）</li>\n</ul>\n<img data-src=\"/posts/fdc/ram4.png\" class title=\"img.png\">\n\n<ul>\n<li>添加RAM角色并授权Policy</li>\n</ul>\n<img data-src=\"/posts/fdc/ram5.png\" class title=\"img.png\">\n\n<img data-src=\"/posts/fdc/ram6.png\" class title=\"img.png\">\n\n<p>3）测试验证（控制台无法登录RAM账号验证权限情况下，可以使用ossutil或ossbrowser工具进行验证）</p>\n<ul>\n<li>ossutil使用：<a href=\"https://help.aliyun.com/document_detail/50451.html\">https://help.aliyun.com/document_detail&#x2F;50451.html</a></li>\n</ul>\n<img data-src=\"/posts/fdc/ram7.png\" class title=\"img.png\">\n\n<ul>\n<li>ossbrowser使用：<a href=\"https://help.aliyun.com/document_detail/92268.html\">https://help.aliyun.com/document_detail&#x2F;92268.html</a></li>\n</ul>\n<p>4）验证列举和其他相关权限无误后，将ARN信息提供研发即可</p>\n<blockquote>\n<p>权限流程：</p>\n<ol>\n<li>客户端程序&#x2F;调用端发起扮演角色，此时在进入实际要获取的角色权限前，需要通过调用AssumeRole接口返回STS凭证（调用STS接口需要<strong>AliyunSTSAssumeRoleAccess</strong>权限，因此对应RAM账号需要授权该系统策略）</li>\n<li>通过返回的STS临时凭证（临时AK+临时SK+临时token）发起相关云资源接口的调用</li>\n<li>客户端使用STS发起调用时，会验证两个部分的权限策略Policy （注意：最后的权限取这两个权限Policy的交集）</li>\n</ol>\n<ul>\n<li>STS扮演的角色本身授权的权限策略是否拥有对应云资源的权限（系统或自定义的Policy）</li>\n<li>SDK&#x2F;API调用时传入的policy_text参数值，在构造调用请求时传入（<a href=\"https://help.aliyun.com/document_detail/100624.html\">https://help.aliyun.com/document_detail&#x2F;100624.html</a><img data-src=\"/posts/fdc/ram8.png\" class title=\"img.png\"></li>\n</ul>\n</blockquote>\n<h3 id=\"四、结合实际需求\"><a href=\"#四、结合实际需求\" class=\"headerlink\" title=\"四、结合实际需求\"></a>四、结合实际需求</h3><ol>\n<li><p>开发提出需求：需要某一个oss bucket的STS ARN信息</p>\n</li>\n<li><p>需要相关信息：</p>\n</li>\n</ol>\n<ul>\n<li>oss bucket具体需授权目录，必须</li>\n<li>endpoint: oss bucket所属区域，非必须</li>\n<li>bucket-name: oss bucket名称，必须</li>\n<li>调用OSS RAM账号，必须</li>\n</ul>\n<ol start=\"3\">\n<li>通过提供信息进行创建RAM角色、Policy策略新建（注意oss 细粒度的策略）、授权策略到RAM角色中，最后将新建的RAM角色的ARN描述符信息提供给研发。</li>\n</ol>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":2473,"excerpt":"<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>当通过OpenApi接口来调用云资源时（即替代控制台的操作），当前的方式有两种：</p>\n<ul>\n<li>通过 AK+SK 方式直接调用，只要该AK所属的账号有相关权限即可调用对应资源（授权分为系统策略和自定义策略）</li>\n<li>阿里云账号（RAM用户）&#x2F;阿里云服务（ECS等）&#x2F;身份提供商（SSO） 通过扮演角色获取角色的临时令牌（即通过调用AssumeRole接口），通过该临时令牌（临时令牌可设定会话时间），通过 STS接口获取到的 临时AK+临时SK+临时STSToken 进行调用对应资源</li>\n</ul>\n<h3 id=\"二、官方概念介绍\"><a href=\"#二、官方概念介绍\" class=\"headerlink\" title=\"二、官方概念介绍\"></a>二、官方概念介绍</h3><ol>\n<li>STS概念</li>\n</ol>\n<ul>\n<li>阿里云STS（Security Token Service）是阿里云提供的一种临时访问权限管理服务。RAM提供RAM用户和RAM角色两种身份。其中，RAM角色不具备永久身份凭证，而只能通过STS获取可以自定义时效和访问权限的临时身份凭证，即安全令牌（STS Token）</li>\n</ul>","more":"<p>建议阅读：<a href=\"https://help.aliyun.com/document_detail/28756.html\">https://help.aliyun.com/document_detail&#x2F;28756.html</a></p>\n<ol start=\"2\">\n<li>RAM概念</li>\n</ol>\n<ul>\n<li>RAM用户：身份实体，可访问阿里云资源的账号或程序；创建时可选择登录场景、AccessKey场景（通过程序调用API）。</li>\n<li><strong>RAM角色</strong>：虚拟用户，向信任的RAM实体账号进行授权（根据STS令牌颁发短时有效的临时访问token）；创建角色后会生成Arn描述符（角色的描述符：每个RAM角色存在唯一值且遵循阿里云arn命名规范）。</li>\n<li>RAM权限策略：一组权限集，使用简单的Policy语法进行描述（分为系统策略和自定义策略）；权限策略是实际细分授权资源集、操作集、授权条件的描述。</li>\n</ul>\n<img data-src=\"/posts/fdc/ram1.png\" class title=\"img.png\">\n\n<blockquote>\n<p>创建RAM角色时有三种类型：</p>\n<ul>\n<li><strong>阿里云账号</strong>：允许RAM用户所扮演的角色。扮演角色的RAM用户可以属于自己的阿里云账号，也可以属于其他阿里云账号。此类角色主要用来解决跨账号访问和临时授权问题</li>\n<li><strong>阿里云服务</strong>：允许云服务所扮演的角色。此类角色主要用于授权云服务代理您进行资源操作（服务又分为两种）<ul>\n<li>普通服务角色：您需要自定义角色名称，选择受信服务，并自定义权限策略</li>\n<li>服务关联角色：您只需选择受信的云服务，云服务会自带预设的角色名称和权限策略</li>\n<li>两种服务角色没太大区别，服务关联角色会多一个预设的配置（一般服务角色用户阿里云跨服务间的调用，例如ECS的授予&#x2F;收回RAM角色功能、RDS云服务调用KMS角色加密等，从某个云产品调用另一个云产品的授权）</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<img data-src=\"/posts/fdc/ram2.png\" class title=\"img.png\">\n<blockquote>\n<ul>\n<li><strong>身份提供商</strong>：允许可信身份提供商下的用户所扮演的角色。此类角色主要用于实现与阿里云的单点登录（SSO）</li>\n</ul>\n<p><strong>常用的RAM角色一般为创建 阿里云账号 方式（OSS官方推荐使用）</strong></p>\n<ul>\n<li>授权RAM角色介绍：<a href=\"https://help.aliyun.com/document_detail/116819.html\">https://help.aliyun.com/document_detail&#x2F;116819.html</a></li>\n<li>OSS官方推荐使用 阿里云账号 方式：<a href=\"https://help.aliyun.com/document_detail/100624.html\">https://help.aliyun.com/document_detail&#x2F;100624.html</a></li>\n</ul>\n</blockquote>\n<h3 id=\"三、创建STS角色，自定义授权OSS功能测试\"><a href=\"#三、创建STS角色，自定义授权OSS功能测试\" class=\"headerlink\" title=\"三、创建STS角色，自定义授权OSS功能测试\"></a>三、创建STS角色，自定义授权OSS功能测试</h3><p>1）测试账号信息<br>账号：<a href=\"mailto:&#100;&#101;&#x76;&#111;&#x70;&#115;&#x5f;&#x74;&#x65;&#115;&#x74;&#64;&#120;&#120;&#x78;&#x2e;&#x6f;&#110;&#97;&#x6c;&#x69;&#121;&#117;&#x6e;&#46;&#x63;&#x6f;&#x6d;\">&#100;&#101;&#x76;&#111;&#x70;&#115;&#x5f;&#x74;&#x65;&#115;&#x74;&#64;&#120;&#120;&#x78;&#x2e;&#x6f;&#110;&#97;&#x6c;&#x69;&#121;&#117;&#x6e;&#46;&#x63;&#x6f;&#x6d;</a><br>AK：xxxxx<br>SK：xxxxx<br>ARN：acs:ram::xxxxx:role&#x2F;xxx-sts<br>OSS Bucket名称：oss-test<br>OSS授权目录：dir111&#x2F;dir111_secondline1&#x2F;</p>\n<p>2）进行授权</p>\n<ul>\n<li>创建RAM用户（子账号），生成AK SK （此步骤忽略）</li>\n<li>测试账号添加STS权限</li>\n</ul>\n<img data-src=\"/posts/fdc/ram3.png\" class title=\"img.png\">\n\n<ul>\n<li>添加权限策略，使用自定义策略授权（OSS官方示例Policy：<a href=\"https://help.aliyun.com/document_detail/266627.html\">https://help.aliyun.com/document_detail&#x2F;266627.html</a>）</li>\n</ul>\n<img data-src=\"/posts/fdc/ram4.png\" class title=\"img.png\">\n\n<ul>\n<li>添加RAM角色并授权Policy</li>\n</ul>\n<img data-src=\"/posts/fdc/ram5.png\" class title=\"img.png\">\n\n<img data-src=\"/posts/fdc/ram6.png\" class title=\"img.png\">\n\n<p>3）测试验证（控制台无法登录RAM账号验证权限情况下，可以使用ossutil或ossbrowser工具进行验证）</p>\n<ul>\n<li>ossutil使用：<a href=\"https://help.aliyun.com/document_detail/50451.html\">https://help.aliyun.com/document_detail&#x2F;50451.html</a></li>\n</ul>\n<img data-src=\"/posts/fdc/ram7.png\" class title=\"img.png\">\n\n<ul>\n<li>ossbrowser使用：<a href=\"https://help.aliyun.com/document_detail/92268.html\">https://help.aliyun.com/document_detail&#x2F;92268.html</a></li>\n</ul>\n<p>4）验证列举和其他相关权限无误后，将ARN信息提供研发即可</p>\n<blockquote>\n<p>权限流程：</p>\n<ol>\n<li>客户端程序&#x2F;调用端发起扮演角色，此时在进入实际要获取的角色权限前，需要通过调用AssumeRole接口返回STS凭证（调用STS接口需要<strong>AliyunSTSAssumeRoleAccess</strong>权限，因此对应RAM账号需要授权该系统策略）</li>\n<li>通过返回的STS临时凭证（临时AK+临时SK+临时token）发起相关云资源接口的调用</li>\n<li>客户端使用STS发起调用时，会验证两个部分的权限策略Policy （注意：最后的权限取这两个权限Policy的交集）</li>\n</ol>\n<ul>\n<li>STS扮演的角色本身授权的权限策略是否拥有对应云资源的权限（系统或自定义的Policy）</li>\n<li>SDK&#x2F;API调用时传入的policy_text参数值，在构造调用请求时传入（<a href=\"https://help.aliyun.com/document_detail/100624.html\">https://help.aliyun.com/document_detail&#x2F;100624.html</a><img data-src=\"/posts/fdc/ram8.png\" class title=\"img.png\"></li>\n</ul>\n</blockquote>\n<h3 id=\"四、结合实际需求\"><a href=\"#四、结合实际需求\" class=\"headerlink\" title=\"四、结合实际需求\"></a>四、结合实际需求</h3><ol>\n<li><p>开发提出需求：需要某一个oss bucket的STS ARN信息</p>\n</li>\n<li><p>需要相关信息：</p>\n</li>\n</ol>\n<ul>\n<li>oss bucket具体需授权目录，必须</li>\n<li>endpoint: oss bucket所属区域，非必须</li>\n<li>bucket-name: oss bucket名称，必须</li>\n<li>调用OSS RAM账号，必须</li>\n</ul>\n<ol start=\"3\">\n<li>通过提供信息进行创建RAM角色、Policy策略新建（注意oss 细粒度的策略）、授权策略到RAM角色中，最后将新建的RAM角色的ARN描述符信息提供给研发。</li>\n</ol>"},{"title":"promotheus组件-grafana大盘配置监控大盘与告警通知","abbrlink":"9a8h","date":"2022-03-16T15:21:06.000Z","_content":"### 一、背景\n- 线上ACK 集群部署了StatefulSet 应用（rabbitMQ），由于rabbitMQ 本身自带的management 后台数据展示较为简陋且没有告警功能，因此考虑接入云上产品监控资源数据且对接告警通知功能，主要通过如下产品实现：\n   - 接入Prometheus 监控+grafana 进行数据图表展示。\n   - 利用Arms 产品获取Prometheus 的监控指标，按照设定的阈值进行告警通知功能。\n\n### 二、操作过程\n#### 1）接入Prometheus 组件监控，获取数据指标\n\n- 进入云产品 **Prometheus监控服务**，选择对应集群。（ACK集群需要先安装Prometheus 监控组件，安装参考：[ARMS Prometheus监控](https://help.aliyun.com/document_detail/161304.html)）\n{% asset_img 1.png img.png %}\n\n<!--more-->\n- 选择 组件监控 ，点击添加组件监控，选择要添加的组件。（本次示例为RabbitMQ）\n{% asset_img 2.png img.png %}\n{% asset_img 3.png img.png %}\n\n- 添加后即可进入grafana 大盘查看指标数据。验证数据方式可以通过 **curl  xxx:9419/metrics ** 获取指标数据，如图:\n{% asset_img 4.png img.png %}\n\n\n#### 2）grafana 接入数据展示\n\n- 从Pometheus 控制台，点击对应生成的大盘，进入grafana 数据展示界面\n{% asset_img 5.png img.png %}\n\n- 进入grafana Dashboard界面后，需要新增一个panel。操作如下：\n{% asset_img 6.png img.png %}\n{% asset_img 7.png img.png %}\n{% asset_img 8.png img.png %}\n\n- 在ACK集群查看展示组件相关监控数据：在对应ACK 集群中，选择 **运维管理 -- Prometheus监控 --Cloud RABBITMQ** ，即可查看大盘数据。\n{% asset_img 9.png img.png %}\n\n#### 3）创建告警阈值与通知\n\n- 创建钉钉群，并生成钉钉机器人webhook地址。参考：[https://help.aliyun.com/document_detail/251838.html](https://help.aliyun.com/document_detail/251838.html)\n\n- 在云产品 **Prometheus监控服务** 中，将钉钉机器人添加到告警联系人，使用IM机器人方式。\n{% asset_img 10.png img.png %}\n\n- 在云产品 **应用实时监控服务ARMS -- Prometheus监控 -- Prometheus告警规则** 中，点击**创建Prometheus告警规则** ，创建告警规则。告警规则详细如图：\n{% asset_img 11.png img.png %}\n{% asset_img 12.png img.png %}\n\n- 在云产品 **应用实时监控服务ARMS -- 告警管理 -- 通知策略** 中，点击**创建通知策略** ，创建告警通知策略。策略配置详细如图：\n{% asset_img 13.png img.png %}\n{% asset_img 14.png img.png %}\n\n#### 4）验证告警\n\n- 将告警规则中PromQL 语句暂时配置为：sum by (queue)(rabbitmq_queue_messages_unacknowledged{app=\"rabbi-exporter\"}) >= 0\n\n来产生告警\n\n- 在云产品 **应用实时监控服务ARMS -- 告警管理 -- 告警发送历史/告警事件历史** 中，搜索告警事件与发送结果：\n{% asset_img 15.png img.png %}\n{% asset_img 16.png img.png %}\n\n- 可以看到钉钉群已正常接收告警通知（告警恢复自动发送恢复通知并停止发送告警消息）\n{% asset_img 17.png img.png %}\n\n### 三、注意事项\n\n- ACK 集群 RabbitMQ应用告警是创建的临时告警群。后续如需添加其他人或告警通知发布到正式群组按情况进行调整。\n","source":"_posts/promotheus组件-grafana大盘配置监控大盘与告警通知.md","raw":"---\ntitle: promotheus组件-grafana大盘配置监控大盘与告警通知\nabbrlink: 9a8h\ndate: 2022-03-16 23:21:06\ncategories:\n  - 云原生\ntags:\n  - 阿里云\n  - K8S\n---\n### 一、背景\n- 线上ACK 集群部署了StatefulSet 应用（rabbitMQ），由于rabbitMQ 本身自带的management 后台数据展示较为简陋且没有告警功能，因此考虑接入云上产品监控资源数据且对接告警通知功能，主要通过如下产品实现：\n   - 接入Prometheus 监控+grafana 进行数据图表展示。\n   - 利用Arms 产品获取Prometheus 的监控指标，按照设定的阈值进行告警通知功能。\n\n### 二、操作过程\n#### 1）接入Prometheus 组件监控，获取数据指标\n\n- 进入云产品 **Prometheus监控服务**，选择对应集群。（ACK集群需要先安装Prometheus 监控组件，安装参考：[ARMS Prometheus监控](https://help.aliyun.com/document_detail/161304.html)）\n{% asset_img 1.png img.png %}\n\n<!--more-->\n- 选择 组件监控 ，点击添加组件监控，选择要添加的组件。（本次示例为RabbitMQ）\n{% asset_img 2.png img.png %}\n{% asset_img 3.png img.png %}\n\n- 添加后即可进入grafana 大盘查看指标数据。验证数据方式可以通过 **curl  xxx:9419/metrics ** 获取指标数据，如图:\n{% asset_img 4.png img.png %}\n\n\n#### 2）grafana 接入数据展示\n\n- 从Pometheus 控制台，点击对应生成的大盘，进入grafana 数据展示界面\n{% asset_img 5.png img.png %}\n\n- 进入grafana Dashboard界面后，需要新增一个panel。操作如下：\n{% asset_img 6.png img.png %}\n{% asset_img 7.png img.png %}\n{% asset_img 8.png img.png %}\n\n- 在ACK集群查看展示组件相关监控数据：在对应ACK 集群中，选择 **运维管理 -- Prometheus监控 --Cloud RABBITMQ** ，即可查看大盘数据。\n{% asset_img 9.png img.png %}\n\n#### 3）创建告警阈值与通知\n\n- 创建钉钉群，并生成钉钉机器人webhook地址。参考：[https://help.aliyun.com/document_detail/251838.html](https://help.aliyun.com/document_detail/251838.html)\n\n- 在云产品 **Prometheus监控服务** 中，将钉钉机器人添加到告警联系人，使用IM机器人方式。\n{% asset_img 10.png img.png %}\n\n- 在云产品 **应用实时监控服务ARMS -- Prometheus监控 -- Prometheus告警规则** 中，点击**创建Prometheus告警规则** ，创建告警规则。告警规则详细如图：\n{% asset_img 11.png img.png %}\n{% asset_img 12.png img.png %}\n\n- 在云产品 **应用实时监控服务ARMS -- 告警管理 -- 通知策略** 中，点击**创建通知策略** ，创建告警通知策略。策略配置详细如图：\n{% asset_img 13.png img.png %}\n{% asset_img 14.png img.png %}\n\n#### 4）验证告警\n\n- 将告警规则中PromQL 语句暂时配置为：sum by (queue)(rabbitmq_queue_messages_unacknowledged{app=\"rabbi-exporter\"}) >= 0\n\n来产生告警\n\n- 在云产品 **应用实时监控服务ARMS -- 告警管理 -- 告警发送历史/告警事件历史** 中，搜索告警事件与发送结果：\n{% asset_img 15.png img.png %}\n{% asset_img 16.png img.png %}\n\n- 可以看到钉钉群已正常接收告警通知（告警恢复自动发送恢复通知并停止发送告警消息）\n{% asset_img 17.png img.png %}\n\n### 三、注意事项\n\n- ACK 集群 RabbitMQ应用告警是创建的临时告警群。后续如需添加其他人或告警通知发布到正式群组按情况进行调整。\n","slug":"promotheus组件-grafana大盘配置监控大盘与告警通知","published":1,"updated":"2022-05-03T13:20:22.255Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl2rmhsni000c22e3950ghge3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"一、背景\"><a href=\"#一、背景\" class=\"headerlink\" title=\"一、背景\"></a>一、背景</h3><ul>\n<li>线上ACK 集群部署了StatefulSet 应用（rabbitMQ），由于rabbitMQ 本身自带的management 后台数据展示较为简陋且没有告警功能，因此考虑接入云上产品监控资源数据且对接告警通知功能，主要通过如下产品实现：<ul>\n<li>接入Prometheus 监控+grafana 进行数据图表展示。</li>\n<li>利用Arms 产品获取Prometheus 的监控指标，按照设定的阈值进行告警通知功能。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"二、操作过程\"><a href=\"#二、操作过程\" class=\"headerlink\" title=\"二、操作过程\"></a>二、操作过程</h3><h4 id=\"1）接入Prometheus-组件监控，获取数据指标\"><a href=\"#1）接入Prometheus-组件监控，获取数据指标\" class=\"headerlink\" title=\"1）接入Prometheus 组件监控，获取数据指标\"></a>1）接入Prometheus 组件监控，获取数据指标</h4><ul>\n<li>进入云产品 <strong>Prometheus监控服务</strong>，选择对应集群。（ACK集群需要先安装Prometheus 监控组件，安装参考：<a href=\"https://help.aliyun.com/document_detail/161304.html\">ARMS Prometheus监控</a>）<img data-src=\"/posts/9a8h/1.png\" class title=\"img.png\"></li>\n</ul>\n<span id=\"more\"></span>\n<ul>\n<li><p>选择 组件监控 ，点击添加组件监控，选择要添加的组件。（本次示例为RabbitMQ）</p>\n<img data-src=\"/posts/9a8h/2.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/3.png\" class title=\"img.png\">\n</li>\n<li><p>添加后即可进入grafana 大盘查看指标数据。验证数据方式可以通过 **curl  xxx:9419&#x2F;metrics ** 获取指标数据，如图:</p>\n<img data-src=\"/posts/9a8h/4.png\" class title=\"img.png\"></li>\n</ul>\n<h4 id=\"2）grafana-接入数据展示\"><a href=\"#2）grafana-接入数据展示\" class=\"headerlink\" title=\"2）grafana 接入数据展示\"></a>2）grafana 接入数据展示</h4><ul>\n<li><p>从Pometheus 控制台，点击对应生成的大盘，进入grafana 数据展示界面</p>\n<img data-src=\"/posts/9a8h/5.png\" class title=\"img.png\">\n</li>\n<li><p>进入grafana Dashboard界面后，需要新增一个panel。操作如下：</p>\n<img data-src=\"/posts/9a8h/6.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/7.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/8.png\" class title=\"img.png\">\n</li>\n<li><p>在ACK集群查看展示组件相关监控数据：在对应ACK 集群中，选择 <strong>运维管理 – Prometheus监控 –Cloud RABBITMQ</strong> ，即可查看大盘数据。</p>\n<img data-src=\"/posts/9a8h/9.png\" class title=\"img.png\"></li>\n</ul>\n<h4 id=\"3）创建告警阈值与通知\"><a href=\"#3）创建告警阈值与通知\" class=\"headerlink\" title=\"3）创建告警阈值与通知\"></a>3）创建告警阈值与通知</h4><ul>\n<li><p>创建钉钉群，并生成钉钉机器人webhook地址。参考：<a href=\"https://help.aliyun.com/document_detail/251838.html\">https://help.aliyun.com/document_detail&#x2F;251838.html</a></p>\n</li>\n<li><p>在云产品 <strong>Prometheus监控服务</strong> 中，将钉钉机器人添加到告警联系人，使用IM机器人方式。</p>\n<img data-src=\"/posts/9a8h/10.png\" class title=\"img.png\">\n</li>\n<li><p>在云产品 <strong>应用实时监控服务ARMS – Prometheus监控 – Prometheus告警规则</strong> 中，点击<strong>创建Prometheus告警规则</strong> ，创建告警规则。告警规则详细如图：</p>\n<img data-src=\"/posts/9a8h/11.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/12.png\" class title=\"img.png\">\n</li>\n<li><p>在云产品 <strong>应用实时监控服务ARMS – 告警管理 – 通知策略</strong> 中，点击<strong>创建通知策略</strong> ，创建告警通知策略。策略配置详细如图：</p>\n<img data-src=\"/posts/9a8h/13.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/14.png\" class title=\"img.png\"></li>\n</ul>\n<h4 id=\"4）验证告警\"><a href=\"#4）验证告警\" class=\"headerlink\" title=\"4）验证告警\"></a>4）验证告警</h4><ul>\n<li>将告警规则中PromQL 语句暂时配置为：sum by (queue)(rabbitmq_queue_messages_unacknowledged{app&#x3D;”rabbi-exporter”}) &gt;&#x3D; 0</li>\n</ul>\n<p>来产生告警</p>\n<ul>\n<li><p>在云产品 <strong>应用实时监控服务ARMS – 告警管理 – 告警发送历史&#x2F;告警事件历史</strong> 中，搜索告警事件与发送结果：</p>\n<img data-src=\"/posts/9a8h/15.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/16.png\" class title=\"img.png\">\n</li>\n<li><p>可以看到钉钉群已正常接收告警通知（告警恢复自动发送恢复通知并停止发送告警消息）</p>\n<img data-src=\"/posts/9a8h/17.png\" class title=\"img.png\"></li>\n</ul>\n<h3 id=\"三、注意事项\"><a href=\"#三、注意事项\" class=\"headerlink\" title=\"三、注意事项\"></a>三、注意事项</h3><ul>\n<li>ACK 集群 RabbitMQ应用告警是创建的临时告警群。后续如需添加其他人或告警通知发布到正式群组按情况进行调整。</li>\n</ul>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":1125,"excerpt":"<h3 id=\"一、背景\"><a href=\"#一、背景\" class=\"headerlink\" title=\"一、背景\"></a>一、背景</h3><ul>\n<li>线上ACK 集群部署了StatefulSet 应用（rabbitMQ），由于rabbitMQ 本身自带的management 后台数据展示较为简陋且没有告警功能，因此考虑接入云上产品监控资源数据且对接告警通知功能，主要通过如下产品实现：<ul>\n<li>接入Prometheus 监控+grafana 进行数据图表展示。</li>\n<li>利用Arms 产品获取Prometheus 的监控指标，按照设定的阈值进行告警通知功能。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"二、操作过程\"><a href=\"#二、操作过程\" class=\"headerlink\" title=\"二、操作过程\"></a>二、操作过程</h3><h4 id=\"1）接入Prometheus-组件监控，获取数据指标\"><a href=\"#1）接入Prometheus-组件监控，获取数据指标\" class=\"headerlink\" title=\"1）接入Prometheus 组件监控，获取数据指标\"></a>1）接入Prometheus 组件监控，获取数据指标</h4><ul>\n<li>进入云产品 <strong>Prometheus监控服务</strong>，选择对应集群。（ACK集群需要先安装Prometheus 监控组件，安装参考：<a href=\"https://help.aliyun.com/document_detail/161304.html\">ARMS Prometheus监控</a>）<img data-src=\"/posts/9a8h/1.png\" class title=\"img.png\"></li>\n</ul>","more":"<ul>\n<li><p>选择 组件监控 ，点击添加组件监控，选择要添加的组件。（本次示例为RabbitMQ）</p>\n<img data-src=\"/posts/9a8h/2.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/3.png\" class title=\"img.png\">\n</li>\n<li><p>添加后即可进入grafana 大盘查看指标数据。验证数据方式可以通过 **curl  xxx:9419&#x2F;metrics ** 获取指标数据，如图:</p>\n<img data-src=\"/posts/9a8h/4.png\" class title=\"img.png\"></li>\n</ul>\n<h4 id=\"2）grafana-接入数据展示\"><a href=\"#2）grafana-接入数据展示\" class=\"headerlink\" title=\"2）grafana 接入数据展示\"></a>2）grafana 接入数据展示</h4><ul>\n<li><p>从Pometheus 控制台，点击对应生成的大盘，进入grafana 数据展示界面</p>\n<img data-src=\"/posts/9a8h/5.png\" class title=\"img.png\">\n</li>\n<li><p>进入grafana Dashboard界面后，需要新增一个panel。操作如下：</p>\n<img data-src=\"/posts/9a8h/6.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/7.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/8.png\" class title=\"img.png\">\n</li>\n<li><p>在ACK集群查看展示组件相关监控数据：在对应ACK 集群中，选择 <strong>运维管理 – Prometheus监控 –Cloud RABBITMQ</strong> ，即可查看大盘数据。</p>\n<img data-src=\"/posts/9a8h/9.png\" class title=\"img.png\"></li>\n</ul>\n<h4 id=\"3）创建告警阈值与通知\"><a href=\"#3）创建告警阈值与通知\" class=\"headerlink\" title=\"3）创建告警阈值与通知\"></a>3）创建告警阈值与通知</h4><ul>\n<li><p>创建钉钉群，并生成钉钉机器人webhook地址。参考：<a href=\"https://help.aliyun.com/document_detail/251838.html\">https://help.aliyun.com/document_detail&#x2F;251838.html</a></p>\n</li>\n<li><p>在云产品 <strong>Prometheus监控服务</strong> 中，将钉钉机器人添加到告警联系人，使用IM机器人方式。</p>\n<img data-src=\"/posts/9a8h/10.png\" class title=\"img.png\">\n</li>\n<li><p>在云产品 <strong>应用实时监控服务ARMS – Prometheus监控 – Prometheus告警规则</strong> 中，点击<strong>创建Prometheus告警规则</strong> ，创建告警规则。告警规则详细如图：</p>\n<img data-src=\"/posts/9a8h/11.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/12.png\" class title=\"img.png\">\n</li>\n<li><p>在云产品 <strong>应用实时监控服务ARMS – 告警管理 – 通知策略</strong> 中，点击<strong>创建通知策略</strong> ，创建告警通知策略。策略配置详细如图：</p>\n<img data-src=\"/posts/9a8h/13.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/14.png\" class title=\"img.png\"></li>\n</ul>\n<h4 id=\"4）验证告警\"><a href=\"#4）验证告警\" class=\"headerlink\" title=\"4）验证告警\"></a>4）验证告警</h4><ul>\n<li>将告警规则中PromQL 语句暂时配置为：sum by (queue)(rabbitmq_queue_messages_unacknowledged{app&#x3D;”rabbi-exporter”}) &gt;&#x3D; 0</li>\n</ul>\n<p>来产生告警</p>\n<ul>\n<li><p>在云产品 <strong>应用实时监控服务ARMS – 告警管理 – 告警发送历史&#x2F;告警事件历史</strong> 中，搜索告警事件与发送结果：</p>\n<img data-src=\"/posts/9a8h/15.png\" class title=\"img.png\">\n<img data-src=\"/posts/9a8h/16.png\" class title=\"img.png\">\n</li>\n<li><p>可以看到钉钉群已正常接收告警通知（告警恢复自动发送恢复通知并停止发送告警消息）</p>\n<img data-src=\"/posts/9a8h/17.png\" class title=\"img.png\"></li>\n</ul>\n<h3 id=\"三、注意事项\"><a href=\"#三、注意事项\" class=\"headerlink\" title=\"三、注意事项\"></a>三、注意事项</h3><ul>\n<li>ACK 集群 RabbitMQ应用告警是创建的临时告警群。后续如需添加其他人或告警通知发布到正式群组按情况进行调整。</li>\n</ul>"},{"title":"helm 部署应用","abbrlink":"ce0f","date":"2022-05-04T13:46:04.000Z","_content":"### 一、Helm 安装与模板\n#### 1）Helm 安装部署\n\n- [安装二进制命令](https://helm.sh/zh/docs/intro/install/)（本地需要连接上kubernetes 集群）\n\n<!--more-->\n- 安装阿里云helm 插件与操作\n```bash\n# 安装 Helm 插件\nhelm plugin install https://github.com/AliyunContainerService/helm-acr\n\n<!--more-->\n# 配置本地仓库映射\nexport HELM_REPO_USERNAME='<企业版实例访问凭证中账号>'\nexport HELM_REPO_PASSWORD='<企业版实例访问凭证中密码>'\nhelm repo add <本地仓库名称> acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/<命名空间>/<Chart仓库名称> --username ${HELM_REPO_USERNAME} --password ${HELM_REPO_PASSWORD}\n#export HELM_REPO_USERNAME=devops@ib_daily\n#export HELM_REPO_PASSWORD=2RJPfCgHXroSYQga\n#helm repo add aliyun-acr-repo acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/chart-test/app-test --username ${HELM_REPO_USERNAME} --password ${HELM_REPO_PASSWORD}\n\n# 推送Chart\n#本地创建一个 Chart\nhelm create <Chart 名称>\n#helm create app-test\n#推送 Chart 目录\nhelm cm-push <Chart 名称> <本地仓库名称>\n#helm cm-push app-test aliyun-acr-repo\n#或者推送 Chart 压缩包\nhelm cm-push <Chart 名称>-<Chart 版本>.tgz <本地仓库名称>\n\n# 拉取Chart\n#从线上Chart 仓库更新本地Chart 索引\nhelm repo update\n#helm repo update aliyun-acr-repo\n#拉取Chart\nhelm fetch <本地仓库名称>/<Chart 名称> --version <Chart 版本>\n#helm fetch aliyun-acr-repo/app-test --version=20211228100329-daily\n#或者直接安装Chart\nhelm install -f values.yaml <本地仓库名称>/<Chart 名称> --version <Chart 版本>\n#helm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps\n```\n> helm install 操作实际执行按顺序安装资源：\n> - Namespace\n> - NetworkPolicy\n> - ResourceQuota\n> - LimitRange\n> - PodSecurityPolicy\n> - PodDisruptionBudget\n> - ServiceAccount\n> - Secret\n> - SecretList\n> - ConfigMap\n> - StorageClass\n> - PersistentVolume\n> - PersistentVolumeClaim\n> - CustomResourceDefinition\n> - ClusterRole\n> - ClusterRoleList\n> - ClusterRoleBinding\n> - ClusterRoleBindingList\n> - Role\n> - RoleList\n> - RoleBinding\n> - RoleBindingList\n> - Service\n> - DaemonSet\n> - Pod\n> - ReplicationController\n> - ReplicaSet\n> - Deployment\n> - HorizontalPodAutoscaler\n> - StatefulSet\n> - Job\n> - CronJob\n> - Ingress\n> - APIService\n\n[常用参数](https://helm.sh/zh/docs/helm/helm/)\n> - 查看本地仓库：helm repo list\n> - 添加/删除仓库：helm repo add xxx / helm repo remove xxx\n> - 推送/拉取charts：helm cm-push xxx / helm fetch/pull xxx\n> - 安装/卸载charts：helm install xxx /  helm uninstall xxx\n> - 升级/回滚：helm upgrade xxx / helm rollback xxx <revision>\n> - 创建本地自己的charts： helm create xxx\n> - 查看charts 可自定义配置项/获取自定义配置项 ：helm show values / helm get values\n\n\n- 配置跨账号ACR 拉取镜像\n> helm 部署时需要pull image 部署，因此需要配置跨账号ACR 拉取镜像。参考：[跨账号ACR 拉取镜像配置](https://yuque.antfin.com/kifo8h/nee5aa/wgui7o)\n\n\n\n#### 2）Helm 模板与语法编写\n> 详情参考：[Charts 文件格式，模板编写](https://www.qikqiak.com/k8strain/helm/demo/)\n\n- 内置对象\n\n- 基本目录结构内容：Chart.yaml（chart 信息说明） 、Values.yaml（自定义变量） 、charts（子chart目录，依赖）\n\n- templates 模板（实际安装到K8S 集群中的资源定义Yaml 模板文件，如deployment、pod 等）\n   - 资源模板：confimap.yaml、deployment.yaml 等\n   - 命名模板：_helpers.tpl\n\n- 函数和流水线：[函数列表](https://helm.sh/zh/docs/chart_template_guide/function_list/)，[流程控制](https://helm.sh/zh/docs/chart_template_guide/control_structures/)\n\n- 访问文件\n\n\n### 二、测试验证部署app-test\n#### 1）本地安装helm、kubectl（连接K8S 集群）二进制命令\n\n#### 2）初始化配置app-test \n\n- 初始化应用目录：helm create app-test\n\n- 应用app-test 目录结构\n\n{% asset_img helm1.png img.png %}\n\n- 关键配置信息\n```yaml\n# Chart.yaml\napiVersion: v2\nname: app-test\ndescription: application app-test for env daily\ntype: application\nversion: 20211215123042-daily\nappVersion: 20211215123042_daily\n```\n```yaml\n# values.yaml\nreplicaCount: 1\n\nimage:\n  repository: registry-chart-test.cn-hangzhou.cr.aliyuncs.com/ib-ibos/app-test\n  pullPolicy: IfNotPresent\n  tag: \"\"\n\nimagePullSecrets: []\nnameOverride: \"\"\nfullnameOverride: \"\"\n\nserviceAccount:\n  create: false\n  annotations: {}\n  name: \"\"\n\npodAnnotations: {}\n\npodSecurityContext: {}\n\nsecurityContext: {}\n\nservice:\n  type: ClusterIP\n  port: 8080\n  create: false\n\ningress:\n  enabled: false\n  className: \"\"\n  annotations: {}\n  hosts:\n    - host: reos.com.cn\n      paths:\n        - path: /\n          pathType: ImplementationSpecific\n  tls: []\n\nresources: {}\n\nautoscaling:\n  enabled: false\n  minReplicas: 1\n  maxReplicas: 100\n  targetCPUUtilizationPercentage: 80\n\nnodeSelector: {}\n\ntolerations: []\n\naffinity: {}\n```\n\n#### 3）配置镜像仓库，部署应用\n\n- 配置远程ACR 企业版仓库，参考 [Helm安装部署](#ht9xj) 部分。\n\n{% asset_img helm2.png img.png %}\n\n- 部署应用\n   - 执行部署命令\n```bash\nhelm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps\n```\n\n   - 部署结果\n{% asset_img helm3.png img.png %}\n{% asset_img helm4.png img.png %}\n\n- 更新版本\n{% asset_img helm5.png img.png %}\n\n### 三、问题点\n\n- 使用helm 命令安装需本地连接K8S 集群（需提供API Server 公网EIP）\n\n- 与阿里云Edas 产品兼容问题\n   - 使用helm 部署的应用与Edas 不共通，因此使用helm 部署的无法从Edas 上查看应用的相关信息\n   - Edas 支持将手动部署的Deployment 手动导入，参考：[https://help.aliyun.com/document_detail/202036.html](https://help.aliyun.com/document_detail/202036.html)（自行部署导入Edas 的应用暂未确定是否能完整导入Edas 组件注入的变量）\n\n- 版本控制与镜像拉取\n   - helm 通过配置values 变量值写入或更新 image->repository 的值进行pull 镜像更新，并通过 helm push 推送pull 的镜像配置到私有仓库中。\n   - helm 通过upgrade 与rollback 命令进行已部署应用的升级与回滚功能。\n\n- 与原有CI/CD 配置使用问题\n   - helm 部署只能通过本地更新配置并执行，无法与现有的 CI/CD 流水线进行配合使用，需要进行调整。\n","source":"_posts/helm-部署应用.md","raw":"---\ntitle: helm 部署应用\ncategories:\n  - 云原生\ntags:\n  - 阿里云\nabbrlink: ce0f\ndate: 2022-05-04 21:46:04\n---\n### 一、Helm 安装与模板\n#### 1）Helm 安装部署\n\n- [安装二进制命令](https://helm.sh/zh/docs/intro/install/)（本地需要连接上kubernetes 集群）\n\n<!--more-->\n- 安装阿里云helm 插件与操作\n```bash\n# 安装 Helm 插件\nhelm plugin install https://github.com/AliyunContainerService/helm-acr\n\n<!--more-->\n# 配置本地仓库映射\nexport HELM_REPO_USERNAME='<企业版实例访问凭证中账号>'\nexport HELM_REPO_PASSWORD='<企业版实例访问凭证中密码>'\nhelm repo add <本地仓库名称> acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/<命名空间>/<Chart仓库名称> --username ${HELM_REPO_USERNAME} --password ${HELM_REPO_PASSWORD}\n#export HELM_REPO_USERNAME=devops@ib_daily\n#export HELM_REPO_PASSWORD=2RJPfCgHXroSYQga\n#helm repo add aliyun-acr-repo acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/chart-test/app-test --username ${HELM_REPO_USERNAME} --password ${HELM_REPO_PASSWORD}\n\n# 推送Chart\n#本地创建一个 Chart\nhelm create <Chart 名称>\n#helm create app-test\n#推送 Chart 目录\nhelm cm-push <Chart 名称> <本地仓库名称>\n#helm cm-push app-test aliyun-acr-repo\n#或者推送 Chart 压缩包\nhelm cm-push <Chart 名称>-<Chart 版本>.tgz <本地仓库名称>\n\n# 拉取Chart\n#从线上Chart 仓库更新本地Chart 索引\nhelm repo update\n#helm repo update aliyun-acr-repo\n#拉取Chart\nhelm fetch <本地仓库名称>/<Chart 名称> --version <Chart 版本>\n#helm fetch aliyun-acr-repo/app-test --version=20211228100329-daily\n#或者直接安装Chart\nhelm install -f values.yaml <本地仓库名称>/<Chart 名称> --version <Chart 版本>\n#helm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps\n```\n> helm install 操作实际执行按顺序安装资源：\n> - Namespace\n> - NetworkPolicy\n> - ResourceQuota\n> - LimitRange\n> - PodSecurityPolicy\n> - PodDisruptionBudget\n> - ServiceAccount\n> - Secret\n> - SecretList\n> - ConfigMap\n> - StorageClass\n> - PersistentVolume\n> - PersistentVolumeClaim\n> - CustomResourceDefinition\n> - ClusterRole\n> - ClusterRoleList\n> - ClusterRoleBinding\n> - ClusterRoleBindingList\n> - Role\n> - RoleList\n> - RoleBinding\n> - RoleBindingList\n> - Service\n> - DaemonSet\n> - Pod\n> - ReplicationController\n> - ReplicaSet\n> - Deployment\n> - HorizontalPodAutoscaler\n> - StatefulSet\n> - Job\n> - CronJob\n> - Ingress\n> - APIService\n\n[常用参数](https://helm.sh/zh/docs/helm/helm/)\n> - 查看本地仓库：helm repo list\n> - 添加/删除仓库：helm repo add xxx / helm repo remove xxx\n> - 推送/拉取charts：helm cm-push xxx / helm fetch/pull xxx\n> - 安装/卸载charts：helm install xxx /  helm uninstall xxx\n> - 升级/回滚：helm upgrade xxx / helm rollback xxx <revision>\n> - 创建本地自己的charts： helm create xxx\n> - 查看charts 可自定义配置项/获取自定义配置项 ：helm show values / helm get values\n\n\n- 配置跨账号ACR 拉取镜像\n> helm 部署时需要pull image 部署，因此需要配置跨账号ACR 拉取镜像。参考：[跨账号ACR 拉取镜像配置](https://yuque.antfin.com/kifo8h/nee5aa/wgui7o)\n\n\n\n#### 2）Helm 模板与语法编写\n> 详情参考：[Charts 文件格式，模板编写](https://www.qikqiak.com/k8strain/helm/demo/)\n\n- 内置对象\n\n- 基本目录结构内容：Chart.yaml（chart 信息说明） 、Values.yaml（自定义变量） 、charts（子chart目录，依赖）\n\n- templates 模板（实际安装到K8S 集群中的资源定义Yaml 模板文件，如deployment、pod 等）\n   - 资源模板：confimap.yaml、deployment.yaml 等\n   - 命名模板：_helpers.tpl\n\n- 函数和流水线：[函数列表](https://helm.sh/zh/docs/chart_template_guide/function_list/)，[流程控制](https://helm.sh/zh/docs/chart_template_guide/control_structures/)\n\n- 访问文件\n\n\n### 二、测试验证部署app-test\n#### 1）本地安装helm、kubectl（连接K8S 集群）二进制命令\n\n#### 2）初始化配置app-test \n\n- 初始化应用目录：helm create app-test\n\n- 应用app-test 目录结构\n\n{% asset_img helm1.png img.png %}\n\n- 关键配置信息\n```yaml\n# Chart.yaml\napiVersion: v2\nname: app-test\ndescription: application app-test for env daily\ntype: application\nversion: 20211215123042-daily\nappVersion: 20211215123042_daily\n```\n```yaml\n# values.yaml\nreplicaCount: 1\n\nimage:\n  repository: registry-chart-test.cn-hangzhou.cr.aliyuncs.com/ib-ibos/app-test\n  pullPolicy: IfNotPresent\n  tag: \"\"\n\nimagePullSecrets: []\nnameOverride: \"\"\nfullnameOverride: \"\"\n\nserviceAccount:\n  create: false\n  annotations: {}\n  name: \"\"\n\npodAnnotations: {}\n\npodSecurityContext: {}\n\nsecurityContext: {}\n\nservice:\n  type: ClusterIP\n  port: 8080\n  create: false\n\ningress:\n  enabled: false\n  className: \"\"\n  annotations: {}\n  hosts:\n    - host: reos.com.cn\n      paths:\n        - path: /\n          pathType: ImplementationSpecific\n  tls: []\n\nresources: {}\n\nautoscaling:\n  enabled: false\n  minReplicas: 1\n  maxReplicas: 100\n  targetCPUUtilizationPercentage: 80\n\nnodeSelector: {}\n\ntolerations: []\n\naffinity: {}\n```\n\n#### 3）配置镜像仓库，部署应用\n\n- 配置远程ACR 企业版仓库，参考 [Helm安装部署](#ht9xj) 部分。\n\n{% asset_img helm2.png img.png %}\n\n- 部署应用\n   - 执行部署命令\n```bash\nhelm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps\n```\n\n   - 部署结果\n{% asset_img helm3.png img.png %}\n{% asset_img helm4.png img.png %}\n\n- 更新版本\n{% asset_img helm5.png img.png %}\n\n### 三、问题点\n\n- 使用helm 命令安装需本地连接K8S 集群（需提供API Server 公网EIP）\n\n- 与阿里云Edas 产品兼容问题\n   - 使用helm 部署的应用与Edas 不共通，因此使用helm 部署的无法从Edas 上查看应用的相关信息\n   - Edas 支持将手动部署的Deployment 手动导入，参考：[https://help.aliyun.com/document_detail/202036.html](https://help.aliyun.com/document_detail/202036.html)（自行部署导入Edas 的应用暂未确定是否能完整导入Edas 组件注入的变量）\n\n- 版本控制与镜像拉取\n   - helm 通过配置values 变量值写入或更新 image->repository 的值进行pull 镜像更新，并通过 helm push 推送pull 的镜像配置到私有仓库中。\n   - helm 通过upgrade 与rollback 命令进行已部署应用的升级与回滚功能。\n\n- 与原有CI/CD 配置使用问题\n   - helm 部署只能通过本地更新配置并执行，无法与现有的 CI/CD 流水线进行配合使用，需要进行调整。\n","slug":"helm-部署应用","published":1,"updated":"2022-05-04T13:57:27.305Z","_id":"cl2rn8c4g000083e36gwtenv6","comments":1,"layout":"post","photos":[],"link":"","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h3 id=\"一、Helm-安装与模板\"><a href=\"#一、Helm-安装与模板\" class=\"headerlink\" title=\"一、Helm 安装与模板\"></a>一、Helm 安装与模板</h3><h4 id=\"1）Helm-安装部署\"><a href=\"#1）Helm-安装部署\" class=\"headerlink\" title=\"1）Helm 安装部署\"></a>1）Helm 安装部署</h4><ul>\n<li><a href=\"https://helm.sh/zh/docs/intro/install/\">安装二进制命令</a>（本地需要连接上kubernetes 集群）</li>\n</ul>\n<span id=\"more\"></span>\n<ul>\n<li>安装阿里云helm 插件与操作<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装 Helm 插件</span></span><br><span class=\"line\">helm plugin install https://github.com/AliyunContainerService/helm-acr</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--more--&gt;</span><br><span class=\"line\"><span class=\"comment\"># 配置本地仓库映射</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HELM_REPO_USERNAME=<span class=\"string\">&#x27;&lt;企业版实例访问凭证中账号&gt;&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HELM_REPO_PASSWORD=<span class=\"string\">&#x27;&lt;企业版实例访问凭证中密码&gt;&#x27;</span></span><br><span class=\"line\">helm repo add &lt;本地仓库名称&gt; acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/&lt;命名空间&gt;/&lt;Chart仓库名称&gt; --username <span class=\"variable\">$&#123;HELM_REPO_USERNAME&#125;</span> --password <span class=\"variable\">$&#123;HELM_REPO_PASSWORD&#125;</span></span><br><span class=\"line\"><span class=\"comment\">#export HELM_REPO_USERNAME=devops@ib_daily</span></span><br><span class=\"line\"><span class=\"comment\">#export HELM_REPO_PASSWORD=2RJPfCgHXroSYQga</span></span><br><span class=\"line\"><span class=\"comment\">#helm repo add aliyun-acr-repo acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/chart-test/app-test --username $&#123;HELM_REPO_USERNAME&#125; --password $&#123;HELM_REPO_PASSWORD&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 推送Chart</span></span><br><span class=\"line\"><span class=\"comment\">#本地创建一个 Chart</span></span><br><span class=\"line\">helm create &lt;Chart 名称&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm create app-test</span></span><br><span class=\"line\"><span class=\"comment\">#推送 Chart 目录</span></span><br><span class=\"line\">helm cm-push &lt;Chart 名称&gt; &lt;本地仓库名称&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm cm-push app-test aliyun-acr-repo</span></span><br><span class=\"line\"><span class=\"comment\">#或者推送 Chart 压缩包</span></span><br><span class=\"line\">helm cm-push &lt;Chart 名称&gt;-&lt;Chart 版本&gt;.tgz &lt;本地仓库名称&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 拉取Chart</span></span><br><span class=\"line\"><span class=\"comment\">#从线上Chart 仓库更新本地Chart 索引</span></span><br><span class=\"line\">helm repo update</span><br><span class=\"line\"><span class=\"comment\">#helm repo update aliyun-acr-repo</span></span><br><span class=\"line\"><span class=\"comment\">#拉取Chart</span></span><br><span class=\"line\">helm fetch &lt;本地仓库名称&gt;/&lt;Chart 名称&gt; --version &lt;Chart 版本&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm fetch aliyun-acr-repo/app-test --version=20211228100329-daily</span></span><br><span class=\"line\"><span class=\"comment\">#或者直接安装Chart</span></span><br><span class=\"line\">helm install -f values.yaml &lt;本地仓库名称&gt;/&lt;Chart 名称&gt; --version &lt;Chart 版本&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>helm install 操作实际执行按顺序安装资源：</p>\n<ul>\n<li>Namespace</li>\n<li>NetworkPolicy</li>\n<li>ResourceQuota</li>\n<li>LimitRange</li>\n<li>PodSecurityPolicy</li>\n<li>PodDisruptionBudget</li>\n<li>ServiceAccount</li>\n<li>Secret</li>\n<li>SecretList</li>\n<li>ConfigMap</li>\n<li>StorageClass</li>\n<li>PersistentVolume</li>\n<li>PersistentVolumeClaim</li>\n<li>CustomResourceDefinition</li>\n<li>ClusterRole</li>\n<li>ClusterRoleList</li>\n<li>ClusterRoleBinding</li>\n<li>ClusterRoleBindingList</li>\n<li>Role</li>\n<li>RoleList</li>\n<li>RoleBinding</li>\n<li>RoleBindingList</li>\n<li>Service</li>\n<li>DaemonSet</li>\n<li>Pod</li>\n<li>ReplicationController</li>\n<li>ReplicaSet</li>\n<li>Deployment</li>\n<li>HorizontalPodAutoscaler</li>\n<li>StatefulSet</li>\n<li>Job</li>\n<li>CronJob</li>\n<li>Ingress</li>\n<li>APIService</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<p><a href=\"https://helm.sh/zh/docs/helm/helm/\">常用参数</a></p>\n<blockquote>\n<ul>\n<li>查看本地仓库：helm repo list</li>\n<li>添加&#x2F;删除仓库：helm repo add xxx &#x2F; helm repo remove xxx</li>\n<li>推送&#x2F;拉取charts：helm cm-push xxx &#x2F; helm fetch&#x2F;pull xxx</li>\n<li>安装&#x2F;卸载charts：helm install xxx &#x2F;  helm uninstall xxx</li>\n<li>升级&#x2F;回滚：helm upgrade xxx &#x2F; helm rollback xxx <revision></revision></li>\n<li>创建本地自己的charts： helm create xxx</li>\n<li>查看charts 可自定义配置项&#x2F;获取自定义配置项 ：helm show values &#x2F; helm get values</li>\n</ul>\n</blockquote>\n<ul>\n<li>配置跨账号ACR 拉取镜像<blockquote>\n<p>helm 部署时需要pull image 部署，因此需要配置跨账号ACR 拉取镜像。参考：<a href=\"https://yuque.antfin.com/kifo8h/nee5aa/wgui7o\">跨账号ACR 拉取镜像配置</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"2）Helm-模板与语法编写\"><a href=\"#2）Helm-模板与语法编写\" class=\"headerlink\" title=\"2）Helm 模板与语法编写\"></a>2）Helm 模板与语法编写</h4><blockquote>\n<p>详情参考：<a href=\"https://www.qikqiak.com/k8strain/helm/demo/\">Charts 文件格式，模板编写</a></p>\n</blockquote>\n<ul>\n<li><p>内置对象</p>\n</li>\n<li><p>基本目录结构内容：Chart.yaml（chart 信息说明） 、Values.yaml（自定义变量） 、charts（子chart目录，依赖）</p>\n</li>\n<li><p>templates 模板（实际安装到K8S 集群中的资源定义Yaml 模板文件，如deployment、pod 等）</p>\n<ul>\n<li>资源模板：confimap.yaml、deployment.yaml 等</li>\n<li>命名模板：_helpers.tpl</li>\n</ul>\n</li>\n<li><p>函数和流水线：<a href=\"https://helm.sh/zh/docs/chart_template_guide/function_list/\">函数列表</a>，<a href=\"https://helm.sh/zh/docs/chart_template_guide/control_structures/\">流程控制</a></p>\n</li>\n<li><p>访问文件</p>\n</li>\n</ul>\n<h3 id=\"二、测试验证部署app-test\"><a href=\"#二、测试验证部署app-test\" class=\"headerlink\" title=\"二、测试验证部署app-test\"></a>二、测试验证部署app-test</h3><h4 id=\"1）本地安装helm、kubectl（连接K8S-集群）二进制命令\"><a href=\"#1）本地安装helm、kubectl（连接K8S-集群）二进制命令\" class=\"headerlink\" title=\"1）本地安装helm、kubectl（连接K8S 集群）二进制命令\"></a>1）本地安装helm、kubectl（连接K8S 集群）二进制命令</h4><h4 id=\"2）初始化配置app-test\"><a href=\"#2）初始化配置app-test\" class=\"headerlink\" title=\"2）初始化配置app-test\"></a>2）初始化配置app-test</h4><ul>\n<li><p>初始化应用目录：helm create app-test</p>\n</li>\n<li><p>应用app-test 目录结构</p>\n</li>\n</ul>\n<img data-src=\"/posts/ce0f/helm1.png\" class title=\"img.png\">\n\n<ul>\n<li>关键配置信息<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Chart.yaml</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v2</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">app-test</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">application</span> <span class=\"string\">app-test</span> <span class=\"string\">for</span> <span class=\"string\">env</span> <span class=\"string\">daily</span></span><br><span class=\"line\"><span class=\"attr\">type:</span> <span class=\"string\">application</span></span><br><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"number\">20211215123042</span><span class=\"string\">-daily</span></span><br><span class=\"line\"><span class=\"attr\">appVersion:</span> <span class=\"string\">20211215123042_daily</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># values.yaml</span></span><br><span class=\"line\"><span class=\"attr\">replicaCount:</span> <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">image:</span></span><br><span class=\"line\">  <span class=\"attr\">repository:</span> <span class=\"string\">registry-chart-test.cn-hangzhou.cr.aliyuncs.com/ib-ibos/app-test</span></span><br><span class=\"line\">  <span class=\"attr\">pullPolicy:</span> <span class=\"string\">IfNotPresent</span></span><br><span class=\"line\">  <span class=\"attr\">tag:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">imagePullSecrets:</span> []</span><br><span class=\"line\"><span class=\"attr\">nameOverride:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"attr\">fullnameOverride:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">serviceAccount:</span></span><br><span class=\"line\">  <span class=\"attr\">create:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">annotations:</span> &#123;&#125;</span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">podAnnotations:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">podSecurityContext:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">securityContext:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">service:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">ClusterIP</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">8080</span></span><br><span class=\"line\">  <span class=\"attr\">create:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">ingress:</span></span><br><span class=\"line\">  <span class=\"attr\">enabled:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">className:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">annotations:</span> &#123;&#125;</span><br><span class=\"line\">  <span class=\"attr\">hosts:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">host:</span> <span class=\"string\">reos.com.cn</span></span><br><span class=\"line\">      <span class=\"attr\">paths:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">path:</span> <span class=\"string\">/</span></span><br><span class=\"line\">          <span class=\"attr\">pathType:</span> <span class=\"string\">ImplementationSpecific</span></span><br><span class=\"line\">  <span class=\"attr\">tls:</span> []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">resources:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">autoscaling:</span></span><br><span class=\"line\">  <span class=\"attr\">enabled:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">minReplicas:</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"attr\">maxReplicas:</span> <span class=\"number\">100</span></span><br><span class=\"line\">  <span class=\"attr\">targetCPUUtilizationPercentage:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">nodeSelector:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">tolerations:</span> []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">affinity:</span> &#123;&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"3）配置镜像仓库，部署应用\"><a href=\"#3）配置镜像仓库，部署应用\" class=\"headerlink\" title=\"3）配置镜像仓库，部署应用\"></a>3）配置镜像仓库，部署应用</h4><ul>\n<li>配置远程ACR 企业版仓库，参考 <a href=\"#ht9xj\">Helm安装部署</a> 部分。</li>\n</ul>\n<img data-src=\"/posts/ce0f/helm2.png\" class title=\"img.png\">\n\n<ul>\n<li>部署应用<ul>\n<li><p>执行部署命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>部署结果</p>\n</li>\n</ul>\n</li>\n</ul>\n<img data-src=\"/posts/ce0f/helm3.png\" class title=\"img.png\">\n<img data-src=\"/posts/ce0f/helm4.png\" class title=\"img.png\">\n\n<ul>\n<li>更新版本<img data-src=\"/posts/ce0f/helm5.png\" class title=\"img.png\"></li>\n</ul>\n<h3 id=\"三、问题点\"><a href=\"#三、问题点\" class=\"headerlink\" title=\"三、问题点\"></a>三、问题点</h3><ul>\n<li><p>使用helm 命令安装需本地连接K8S 集群（需提供API Server 公网EIP）</p>\n</li>\n<li><p>与阿里云Edas 产品兼容问题</p>\n<ul>\n<li>使用helm 部署的应用与Edas 不共通，因此使用helm 部署的无法从Edas 上查看应用的相关信息</li>\n<li>Edas 支持将手动部署的Deployment 手动导入，参考：<a href=\"https://help.aliyun.com/document_detail/202036.html\">https://help.aliyun.com/document_detail&#x2F;202036.html</a>（自行部署导入Edas 的应用暂未确定是否能完整导入Edas 组件注入的变量）</li>\n</ul>\n</li>\n<li><p>版本控制与镜像拉取</p>\n<ul>\n<li>helm 通过配置values 变量值写入或更新 image-&gt;repository 的值进行pull 镜像更新，并通过 helm push 推送pull 的镜像配置到私有仓库中。</li>\n<li>helm 通过upgrade 与rollback 命令进行已部署应用的升级与回滚功能。</li>\n</ul>\n</li>\n<li><p>与原有CI&#x2F;CD 配置使用问题</p>\n<ul>\n<li>helm 部署只能通过本地更新配置并执行，无法与现有的 CI&#x2F;CD 流水线进行配合使用，需要进行调整。</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{"footer":"","styles":".post {\n  margin-top: 50px;\n  margin-bottom: 50px;\n  padding: 25px;\n  -webkit-box-shadow: 0 0 5px rgba(202,203,203,0.5);\n  -moz-box-shadow: 0 0 5px rgba(202,203,204,0.5);\n}\n.headband {\n  display: none;\n}\nbody {\n  background: url(\"/images/background.jpeg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: rgba(255,255,255,0.9);\n}\n.popup {\n  opacity: 0.9;\n}\n.post-block.page {\n  margin-top: 40px;\n}\n.category-all-page {\n  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n  background-color: #797d7f;\n  padding: 20px 30px 60px 30px;\n  border-radius: 25px 25px 25px 25px;\n}\n.category-all-title {\n  font-family: Impact;\n  font-size: 24px;\n  color: #0ff;\n}\n.category-list {\n  overflow: auto;\n}\n.category-list li {\n  height: 100%;\n  float: left;\n  border-right: 3px solid #222;\n  padding: 0 20px;\n}\n.category-all ul li {\n  list-style: none !important;\n}\n.category-list li:last-child {\n  border-right: none;\n}\n.category-list li a {\n  font-size: 16px;\n  text-decoration: none;\n  color: #7fff00;\n  font-family: Helvetica, Verdana, sans-serif;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  -ms-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n.category-list li a:hover {\n  color: #000;\n}\n.category-list li.active a {\n  font-weight: bold;\n  color: #000;\n}\n.tag-cloud a {\n  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;\n  padding: 2px 10px;\n  margin: 8px;\n  background: rgba(193,66,92,0);\n  border-bottom: none;\n  border-radius: 20px;\n}\ncode {\n  background: #555;\n  color: #fff;\n}\n","variables":""}},"length":4140,"excerpt":"<h3 id=\"一、Helm-安装与模板\"><a href=\"#一、Helm-安装与模板\" class=\"headerlink\" title=\"一、Helm 安装与模板\"></a>一、Helm 安装与模板</h3><h4 id=\"1）Helm-安装部署\"><a href=\"#1）Helm-安装部署\" class=\"headerlink\" title=\"1）Helm 安装部署\"></a>1）Helm 安装部署</h4><ul>\n<li><a href=\"https://helm.sh/zh/docs/intro/install/\">安装二进制命令</a>（本地需要连接上kubernetes 集群）</li>\n</ul>","more":"<ul>\n<li>安装阿里云helm 插件与操作<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装 Helm 插件</span></span><br><span class=\"line\">helm plugin install https://github.com/AliyunContainerService/helm-acr</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--more--&gt;</span><br><span class=\"line\"><span class=\"comment\"># 配置本地仓库映射</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HELM_REPO_USERNAME=<span class=\"string\">&#x27;&lt;企业版实例访问凭证中账号&gt;&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> HELM_REPO_PASSWORD=<span class=\"string\">&#x27;&lt;企业版实例访问凭证中密码&gt;&#x27;</span></span><br><span class=\"line\">helm repo add &lt;本地仓库名称&gt; acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/&lt;命名空间&gt;/&lt;Chart仓库名称&gt; --username <span class=\"variable\">$&#123;HELM_REPO_USERNAME&#125;</span> --password <span class=\"variable\">$&#123;HELM_REPO_PASSWORD&#125;</span></span><br><span class=\"line\"><span class=\"comment\">#export HELM_REPO_USERNAME=devops@ib_daily</span></span><br><span class=\"line\"><span class=\"comment\">#export HELM_REPO_PASSWORD=2RJPfCgHXroSYQga</span></span><br><span class=\"line\"><span class=\"comment\">#helm repo add aliyun-acr-repo acr://registry-chart-test.cn-hangzhou.cr.aliyuncs.com/chart-test/app-test --username $&#123;HELM_REPO_USERNAME&#125; --password $&#123;HELM_REPO_PASSWORD&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 推送Chart</span></span><br><span class=\"line\"><span class=\"comment\">#本地创建一个 Chart</span></span><br><span class=\"line\">helm create &lt;Chart 名称&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm create app-test</span></span><br><span class=\"line\"><span class=\"comment\">#推送 Chart 目录</span></span><br><span class=\"line\">helm cm-push &lt;Chart 名称&gt; &lt;本地仓库名称&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm cm-push app-test aliyun-acr-repo</span></span><br><span class=\"line\"><span class=\"comment\">#或者推送 Chart 压缩包</span></span><br><span class=\"line\">helm cm-push &lt;Chart 名称&gt;-&lt;Chart 版本&gt;.tgz &lt;本地仓库名称&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 拉取Chart</span></span><br><span class=\"line\"><span class=\"comment\">#从线上Chart 仓库更新本地Chart 索引</span></span><br><span class=\"line\">helm repo update</span><br><span class=\"line\"><span class=\"comment\">#helm repo update aliyun-acr-repo</span></span><br><span class=\"line\"><span class=\"comment\">#拉取Chart</span></span><br><span class=\"line\">helm fetch &lt;本地仓库名称&gt;/&lt;Chart 名称&gt; --version &lt;Chart 版本&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm fetch aliyun-acr-repo/app-test --version=20211228100329-daily</span></span><br><span class=\"line\"><span class=\"comment\">#或者直接安装Chart</span></span><br><span class=\"line\">helm install -f values.yaml &lt;本地仓库名称&gt;/&lt;Chart 名称&gt; --version &lt;Chart 版本&gt;</span><br><span class=\"line\"><span class=\"comment\">#helm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>helm install 操作实际执行按顺序安装资源：</p>\n<ul>\n<li>Namespace</li>\n<li>NetworkPolicy</li>\n<li>ResourceQuota</li>\n<li>LimitRange</li>\n<li>PodSecurityPolicy</li>\n<li>PodDisruptionBudget</li>\n<li>ServiceAccount</li>\n<li>Secret</li>\n<li>SecretList</li>\n<li>ConfigMap</li>\n<li>StorageClass</li>\n<li>PersistentVolume</li>\n<li>PersistentVolumeClaim</li>\n<li>CustomResourceDefinition</li>\n<li>ClusterRole</li>\n<li>ClusterRoleList</li>\n<li>ClusterRoleBinding</li>\n<li>ClusterRoleBindingList</li>\n<li>Role</li>\n<li>RoleList</li>\n<li>RoleBinding</li>\n<li>RoleBindingList</li>\n<li>Service</li>\n<li>DaemonSet</li>\n<li>Pod</li>\n<li>ReplicationController</li>\n<li>ReplicaSet</li>\n<li>Deployment</li>\n<li>HorizontalPodAutoscaler</li>\n<li>StatefulSet</li>\n<li>Job</li>\n<li>CronJob</li>\n<li>Ingress</li>\n<li>APIService</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<p><a href=\"https://helm.sh/zh/docs/helm/helm/\">常用参数</a></p>\n<blockquote>\n<ul>\n<li>查看本地仓库：helm repo list</li>\n<li>添加&#x2F;删除仓库：helm repo add xxx &#x2F; helm repo remove xxx</li>\n<li>推送&#x2F;拉取charts：helm cm-push xxx &#x2F; helm fetch&#x2F;pull xxx</li>\n<li>安装&#x2F;卸载charts：helm install xxx &#x2F;  helm uninstall xxx</li>\n<li>升级&#x2F;回滚：helm upgrade xxx &#x2F; helm rollback xxx <revision></revision></li>\n<li>创建本地自己的charts： helm create xxx</li>\n<li>查看charts 可自定义配置项&#x2F;获取自定义配置项 ：helm show values &#x2F; helm get values</li>\n</ul>\n</blockquote>\n<ul>\n<li>配置跨账号ACR 拉取镜像<blockquote>\n<p>helm 部署时需要pull image 部署，因此需要配置跨账号ACR 拉取镜像。参考：<a href=\"https://yuque.antfin.com/kifo8h/nee5aa/wgui7o\">跨账号ACR 拉取镜像配置</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"2）Helm-模板与语法编写\"><a href=\"#2）Helm-模板与语法编写\" class=\"headerlink\" title=\"2）Helm 模板与语法编写\"></a>2）Helm 模板与语法编写</h4><blockquote>\n<p>详情参考：<a href=\"https://www.qikqiak.com/k8strain/helm/demo/\">Charts 文件格式，模板编写</a></p>\n</blockquote>\n<ul>\n<li><p>内置对象</p>\n</li>\n<li><p>基本目录结构内容：Chart.yaml（chart 信息说明） 、Values.yaml（自定义变量） 、charts（子chart目录，依赖）</p>\n</li>\n<li><p>templates 模板（实际安装到K8S 集群中的资源定义Yaml 模板文件，如deployment、pod 等）</p>\n<ul>\n<li>资源模板：confimap.yaml、deployment.yaml 等</li>\n<li>命名模板：_helpers.tpl</li>\n</ul>\n</li>\n<li><p>函数和流水线：<a href=\"https://helm.sh/zh/docs/chart_template_guide/function_list/\">函数列表</a>，<a href=\"https://helm.sh/zh/docs/chart_template_guide/control_structures/\">流程控制</a></p>\n</li>\n<li><p>访问文件</p>\n</li>\n</ul>\n<h3 id=\"二、测试验证部署app-test\"><a href=\"#二、测试验证部署app-test\" class=\"headerlink\" title=\"二、测试验证部署app-test\"></a>二、测试验证部署app-test</h3><h4 id=\"1）本地安装helm、kubectl（连接K8S-集群）二进制命令\"><a href=\"#1）本地安装helm、kubectl（连接K8S-集群）二进制命令\" class=\"headerlink\" title=\"1）本地安装helm、kubectl（连接K8S 集群）二进制命令\"></a>1）本地安装helm、kubectl（连接K8S 集群）二进制命令</h4><h4 id=\"2）初始化配置app-test\"><a href=\"#2）初始化配置app-test\" class=\"headerlink\" title=\"2）初始化配置app-test\"></a>2）初始化配置app-test</h4><ul>\n<li><p>初始化应用目录：helm create app-test</p>\n</li>\n<li><p>应用app-test 目录结构</p>\n</li>\n</ul>\n<img data-src=\"/posts/ce0f/helm1.png\" class title=\"img.png\">\n\n<ul>\n<li>关键配置信息<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Chart.yaml</span></span><br><span class=\"line\"><span class=\"attr\">apiVersion:</span> <span class=\"string\">v2</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">app-test</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">application</span> <span class=\"string\">app-test</span> <span class=\"string\">for</span> <span class=\"string\">env</span> <span class=\"string\">daily</span></span><br><span class=\"line\"><span class=\"attr\">type:</span> <span class=\"string\">application</span></span><br><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"number\">20211215123042</span><span class=\"string\">-daily</span></span><br><span class=\"line\"><span class=\"attr\">appVersion:</span> <span class=\"string\">20211215123042_daily</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># values.yaml</span></span><br><span class=\"line\"><span class=\"attr\">replicaCount:</span> <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">image:</span></span><br><span class=\"line\">  <span class=\"attr\">repository:</span> <span class=\"string\">registry-chart-test.cn-hangzhou.cr.aliyuncs.com/ib-ibos/app-test</span></span><br><span class=\"line\">  <span class=\"attr\">pullPolicy:</span> <span class=\"string\">IfNotPresent</span></span><br><span class=\"line\">  <span class=\"attr\">tag:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">imagePullSecrets:</span> []</span><br><span class=\"line\"><span class=\"attr\">nameOverride:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"attr\">fullnameOverride:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">serviceAccount:</span></span><br><span class=\"line\">  <span class=\"attr\">create:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">annotations:</span> &#123;&#125;</span><br><span class=\"line\">  <span class=\"attr\">name:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">podAnnotations:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">podSecurityContext:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">securityContext:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">service:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">ClusterIP</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">8080</span></span><br><span class=\"line\">  <span class=\"attr\">create:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">ingress:</span></span><br><span class=\"line\">  <span class=\"attr\">enabled:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">className:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">annotations:</span> &#123;&#125;</span><br><span class=\"line\">  <span class=\"attr\">hosts:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">host:</span> <span class=\"string\">reos.com.cn</span></span><br><span class=\"line\">      <span class=\"attr\">paths:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"attr\">path:</span> <span class=\"string\">/</span></span><br><span class=\"line\">          <span class=\"attr\">pathType:</span> <span class=\"string\">ImplementationSpecific</span></span><br><span class=\"line\">  <span class=\"attr\">tls:</span> []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">resources:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">autoscaling:</span></span><br><span class=\"line\">  <span class=\"attr\">enabled:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">minReplicas:</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"attr\">maxReplicas:</span> <span class=\"number\">100</span></span><br><span class=\"line\">  <span class=\"attr\">targetCPUUtilizationPercentage:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">nodeSelector:</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">tolerations:</span> []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">affinity:</span> &#123;&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"3）配置镜像仓库，部署应用\"><a href=\"#3）配置镜像仓库，部署应用\" class=\"headerlink\" title=\"3）配置镜像仓库，部署应用\"></a>3）配置镜像仓库，部署应用</h4><ul>\n<li>配置远程ACR 企业版仓库，参考 <a href=\"#ht9xj\">Helm安装部署</a> 部分。</li>\n</ul>\n<img data-src=\"/posts/ce0f/helm2.png\" class title=\"img.png\">\n\n<ul>\n<li>部署应用<ul>\n<li><p>执行部署命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm install app-test aliyun-acr-repo/app-test --version 20211228100329-daily --namespace daily-apps</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>部署结果</p>\n</li>\n</ul>\n</li>\n</ul>\n<img data-src=\"/posts/ce0f/helm3.png\" class title=\"img.png\">\n<img data-src=\"/posts/ce0f/helm4.png\" class title=\"img.png\">\n\n<ul>\n<li>更新版本<img data-src=\"/posts/ce0f/helm5.png\" class title=\"img.png\"></li>\n</ul>\n<h3 id=\"三、问题点\"><a href=\"#三、问题点\" class=\"headerlink\" title=\"三、问题点\"></a>三、问题点</h3><ul>\n<li><p>使用helm 命令安装需本地连接K8S 集群（需提供API Server 公网EIP）</p>\n</li>\n<li><p>与阿里云Edas 产品兼容问题</p>\n<ul>\n<li>使用helm 部署的应用与Edas 不共通，因此使用helm 部署的无法从Edas 上查看应用的相关信息</li>\n<li>Edas 支持将手动部署的Deployment 手动导入，参考：<a href=\"https://help.aliyun.com/document_detail/202036.html\">https://help.aliyun.com/document_detail&#x2F;202036.html</a>（自行部署导入Edas 的应用暂未确定是否能完整导入Edas 组件注入的变量）</li>\n</ul>\n</li>\n<li><p>版本控制与镜像拉取</p>\n<ul>\n<li>helm 通过配置values 变量值写入或更新 image-&gt;repository 的值进行pull 镜像更新，并通过 helm push 推送pull 的镜像配置到私有仓库中。</li>\n<li>helm 通过upgrade 与rollback 命令进行已部署应用的升级与回滚功能。</li>\n</ul>\n</li>\n<li><p>与原有CI&#x2F;CD 配置使用问题</p>\n<ul>\n<li>helm 部署只能通过本地更新配置并执行，无法与现有的 CI&#x2F;CD 流水线进行配合使用，需要进行调整。</li>\n</ul>\n</li>\n</ul>"}],"PostAsset":[{"_id":"source/_posts/k8s-rbac权限控制/1572c2ebc891.png","slug":"1572c2ebc891.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/21812e1bbfad.png","slug":"21812e1bbfad.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/634be995b5bc.png","slug":"634be995b5bc.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/7528aa1bf3da.png","slug":"7528aa1bf3da.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/ab8f20ce2acc.png","slug":"ab8f20ce2acc.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/c31775e8bbe3.png","slug":"c31775e8bbe3.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/d6da8c845c41.png","slug":"d6da8c845c41.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/de3ebdd4f016.png","slug":"de3ebdd4f016.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/de4222775e67.png","slug":"de4222775e67.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/k8s-rbac权限控制/gaisu.png","slug":"gaisu.png","post":"cl2rmhsng000522e374mkdwio","modified":0,"renderable":0},{"_id":"source/_posts/networkpolicy隔离策略/2afdc3d69fa9.png","slug":"2afdc3d69fa9.png","post":"cl2rmhsnh000922e3cp8p4hze","modified":0,"renderable":0},{"_id":"source/_posts/networkpolicy隔离策略/6bbe6aab7201.png","slug":"6bbe6aab7201.png","post":"cl2rmhsnh000922e3cp8p4hze","modified":0,"renderable":0},{"_id":"source/_posts/networkpolicy隔离策略/7b70de99e5f7.png","slug":"7b70de99e5f7.png","post":"cl2rmhsnh000922e3cp8p4hze","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram1.png","slug":"ram1.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram2.png","slug":"ram2.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram3.png","slug":"ram3.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram4.png","slug":"ram4.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram5.png","slug":"ram5.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram6.png","slug":"ram6.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram7.png","slug":"ram7.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/阿里云-ram与sts权限/ram8.png","slug":"ram8.png","post":"cl2rmhsni000b22e31f77aaqz","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/1.png","slug":"1.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/10.png","slug":"10.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/11.png","slug":"11.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/12.png","slug":"12.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/13.png","slug":"13.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/14.png","slug":"14.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/15.png","slug":"15.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/16.png","slug":"16.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/17.png","slug":"17.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/2.png","slug":"2.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/3.png","slug":"3.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/4.png","slug":"4.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/5.png","slug":"5.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/6.png","slug":"6.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/7.png","slug":"7.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/8.png","slug":"8.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/promotheus组件-grafana大盘配置监控大盘与告警通知/9.png","slug":"9.png","post":"cl2rmhsni000c22e3950ghge3","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf1.png","slug":"gf1.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf10.png","slug":"gf10.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf11.png","slug":"gf11.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf12.png","slug":"gf12.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf13.png","slug":"gf13.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf14.png","slug":"gf14.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf15.png","slug":"gf15.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf2.png","slug":"gf2.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf3.png","slug":"gf3.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf4.png","slug":"gf4.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf5.png","slug":"gf5.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf6.png","slug":"gf6.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf7.png","slug":"gf7.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf8.png","slug":"gf8.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/git-flow-工作流理解/gf9.png","slug":"gf9.png","post":"cl2rmhsnf000322e38va7ho67","modified":0,"renderable":0},{"_id":"source/_posts/helm-部署应用/helm1.png","slug":"helm1.png","post":"cl2rn8c4g000083e36gwtenv6","modified":0,"renderable":0},{"_id":"source/_posts/helm-部署应用/helm2.png","slug":"helm2.png","post":"cl2rn8c4g000083e36gwtenv6","modified":0,"renderable":0},{"_id":"source/_posts/helm-部署应用/helm3.png","slug":"helm3.png","post":"cl2rn8c4g000083e36gwtenv6","modified":0,"renderable":0},{"_id":"source/_posts/helm-部署应用/helm4.png","slug":"helm4.png","post":"cl2rn8c4g000083e36gwtenv6","modified":0,"renderable":0},{"_id":"source/_posts/helm-部署应用/helm5.png","slug":"helm5.png","post":"cl2rn8c4g000083e36gwtenv6","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cl2rmhsnf000322e38va7ho67","category_id":"cl2rmhsnh000622e337nz16xn","_id":"cl2rmhsnj000g22e3abva6gct"},{"post_id":"cl2rmhsng000522e374mkdwio","category_id":"cl2rmhsni000d22e360s53t85","_id":"cl2rmhsnj000k22e3hfridkix"},{"post_id":"cl2rmhsnh000922e3cp8p4hze","category_id":"cl2rmhsni000d22e360s53t85","_id":"cl2rmhsnk000n22e3bczb8crg"},{"post_id":"cl2rmhsni000c22e3950ghge3","category_id":"cl2rmhsni000d22e360s53t85","_id":"cl2rmhsnk000q22e34o2k1lqn"},{"post_id":"cl2rn8c4g000083e36gwtenv6","category_id":"cl2rmhsni000d22e360s53t85","_id":"cl2rn8c4h000283e3bplr92g6"}],"PostTag":[{"post_id":"cl2rmhsnf000322e38va7ho67","tag_id":"cl2rmhsnh000722e3d2z548ck","_id":"cl2rmhsni000f22e3990jcd20"},{"post_id":"cl2rmhsng000522e374mkdwio","tag_id":"cl2rmhsni000e22e39xbx6gbl","_id":"cl2rmhsnk000m22e3539p5x2n"},{"post_id":"cl2rmhsng000522e374mkdwio","tag_id":"cl2rmhsnj000i22e3ckz0ee7u","_id":"cl2rmhsnk000o22e3b4hmhoqa"},{"post_id":"cl2rmhsnh000922e3cp8p4hze","tag_id":"cl2rmhsni000e22e39xbx6gbl","_id":"cl2rmhsnk000s22e32xps4c60"},{"post_id":"cl2rmhsnh000922e3cp8p4hze","tag_id":"cl2rmhsnj000i22e3ckz0ee7u","_id":"cl2rmhsnk000t22e31314fzss"},{"post_id":"cl2rmhsni000b22e31f77aaqz","tag_id":"cl2rmhsni000e22e39xbx6gbl","_id":"cl2rmhsnk000v22e3h7iwe3a5"},{"post_id":"cl2rmhsni000c22e3950ghge3","tag_id":"cl2rmhsni000e22e39xbx6gbl","_id":"cl2rmhsnk000x22e31qxf00k8"},{"post_id":"cl2rmhsni000c22e3950ghge3","tag_id":"cl2rmhsnj000i22e3ckz0ee7u","_id":"cl2rmhsnk000y22e37zdl9ci2"},{"post_id":"cl2rn8c4g000083e36gwtenv6","tag_id":"cl2rmhsni000e22e39xbx6gbl","_id":"cl2rn8c4h000183e35c3o50xr"}],"Tag":[{"name":"git","_id":"cl2rmhsnh000722e3d2z548ck"},{"name":"阿里云","_id":"cl2rmhsni000e22e39xbx6gbl"},{"name":"K8S","_id":"cl2rmhsnj000i22e3ckz0ee7u"}]}}